Ассоциация: композиция и агрегация
<p>----------------------------------------</p>
Сегодня изучим другие типы отношений между классами — композицию и агрегацию
<p>----------------------------------------</p>
<h2>Композиция и агрегирование</h2>Классы и объекты могут быть связаны друг с другом. Наследование описывает связь «является» (или по-английски «IS A»). Лев является Животным. Такое отношение легко выразить с помощью наследования, где <code>Animal</code> будет родительским классом, а <code>Lion</code> — потомком.

Однако не все связи отношения в мире описываются таким образом. К примеру, клавиатура определенно как-то связана с компьютером, но <strong>она не является компьютером</strong>. Руки как-то связаны с человеком, но они не являются человеком.

В этих случаях в его основе лежит другой тип отношения: не «является», а «является частью» («HAS A»). Рука не является человеком, но является частью человека. Клавиатура не является компьютером, но является частью компьютера.

Отношения HAS A можно описать в коде, используя механизмы <strong>композиции</strong> и <strong>агрегирования</strong>. Разница между ними заключается в «строгости» этих связей.

Приведем простой пример:

У нас есть наш <code>Car</code> — машина. 
У каждой машины есть двигатель. 

Кроме того, у каждой машины есть пассажиры внутри.

В чем же принципиальная разница между полями <code>Engine engine</code> и <code>Passenger [] passengers</code>? Если у машины внутри сидит пассажир <code>А</code>, это не значит, что в ней не могут находиться пассажиры <code>B</code> и <code>C</code>.

Одна машина может соответствовать нескольким пассажирам. Кроме того, если всех пассажиров высадить из машины, она продолжит спокойно функционировать.

Связь между классом <code>Car</code> и массивом пассажиров <code>Passenger [] passengers</code> менее строгая. Она называется <em>агрегацией</em>.

Есть неплохая статья на эту тему: <a href="http://java-course.ru/begin/relations/" rel="nofollow" target="_blank">Отношения между классами (объектами)</a>.

В ней приведен еще один хороший пример агрегации. Допустим, у нас есть класс <code>Student</code>, обозначающий студента, и класс <code>StudentsGroup</code> (группа студентов). Студент может входить и в клуб любителей физики, и в студенческий фан-клуб «Звездных войн» или команду КВН.

<em>Композиция</em> — более строгий тип связи. При использовании композиции объект не только является частью какого-то объекта, но и не может принадлежать другому объекту того же типа. 

Самый простой пример — двигатель автомобиля. Двигатель является частью автомобиля, но не может быть частью другого автомобиля.

Как видишь, их связь гораздо более строгая, чем у <code>Car</code> и <code>Passengers</code>.
<img data-id="2aa305d5-f7c0-49d2-860a-1cba259b91f9" data-max-width="850" alt="Отношения между классами. Наследование, композиция и агрегирование  - 4" src="https://cdn.javarush.com/images/article/2aa305d5-f7c0-49d2-860a-1cba259b91f9/1024.jpeg">