Приоритеты потоков
<p>----------------------------------------</p>
&#8212; Продолжим наш урок. Что же такое приоритеты нитей и зачем они нужны. В реальных задачах важность работы разных нитей может сильно различаться. Для контроля этого процесса был придуман приоритет работы. У каждой нити есть такой приоритет – это число от 1 до 10. 10 – это наивысший приоритет. 1 – самый низкий. Если приоритет ...
<p>----------------------------------------</p>

<a href='https://cdn.javarush.com/images/article/2e3ac2f9-81d3-4ece-9c97-b364c6a1027b/original.jpeg' target='_blank'><img data-id="2e3ac2f9-81d3-4ece-9c97-b364c6a1027b" data-max-width="850" alt="Приоритеты потоков - 1" src="https://cdn.javarush.com/images/article/2e3ac2f9-81d3-4ece-9c97-b364c6a1027b/original.jpeg"></a>

<p>&#8212; Продолжим наш урок. Что же такое приоритеты нитей и зачем они нужны.</p>
<p>В реальных задачах важность работы разных нитей может сильно различаться. Для контроля этого процесса был придуман приоритет работы. У каждой нити есть такой приоритет – это число от 1 до 10.</p>
<p>10 – это наивысший приоритет.</p>
<p>1 – самый низкий.</p>
<p>Если приоритет не задан, то нить получает приоритет 5 &#8212; средний.</p>
<p>Приоритет нити не сильно влияет на ее работу, а носит скорее рекомендательный характер. Если есть несколько спящих нитей, которые нужно запустить, то Java-машина сначала запустит нить с более высоким приоритетом.</p>
<p>Java-машина управляет нитями так, как посчитает нужным. Нити с низким приоритетом не будут простаивать. Просто они будут получать меньше времени, чем другие, но выполняться все равно будут.</p>
<p>В большинстве случаев нити всегда выполняются с одинаковым приоритетом. Попытка дать одной нити больше времени, чем другим, часто указывает на архитектурную ошибку программы.</p>
<p><span class="text-user">&#8212; Ничего себе. А я уже размечтался, что сейчас назначу нити самый высокий приоритет, и она будет делать в 10 раз больше.</span></p>
<p>&#8212; А тут, оказывается, ситуация – близкая к finalize: нить с высоким приоритетом может и будет работать больше, а может и нет – никто не дает никакой гарантии.</p>
<p><span class="text-user">&#8212; Кстати, а как поменять приоритет нити?</span></p>
<p>&#8212; Это очень просто. У класса Thread есть два метода:</p>
<table>
<tbody>
<tr>
<th>Метод</th>
<th>Описание</th>
</tr>
<tr>
<td>
<pre class="line-numbers language-java block-inline" data-line="" data-start=""><code>void setPriority(int newPriority)</code></pre>
</td>
<td>Устанавливает новое значение приоритета</td>
</tr>
<tr>
<td>
<pre class="line-numbers language-java block-inline" data-line="" data-start=""><code>int getPriority()</code></pre>
</td>
<td>Возвращает текущий приоритет нити</td>
</tr>
</tbody>
</table>
<p>У класса Thread так же есть три константы:</p>
<p>public final static int MIN_PRIORITY = 1;</p>
<p>public final static int NORM_PRIORITY = 5;</p>
<p>public final static int MAX_PRIORITY = 10;</p>
<p><span class="text-user">&#8212; Дай, я угадаю. MIN_PRIORITY &#8212; это минимальный приоритет, MAX_PRIORITY &#8212; максимальный, а NORM_PRIORITY &#8212; приоритет по умолчанию?</span></p>
<p>&#8212; Да, именно так. Сможешь сам написать код, который выставляет нити наивысший приоритет.</p>
<p><span class="text-user">&#8212; А тут есть какой-то подвох? Вроде бы так:</span></p>
<pre class="line-numbers language-java" data-line="" data-start=""><code>Thread thread = new MyThread();
thread.setPriority(Thread. MAX_PRIORITY)
thread.start();</code></pre>
<p>&#8212; Все верно. Ничего сложного да?</p>
<p><span class="text-user">&#8212; Ага. А можно устанавливать/менять приоритет нити после ее запуска? Или тут как с setDaemon – обязательно выставить значение до старта нити?</span></p>
<p>&#8212; Приоритет можно менять и после старта. Как я уже говорила, кардинальных изменений это не влечет.</p>
<p><span class="text-user">&#8212; Небольшая, но интересная тема. Спасибо, Элли.</span></p>
