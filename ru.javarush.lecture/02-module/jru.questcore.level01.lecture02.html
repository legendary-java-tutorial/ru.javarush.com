Причины появления ООП
<p>----------------------------------------</p>
«ООП — это сложно и громоздко! Без него — никак?», — типичный вопрос, который часто задают ученики JavaRush на этом этапе. В этой лекции вы услышите историю о компании, которая занималась доставкой товаров в космосе. «А причём здесь ООП?», — спросите вы. А при том, что такой подход помог компании, расправиться с трудностями. И вам поможет.
<p>----------------------------------------</p>
<p>&#8212; Привет, Амиго! Я хочу, чтобы ты понял назначение ООП. Для этого я расскажу тебе одну историю.</p>
<p>Была небольшая компания, которая занималась доставкой товаров в космосе…</p>
<p><span class="text-user">&#8212; Как Galactic Rush?</span></p>
<p>&#8212; Да, как Galactic Rush. В ней работало 5 человек. Один занимался финансами, второй работал на складе, третий выполнял доставку, четвертый руководил рекламой, а пятый управлял всем этим.</p>
<p>Они были очень старательными, и все у них получалось. Компания имела хорошую репутацию и зарабатывала много денег. Но заказов с каждым годом было все больше, так что директору пришлось нанимать дополнительных сотрудников. Несколько на склад, несколько на доставку, еще одного кассира и рекламщика для расширения рынка.</p>
<p><span class="text-red">И тут начались проблемы. Людей стало больше, и они начали друг другу мешать.</span></p>
<p>Маркетолог тратит все деньги на новую рекламную кампанию, и <span class="text-corporate">в кассе нет денег на закупку товара, который надо срочно отправлять.</span></p>
<p>На складе есть 10 коробок с новенькими гипердвигателями, которые поставляют раз в месяц. Курьер полетел отвозить один гипердвигатель, и заказ на 10 гипердвигателей от другого клиента вынужден ждать еще месяц. <span class="text-corporate">Первый курьер просто не знал о другом заказе, который выполняет второй курьер.</span></p>
<p>Новый помощник директора отправляет курьера на корабле для закупки товара, и <span class="text-corporate">все остальные ждут, пока появится доступный корабль.</span> Есть куча срочных доставок, но этот помощник заведует только закупками и <strong>старается хорошо выполнять свою работу.</strong> <span class="text-green">Чем лучше человек выполнял свои обязанности, тем больше он мешал остальным.</span></p>
<p>Пытаясь проанализировать ситуацию директор понял, что такие важные ресурсы, как корабль, наличность и товар расходуются не оптимально, а по принципу «кто первый встал – того и тапки». Любой мог взять нужный всем ресурс для своей работы, поставив при этом под удар остальных сотрудников, да и всю компанию в целом.</p>
<p>Нужно было что-то делать, и <span class="text-green">директор решил разделить монолитную компанию на несколько отделов.</span> Появился отдел доставки, отдел маркетинга, отдел закупок, финансовый отдел и отдел запасов. Теперь уже никто не мог просто так взять корабль. Директор отдела доставки получал всю информацию о доставках и выдавал корабль тому курьеру, чья доставка была выгоднее для компании. Склад тоже не разрешал любому курьеру взять любой товар, а контролировал этот процесс. Финансовый отдел мог не дать денег на маркетинг, если знал, что скоро будет закупка. У каждого отдела было одно публичное лицо – его начальник. <span class="text-red">Внутреннее устройство каждого отдела было его внутренним делом.</span> Если курьер хотел получить товар, он шел к начальнику склада, а не на склад. Если появлялась новая заявка, ее получал директор отдела доставки (<strong>public</strong> person), а не курьер (<strong>private</strong> person).</p>
<p>Другими словами, <span class="text-green">директор объединил в группы (отделы) ресурсы и действия над ними</span>, <span class="text-corporate">а также запретил другим вмешиваться во внутреннюю структуру отделов</span>. <span class="text-viola">Контактировать можно было строго с определенным лицом.</span></p>
<p>С точки зрения ООП, это не что иное, как <span class="text-green">разбиение программы на объекты. Монолитная программа, состоящая из функций и переменных, превращается в программу, состоящую из объектов.</span> А объекты содержат в себе переменные и функции.</p>
<p><span class="text-user">&#8212; Подожди. Проблема была в том, что любой сотрудник мог бесконтрольно работать с любым ресурсом и отдавать команды любому человеку?</span></p>
<p>&#8212; Да, именно так.</p>
<p><span class="text-user">&#8212; Интересно. Мы ввели небольшое ограничение, но получили больше порядка. А также смогли лучше контролировать все это.</span></p>
<p>&#8212; Да. Разделяй и властвуй в чистом виде.</p>
<p><span class="text-user">&#8212; Как ты красиво сказала – разделяй и властвуй. Нужно будет запомнить.</span></p>
