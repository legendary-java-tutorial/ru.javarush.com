Что такое mutable/immutable объекты и зачем они
<p>----------------------------------------</p>
&#8212; Привет, Амиго! &#8212; Привет, Билаабо! &#8212; Сегодня Билаабо расскажет тебе о mutable и immutable объектах. Объекты, которые после создания можно изменить, называются изменяемыми или mutable. Объекты, которые после их создания изменить нельзя, называются неизменяемыми или immutable. &#8212; А от чего зависит, можно объект менять или нет? &#8212; Человек, который пишет новый класс, может сделать ...
<p>----------------------------------------</p>

<a href='https://cdn.javarush.com/images/article/0810c22d-67f1-4900-9009-7bf12430be69/original.jpeg' target='_blank'><img data-id="0810c22d-67f1-4900-9009-7bf12430be69" data-max-width="850" alt="Что такое mutable/immutable объекты и зачем они - 1" src="https://cdn.javarush.com/images/article/0810c22d-67f1-4900-9009-7bf12430be69/original.jpeg"></a>

<p>&#8212; Привет, Амиго!</p>
<p><span class="text-user">&#8212; Привет, Билаабо!</span></p>
<p>&#8212; Сегодня Билаабо расскажет тебе о <strong>mutable</strong> и <strong>immutable</strong> объектах.</p>
<p>Объекты, которые после создания можно изменить, называются изменяемыми или <strong>mutable</strong>.</p>
<p>Объекты, которые после их создания изменить нельзя, называются неизменяемыми или <strong>immutable</strong>.</p>
<p><span class="text-user">&#8212; А от чего зависит, можно объект менять или нет?</span></p>
<p>&#8212; Человек, который пишет новый класс, может сделать объекты этого класса неизменяемыми. Например, можно скрыть все setter&#8217;ы — у объекта будет только конструктор и getter&#8217;ы, а, значит, после создания объекта поменять его уже будет нельзя.</p>
<p><span class="text-user">&#8212; И какая от этого польза?</span></p>
<p>&#8212; У неизменяемых объектов много полезных свойств. Но можно выделить два, которые характерны практически для всех immutable-объектов:</p>
<p><strong>1) Неизменяемые объекты можно реализовать значительно проще, чем изменяемые.</strong></p>
<p><strong>2) Неизменяемые объекты можно свободно использовать одновременно из разных нитей.</strong></p>
<p>Чаще всего, когда разработчик решает написать immutable класс, он делает две версии этого класса — mutable и immutable.</p>
<p><span class="text-user">&#8212; А в чем смысл писать два класса вместо одного?</span></p>
<p>&#8212; Иногда так выгоднее, когда неизменяемая версия объекта будет гораздо проще/быстрее чем изменяемая. Тогда и делают две версии. Это почти как ArrayList и LinkedList: оба — списки, но один оптимизирован для одних целей, второй — для других.</p>
<p><span class="text-user">&#8212; Уже понятнее.</span></p>
<p>&#8212; Бывают также и чисто immutable классы, без их mutable версии.</p>
<p><span class="text-user">&#8212; А если мне нужно что-то поменять в таком объекте? Что вообще можно сделать с неизменяемым объектом?</span></p>
<p>&#8212; Обычно immutable классы содержат различные методы, которые «как бы» меняют объект, но вместо изменения самого объекта эти методы просто создают новый объект и возвращают его.</p>
<p>Вот тебе несколько примеров:</p>
<table>
<tbody>
<tr>
<th>Код на Java</th>
<th>Описание</th>
</tr>
<tr>
<td>
<pre class="line-numbers language-java block-inline" data-line="" data-start=""><code>String s = "moscow";
String s2 = s.toUpperCase();</code></pre>
</td>
<td>В результате s содержит строку «moscow», а s2 — «MOSCOW»</td>
</tr>
<tr>
<td>
<pre class="line-numbers language-java block-inline" data-line="" data-start=""><code>Integer i = 1;
Integer j = i;
j++;</code></pre>
</td>
<td>Вот что происходит на самом деле:<br />
Integer i = new Integer(1);<br />
Integer j = i;<br />
j = new Integer(i.getInt()+1);</td>
</tr>
</tbody>
</table>
<p>Класс String — это immutable класс. Все объекты типа String — неизменяемые, что, однако, не мешает нам с ними работать. Например, метод <strong>toUpperCase</strong>() класса <strong>String</strong> преобразовывает строку в верхний регистр (заменяет все маленькие буквы на большие). Но <strong>этот метод не меняет саму строку, а возвращает новую строку,</strong> которая идентична первой, только все символы в верхнем регистре (большие).</p>
<p>Класс Integer — это тоже immutable класс. Все объекты типа Integer — неизменяемые. Каждый раз, когда мы изменяем объект Integer,  на самом деле создается новый объект.</p>
<p><span class="text-user">&#8212; Как интересно. Ура, Билаабо.</span></p>
<p>&#8212; Ура мне, ура Билаабо!</p>
