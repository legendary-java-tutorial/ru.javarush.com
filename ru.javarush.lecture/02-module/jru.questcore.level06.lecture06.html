Здоровый sleep
<p>----------------------------------------</p>
Даже программам иногда нужно спать. А уж нитям — и подавно. Чтобы отправлять нить спать в Java есть метод sleep. Он объявлен как статический метод класса Thread. Это значит, что он не привязан ни к какому объекту. Цель этого метода, чтобы программа «заснула» на некоторое время. Как это работает? Узнаете из лекции!
<p>----------------------------------------</p>
<p>&#8212; Привет, Амиго! Билаабо сегодня расскажет тебе о самом интересном методе при работе с нитями – это метод <span class="text-red"><strong>sleep</strong></span>. <span class="text-red">Метод sleep объявлен как статический метод класса Thread</span>, т.е. он не привязан ни к какому объекту. Цель этого метода, чтобы<span class="text-red"> программа «заснула»</span> на некоторое время. Вот как это работает:</p>
<table>
<tbody>
<tr>
<th>Код</th>
<th>Описание</th>
</tr>
<tr>
<td>
<pre class="line-numbers language-java" data-line="" data-start=""><code>public static void main(String[] args)
{
<span class="text-red">Thread.sleep(</span>2000<span class="text-red">);</span>
}</code></pre>
</td>
<td>Программа запустится.</p>
<p>Затем замрет на 2 секунды (2 000 миллисекунд)</p>
<p>Затем завершится.</td>
</tr>
</tbody>
</table>
<p>Единственный параметр метода sleep – это время. Время задается в тысячных долях секунды (миллисекундах). Как только нить вызывает этот метод, она засыпает на указанное количество миллисекунд.</p>
<p><span class="text-user">&#8212; А где это лучше всего использовать?</span></p>
<p>&#8212; Этот метод часто используется в дочерних нитях, когда нужно делать какое-то действие постоянно, но не слишком часто. Смотри пример:</p>
<table>
<tbody>
<tr>
<th>Код</th>
<th>Описание</th>
</tr>
<tr>
<td>
<pre class="line-numbers language-java" data-line="" data-start=""><code>public static void main(String[] args)
{
<span class="text-user">while (true)</span>
{
<span class="text-red">Thread.sleep</span>(500);
System.out.println("Tik");
}
}</code></pre>
</td>
<td><span class="text-user">Программа будет работать вечно</span> – условие продолжения цикла никогда не нарушится.</p>
<p>Вот что программа делает в цикле:<br />
а) <span class="text-red">поспать полсекунды</span><br />
б) вывести на экран текст «Tik»</p>
<p>Т.е. дважды в секунду будет выполняться некоторое действие.</td>
</tr>
</tbody>
</table>
<p><span class="text-user">&#8212; Ух ты, теперь это уже интересно.</span></p>
<p>&#8212; Рад, что тебе понравилось, мой друг Амиго!</p>
<p><span class="text-user">&#8212; А если я хочу, чтобы какое-то действие выполнялось 100 раз в секунду, что нужно делать?</span></p>
<p>&#8212; Если действие должно выполняться 100 раз в секунду, а в секунде 1000 миллисекунд, значит, действие должно выполняться один раз в 10 миллисекунд.</p>
<p>Если твое <strong>действие</strong> занимает 2 миллисекунды, то нужно добавить к нему паузу длинной 8 миллисекунд. Вместе они будут выполняться как раз за 10 миллисекунд. И за секунду – как раз 100 раз.</p>
<p>Если же твое действие выполняется почти мгновенно, то поставь паузу (sleep) длиной 10 миллисекунд. Тогда в секунду будет тоже около 100 раз.</p>
<p><span class="text-user">&#8212; Спасибо, Билаабо.</span></p>
