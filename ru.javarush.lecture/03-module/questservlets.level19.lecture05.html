Executors: выполнимые объекты
<p>----------------------------------------</p>
Выполнимые объекты
Реализации выполнимых объектов
<p>----------------------------------------</p>
<h2>6.1 Выполнимые объекты</h2>
<p>Вот мы и подобрались к самой большой части пакета. Здесь будут описаны интерфейсы для запуска асинхронных задач с возможностью получения результатов через Future и Callable интерфейсы, а также сервисы и фабрики для создания thread pools: ThreadPoolExecutor, ScheduledPoolExecutor, ForkJoinPool.</p>
<p>Для лучшего понимания сделаем небольшую декомпозицию интерфейсов и классов.</p>
<img data-max-width="1024" data-id="cfd3096d-db7b-4242-a0f2-7fc8fe1cc0a8" src="https://cdn.javarush.com/images/article/cfd3096d-db7b-4242-a0f2-7fc8fe1cc0a8/1024.jpeg" alt="">
<h2>6.2 Реализации выполнимых объектов</h2>
<p><code>Future&lt;V&gt;</code> — замечательный интерфейс для получения результатов работы асинхронной операции. Ключевым методом здесь является метод get, который блокирует текущий поток (с таймаутом или без) до завершения работы асинхронной операции в другом потоке. Также дополнительно существуют методы для отмены операции и проверки текущего статуса. В качестве имплементации часто используется класс FutureTask.</p>
<p><code>RunnableFuture&lt;V&gt;</code> — если Future – это интерфейс для Client API, то интерфейс RunnableFuture уже используется для запуска асинхронной части. Успешное завершение метода run() завершает асинхронную операцию и позволяет вытаскивать результаты через метод get.</p>
<p><code>Callable&lt;V&gt;</code> — расширенный аналог интерфейса Runnable для асинхронных операций. Позволяет возвращать типизированное значение и кидать checked exception. Несмотря на то, что в этом интерфейсе отсутствует метод run(), многие классы java.util.concurrent поддерживают его наряду с Runnable.</p>
<p><code>FutureTask&lt;V&gt;</code> — имплементация интерфейса Future/RunnableFuture. Асинхронная операция принимается на вход одного из конструкторов в виде Runnable или Callable объектов. Сам же класс FutureTask предназначен для запуска в worker потоке, например, через new Thread(task).start() или через ThreadPoolExecutor. Результаты работы асинхронной операции вытаскиваются через метод get(...).</p>
<p><code>Delayed</code> — используется для асинхронных задач, которые должны начаться в будущем, а также в DelayQueue. Позволяет задавать время до начала асинхронной операции.</p>
<p><code>ScheduledFuture&lt;V&gt;</code> — маркерный интерфейс, объединяющий Future и Delayed интерфейсы.</p>
<p><code>RunnableScheduledFuture&lt;V&gt;</code> — интерфейс, объединяющий RunnableFuture и ScheduledFuture. Дополнительно можно указывать является ли задача одноразовой или же должна запускаться с заданной периодичностью.</p>
