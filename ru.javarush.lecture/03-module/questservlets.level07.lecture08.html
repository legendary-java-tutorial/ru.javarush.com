Работа с сетью через jQuery
<p>----------------------------------------</p>
ajax в jQuery
Полезные запросы
<p>----------------------------------------</p>
<h2>9.1 Объект $ и метод ajax в jQuery</h2>
<p>У jQuery так же есть специальный глобальный объект для работы с сетью. Как ты можешь догадаться, называется он <code>$</code>. Да, вот такое имя. Зато просто и удобно.</p>
<p>Допустим, ты хочешь в своем JavaScript отправить запрос на API и обработать полученный ответ. Это можно сделать так:</p>
<pre class='line-numbers'><code>
$.ajax({
  type: <span class="text-green">"POST"</span>,
  url: <span class="text-green">"api.javarush.ru"</span>,
  data: <span class="text-user">{name: 'Bill', location: 'Radmond'},</span>
  success: <span class="text-red">function(msg){
    alert( "Person found: " + msg );
  }</span>
});

</code></pre>
<p> 
Все, это весь код. У объекта <code>$</code> мы вызываем метод <code>ajax()</code>, куда передаем объект, который описывает все что нам нужно: и запрос, и ответ.</p>
<ul>
    <li><span class="text-green">Поле <code>type</code> задает тип HTTP-запроса: <code>GET</code> или <code>POST</code></span></li>
    <li><span class="text-green">Поле <code>url</code> задает <code>url</code>, на который будет отправлен запрос</span></li>
    <li><span class="text-user"> Поле <code>data</code> задает данные запроса в формате JSON</span></li>
    <li><span class="text-red">Поле success задает функцию, которую нужно будет вызвать</span> после того, как придет успешный ответ от сервера.</li>
</ul>
<h2>9.2 Полезные запросы</h2>
<p>А ведь если не нужно передавать никаких данных, то запрос можно записать еще короче. Например, так можно записать простой <strong>POST-запрос</strong>:</p>
<pre class='line-numbers'><code>
$.post(<span class="text-green">"ajax/test.html"</span>, <span class="text-red">function( data ) {
  $( ".result" ).html( data );
}</span>);
</code></pre>
<p>А знаешь что делает код <code class="text-red">$( ".result" ).html( data );</code>? Попробуем догадаться…</p>
<p>Он находит в документе элемент с классом result, и добавляет ему внутрь HTML-код — данные <code>data</code>. Так за пару строчек ты можешь загрузить данные с сервера и добавить их в свою страницу. Ну не красота разве? :)</p>
<p><strong>GET-запрос</strong> тоже можно написать в пару строк:</p>
<pre class='line-numbers'><code>
$.get(<span class="text-green">"ajax/test.html"</span>., <span class="text-red">function( data ) {
  $( ".result" ).html( data );
}</span>);
</code></pre>
<p><strong>Хочешь загрузить и выполнить скрипт?</strong></p>
<pre class='line-numbers'><code>
$.ajax({
  method: <span class="text-green">"GET"</span>,
  url: <span class="text-green">"test.js"</span>,
<span class="text-red">  dataType: "script"</span>
});
</code></pre>
<p><strong>Получить последнюю версию HTML-страницы?</strong></p>
<pre class='line-numbers'><code>
$.ajax({
  url: "test.html",
<span class="text-red">  cache: false</span>
})
  .done(function( html ) {
<span class="text-user">    $( "#results" ).append( html );</span>
  });
</code></pre>
<p>В интернете есть очень хорошая документация по jQuery:</p>
<p><a href="https://api.jquery.com/" target="_blank">jQuery API</a> </p>
<p><a href="https://api.jquery.com/jquery.ajax/" target="_blank">jQuery.ajax()</a></p>
<p>Кроме того, все распространенные вопросы легко гуглятся и есть на StackOverflow.</p>