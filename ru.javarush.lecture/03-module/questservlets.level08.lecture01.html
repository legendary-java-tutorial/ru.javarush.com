Модель OSI
<p>----------------------------------------</p>
Знакомство OSI. 
Стек протоколов OSI. 
Cтек протоколов TCP/IP. 
Транспортный уровень.
<p>----------------------------------------</p>
    <h2>Знакомство с OSI</h2>

    <p>Когда ARPA-сеть только разрабатывалась, очень хотелось сделать ее как можно более умной. Но чем сложнее сеть, тем сложнее ее развивать и поддерживать. В качестве решения было предложено разделить все функции сети на логические слои.</p>

    <p>Модель функционирования сети называется сетевая модель базовой эталонной модели взаимодействия открытых систем ISO/OSI. Кратко — <span class="text-bold">модель OSI</span> (Open Systems Interconnection).</p>

<img data-max-width="512" data-id="bed54500-5085-48f3-89e7-900265dd6eb9" src="https://cdn.javarush.com/images/article/bed54500-5085-48f3-89e7-900265dd6eb9/512.jpeg" alt="модель OSI">

    <p>Всего в такой модели 7 уровней. Взаимодействие уровней жестко стандартизировано и сведено к минимуму. Нижний уровень понятия не имеет о наличии более высоких уровней и об их устройстве.</p>

    <p>Самый нижний уровень умеет просто <span class="text-bold">посылать биты</span>. Даже не передавать, а именно посылать. Он понятия не имеет дойдут они или нет. Послал и забыл.</p>

    <p>Более высокий уровень оперирует уже группами бит — <span class="text-bold">кадрами</span>, и немного знает об физическом устройстве сети, понимает MAC-адреса и тому подобное.</p>

    <p>Следующий уровень — пакетный. Он еще более умный и умеет оперировать IP-адресами сети. И так далее. </p>

    <p>Зачем это все нужно? Для максимизации гибкости.</p>

    <p>Представь, что каждый уровень — это Java-интерфейс и у него может быть несколько различных реализаций. Так и тут. На физическим уровне вы можете пересылать биты по проводу, слать по воздуху (Wi-Fi), отправлять через спутник, а все остальные уровни даже знать об этом ничего не будут. И все будет работать, как и было задумано. </p>

    <h2>Стек протоколов OSI</h2>

    <p>Более детально стек протоколов ты можешь изучить<a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI#%D0%A3%D1%80%D0%BE%D0%B2%D0%BD%D0%B8_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8_OSI" target="_blank"> на картинке ниже</a>:</p>

<img data-max-width="1024" data-id="b70f1c3d-cb4e-45ba-9e9b-613628d71b4f" src="https://cdn.javarush.com/images/article/b70f1c3d-cb4e-45ba-9e9b-613628d71b4f/1024.jpeg" alt="">

    <p>Но если вы не системный администратор, то такая детализация протоколов вам ни к чему. Более интересным может быть изучение стека протоколов TCP (Transmission Control Protocol)/IP (Internet Protocol).</p>

    <p>Три верхних уровня в модели OSI, то есть уровень приложения, уровень представления и уровень сеанса, отдельно не различаются в модели TCP/IP, которая имеет только прикладной уровень над транспортным уровнем:</p>
<h3>Распределение протоколов по уровням модели OSI</h3>
<table>
    <tbody>
    <tr>
        <th>TCP/IP</th>
        <th>OSI</th>
        <th></th>
    </tr>
    <tr>
        <td rowspan='3' >Прикладной</td>
        <td>Прикладной</td>
        <td>HTTP, SMTP, SNMP, FTP, Telnet, SSH, SCP, SMB, NFS, RTSP, BGP</td>
    </tr>
    <tr>
        <td>Представления</td>
        <td>XDR, AFP, TLS, SSL</td>
    </tr>
    <tr>
        <td>Сеансовый</td>
        <td>ISO 8327 / CCITT X.225, RPC, NetBIOS, PPTP, L2TP, ASP</td>
    </tr>
    <tr>
        <td>Транспортный</td>
        <td>Транспортный</td>
        <td>TCP, UDP, SCTP, SPX, ATP, DCCP, GRE</td>
    </tr>
    <tr>
        <td>Сетевой</td>
        <td>Сетевой</td>
        <td>IP, ICMP, IGMP, CLNP, OSPF, RIP, IPX, DDP</td>
    </tr>
    <tr>
        <td rowspan='2'>Канальный</td>
        <td>Канальный</td>
        <td>Ethernet, Token ring, HDLC, PPP, X.25, Frame relay, ISDN, ATM, SPB, MPLS, ARP/td>
    </tr>
    <tr>
        <td>Физический</td>
        <td>электрические провода, радиосвязь, волоконно-оптические провода, инфракрасное излучение</td>
    </tr>
    </tbody>
</table>

    <h2>Cтек протоколов TCP/IP</h2>

    <p>Стек протоколов TCP/IP включает в себя четыре уровня:</p>

    <ul>
        <li><span class="text-bold">Прикладной уровень</span> (Application Layer)</li>
        <li><span class="text-bold">Транспортный уровень</span> (Transport Layer)</li>
        <li><span class="text-bold">Межсетевой уровень</span> (Сетевой уровень) (Internet Layer)</li>
        <li><span class="text-bold">Канальный уровень</span> (Network Access Layer)</li>
    </ul>

    <p>Протоколы этих уровней полностью реализуют все функциональные возможности модели OSI. На стеке протоколов TCP/IP построено все взаимодействие пользователей в IP-сетях.</p>

    <p>Стек протоколов TCP/IP является независимым от физического оборудования благодаря чему, в частности, обеспечивается полностью прозрачное взаимодействие между проводными и беспроводными сетями.</p>

    <p>На прикладном уровне (Application layer) работает большинство сетевых приложений.</p>

    <h3>Прикладной уровень</h3>

    <p>Для взаимодействия программ существуют высокоуровневые протоколы обмена информацией. Например, браузеры работают по протоколу HTTP, почта отправляется по протоколу SMTP, Телеграм работает по своему собственному зашифрованному протоколу.</p>

    <p>Но приватные протоколы нам не очень интересны. Чаще всего ты будешь сталкиваться с массовыми протоколами, такими как ftp-клиент для протокола FTP (передача файлов), SSH (безопасное соединение с удаленной машиной), DNS (преобразование символьных имён в IP-адреса) и многие другие.</p>

    <p>Почти все эти протоколы работают поверх протокола TCP, хотя некоторые для ускорения работы работают по UDP (User Datagram Protocol). Но, что важно, у этих протоколов есть порты по умолчанию. Пример:</p>

    <ul>
        <li>20 FTP на TCP-порт 20 (для передачи данных) и 21 (для управляющих команд)</li>
        <li>22 – SSH</li>
        <li>23 – Telnet</li>
        <li>53 – запросы DNS</li>
        <li>80 – HTTP</li>
        <li>443 – HTTPS</li>
    </ul>

    <p>Эти порты определены Агентством по выделению имён и уникальных параметров протоколов (IANA).</p>

    <p>Есть еще несколько популярных протоколов прикладного уровня: Echo, Finger, Gopher, HTTP, HTTPS, IMAP, IMAPS, IRC, NNTP, NTP, POP3, POPS, QOTD, RTSP, SNMP, SSH, Telnet, XDMCP.</p>

    <h3>Транспортный уровень</h3>

    <p>Протоколы транспортного уровня созданы для решения проблемы гарантированной доставки сообщений.</p>

    <p>Сообщение (пакет данных) может быть послано и потеряно где-то в сети. В этом случае на плечи транспортного уровня ложится задача мониторинга таких ситуаций и повторной отсылки сообщения, если нужно.</p>

    <p>Еще одна важная задача протокола транспортного уровня — это контроль за порядком прихода сообщений. Часто бывает так, что сообщения были посланы в одном порядке, а пришли в другом. И если собрать из таких кусочков изначально большое сообщение, то получится чепуха.</p>

    <p>Чтобы такого не было, транспортный уровень или нумерует сообщения, или не отправляет новое, пока не получил подтверждение получения предыдущего.
Протоколы автоматической маршрутизации, логически представленные на этом уровне (поскольку работают поверх IP), на самом деле являются частью протоколов сетевого уровня.</p>

    <p><span class="text-bold">Протокол TCP</span> — “гарантированный” транспортный механизм с предварительным установлением соединения, который предоставляет приложению надежный поток данных, дает уверенность в безошибочности получаемых данных, перезапрашивает данные в случае потери и устраняет дублирование данных.</p>

    <p>TCP позволяет регулировать нагрузку на сеть, а также уменьшать время ожидания данных при передаче на большие расстояния. Более того, TCP гарантирует, что полученные данные были отправлены точно в такой же последовательности. В этом его главное отличие от UDP.</p>

    <p><span class="text-bold">Протокол UDP</span> — это протокол передачи датаграмм без установления соединения. Также его называют протоколом “ненадежной” передачи, в смысле невозможности удостовериться в доставке сообщения адресату, а также возможного перемешивания пакетов. В приложениях, требующих гарантированной передачи данных, используется протокол TCP.</p>

    <p>UDP обычно используется в таких приложениях, как потоковое видео и компьютерные игры, где допускается потеря пакетов, а повторный запрос затруднен или не оправдан, либо в приложениях вида запрос-ответ (например, запросы к DNS), где создание соединения занимает больше ресурсов, чем повторная отправка.</p>

    <p>И TCP, и UDP используют для определения протокола верхнего уровня число, называемое портом.</p>

