Знакомство с проектом Apache
<p>----------------------------------------</p>
Знакомство с Apache Commons
Популярные библиотеки Apache Commons
<p>----------------------------------------</p>
<h2>Знакомство с Apache Commons</h2>

<p>Конечно, начнем с истории!

<p>Все началось в 1999 году с регистрации “Apache Group” от имени Apache Software Foundation (далее ASF). Проектом, который поддерживался фондом, был Apache HTTPD Web Server, созданный между 1995 и 1999 годами.</p>

<p>Таким же стал и проект Jakarta Project (проект Jakarta), который появился в результате сотрудничества Sun Microsystems, IBM, Oracle и ребят из Apache. И  в 2001 в ходе работы команда разработчиков заметила, что они часто пишут одинаковую функциональность, иногда просто-напросто копируют ее друг у друга. Такой код называется шаблонным. У них получилось собрать большое количество кода, который помогал разработчикам, но не было библиотеки для его хранения.</p>

<p>Так появился проект Jakarta Commons, в который добавляли компоненты на Java (в основном на основе уже существующего кода). Позже проект был переименован в Apache Commons.</p>

<p>Если говорить более широко, то Apache Commons — это “большая коллекция маленьких Java-утилит”. Она используется во многих проектах с открытым исходным кодом. </p>

<p>Утилиты Apache Commons лежат в основе таких проектов, как Apache Tomcat, Struts, Hibernate и др.</p>

<p>Конечно, все это можно подключить ручками, без системы сборки (Maven, Gradle), но мы не будем этого делать и просто добавим их в наш проект. </p>

<p>Для работы с Maven вначале добавляем соответствующую зависимость:</p>

<pre><code>&lt;dependency>
   &lt;groupId>org.apache.commons&lt;/groupId>
   &lt;artifactId>commons-lang3&lt;/artifactId>
   &lt;version>${apache.common.version}&lt;/version>
&lt;/dependency>
</code></pre>

<p>Где <span class="code">${apache.common.version}</span> — это версия этой библиотеки. </p>

<p>Для Gradle (Groovy):</p>

<pre><code>implementation 'org.apache.commons:commons-lang3:3.12.0'
</code></pre>

<h2>Популярные библиотеки Apache Commons</h2>

<p>Вот список наиболее используемых классов и методов:</p>

<h3>Apache Commons: Lang</h3>

<p>В данной библиотеке есть такие пакеты: </p>

<pre class='line-numbers'><code>
Packages
org.apache.commons.lang
org.apache.commons.lang.builder
org.apache.commons.lang.enum
org.apache.commons.lang.enums
org.apache.commons.lang.exception
org.apache.commons.lang.math
org.apache.commons.lang.mutable
org.apache.commons.lang.reflect
org.apache.commons.lang.text
org.apache.commons.lang.time
</code></pre>

<p>Здесь можно удобно и быстро работать со строками, reflection, сериализацией, объектами и системой. Отметим наиболее используемые методы:</p>

<h4>StringUtils </h4>

<p>Огромное количество методов для манипуляций со строками.</p>

<ul>
<li><span class="code text-orange">is(Not)Blank/Empty(String)</span> — о проверке такого типа: <span class="code">if (s!=null && s.trim().length()>0)</span> пора забыть, и тут есть хорошая замена</li>
</ul>

<h4>StringEscapeUtils</h4>

<ul>
<li><span class="code text-orange">(un)escapeSql(String)</span> — замена <span class="code text-orange">PreparedStatment</span></li>
<li><span class="code text-orange">(un)escapeHtml(String)</span> — для обработки значений из HTML</li>
</ul>

<h4>ToStringBuilder</h4>

<ul>
<li><span class="code text-orange">reflectionToString(Object)</span> — реализация <span class="code text-orange">toString()</span>, основанная на рефлексии. При удалении какого-то поля с помощью рефлексии результат метода изменится.</li>
</ul>

<h4>EqualsBuilder & HashCodeBuilder</h4>

<ul>
<li><span class="code text-orange">reflectionEquals/HashCode(Object)</span> — хорошая замена автоматической генерации со своим плюсом: эти два метода учитывают структурные изменения объекта в процессе работы, например, добавление полей</li>
</ul>

<h4>ExceptionUtils</h4>

<ul>
<li><span class="code text-orange">getFullStackTrace(Throwable)</span> — вывод всего StackTrace в виде строки</li>
</ul>

<h3>Apache Commons: Collections</h3>

<pre class='language-java line-numbers'><code>
Packages
org.apache.commons.collections4
org.apache.commons.collections4.bag
org.apache.commons.collections4.bidimap
org.apache.commons.collections4.collection
org.apache.commons.collections4.comparators 
org.apache.commons.collections4.functors
org.apache.commons.collections4.iterators
org.apache.commons.collections4.keyvalue
org.apache.commons.collections4.list
org.apache.commons.collections4.map
org.apache.commons.collections4.multimap
org.apache.commons.collections4.multiset
org.apache.commons.collections4.properties
org.apache.commons.collections4.queue
org.apache.commons.collections4.sequence
org.apache.commons.collections4.set
org.apache.commons.collections4.splitmap
org.apache.commons.collections4.trie
org.apache.commons.collections4.trie.analyzer   
</code></pre>

<p>Библиотека, прекрасно дополняющая Java SE Collections Framework. </p>

<p><span class="code"><span class="text-green">CollectionUtils</span></span> — класс для удобной работы с коллекциями:</p>

<ul>
<span class="code text-orange">filter/find(Collection, Predicate)</span> — фильтрация и поиск по предикату</li>
<span class="code text-orange">forAllDo(Collection, Closure)</span> — выполняет Closure для каждого элемента, но этот метод <em>deprecated</em>, используйте <span class="code text-orange">Iterator.forEach()</span></li>
<span class="code text-orange">is(Not)Empty(Collection)</span> — позволяет не проверять на null перед вызовом</li>
<span class="code text-orange">isEqualCollection(Collection, Collection)</span> — помогает сравнить две коллекции</li>
</ul>

<p>Есть также много других классов разного уровня полезности. Здесь и дальше я перечисляю наиболее часто используемые чисто в моем случае.</p>

<h3>Apache Commons: IO</h3>

<pre class='language-java line-numbers'><code>
Packages
org.apache.commons.io
org.apache.commons.io.comparator
org.apache.commons.io.file
org.apache.commons.io.file.spi
org.apache.commons.io.filefilter
org.apache.commons.io.function
org.apache.commons.io.input
org.apache.commons.io.input.buffer
org.apache.commons.io.monitor
org.apache.commons.io.output
org.apache.commons.io.serialization
</code></pre>

<p>Дополнительно помогает работать с файлами в Java:</p>

<h4>FileUtils</h4>

<ul>
<li><span class="code text-orange">copyDirectory(File, File)</span> — копирование директорий</li>
<li><span class="code text-orange">copyFile(File, File)</span> — копирование файлов</li>
<li><span class="code text-orange">listFiles(File, String[], boolean)</span> — список файлов по расширению и рекурсивно</li>
<li><span class="code text-orange">readFileToString(File, String)</span> </li>
<li><span class="code text-orange">writeStringToFile(File, String)</span></li>
</ul>

<h4>IOUtils</h4>

<ul>
<li><span class="code text-orange">closeQuietly(Reader/Writer/InputStream/OutputStream)</span> — закрывает поток данных</li>
<li><span class="code text-orange">copy(InputStream, OutputStream)</span> — копирование из одного потока в другой</li>
</ul>