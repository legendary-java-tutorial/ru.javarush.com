Установка maven
<p>----------------------------------------</p>
Большие программы
Знакомство с Maven
Загрузка и установка Maven
Переменные окружения
Локальный репозиторий Maven
<p>----------------------------------------</p>
<h2>1.1 Большие программы</h2>
<p>Мы уже научились писать маленькие программы, поэтому теперь будем учиться писать большие. Как известно, чем больше и сложнее программа, тем больше за ее разработку платят денег:) И начнем с небольшой предыстории…</p>
<p>С ростом размера программ разработчики столкнулись с двумя новыми для себя обстоятельствами:</p>
<ul>
	<li> <span class="text-red">Над одной программой работает большое количество людей.</span></li>
	<li><span class="text-red">Нет такого человека, который бы знал весь код программы.</span></li>
</ul>
<p>Очень часто начали возникать ситуации, когда программист фиксил баг в одном месте программы и при этом ломал что-то в другом. В release documentation даже появилась такая шутка:</p>
<p>Список изменений:</p>
<ul>
	<li><span class="text-green">Исправили старые баги :)</span></li>
	<li><span class="text-green">Добавили новые :(</span></li>
</ul>
<p>Тогда же придумали два подхода к решению этой проблемы: технический и менеджерский.</p>
<p>Технический подход заключался в том, что программы разбивали на части: <strong>библиотеки и модули</strong>. Каждый такой модуль был небольшим кирпичиком из которых потом выстраивались большие проекты. Библиотеки же – это такие универсальные компоненты, которые могут использоваться в разных программах.</p>
<p>Менеджерский подход был еще интереснее – они ограничивал количество людей, которые могут работать над одним проектом/библиотекой. Эмпирически даже вывели правило: <span class="text-green">команда должна быть настолько большой, чтобы "ее можно было накормить двумя пиццами"</span>. Обычно это означает, что если над проектом работает более <strong>8 человек</strong>, то его нужно разделить на два проекта.</p>
<p>В сообществе Java-разработчиков популярным стало написание библиотек на все случаи жизни и выкладывание их в общий доступ. Таким образом, Java-программисты могли не писать снова один и тот же код (который зачастую был сыроват и содержал баги), а пользоваться готовыми и <strong>проверенными решениями</strong>.</p>
<p>Дополнительным стимулом стало то, что язык Java получил большую популярность при написании серверных решений (работал на бэкенде). Во-первых, у серверного ПО более высокие требования к надежности,  <span class="text-green">и использование проверенных временем библиотек всегда предпочтительнее, чем написание своего кода.</span></p>
<p>Во-вторых, у серверов практически нет ограничений на размер кода. Разработчик мобильного приложения старается впихнуть его в 10 мегабайт, десктопного приложения – в 100 мегабайт. А бэкенд-разработчик на Java может напихать в проект несколько десятков гигабайт библиотек и ему слова никто не скажет :)</p>
<p>Это, кстати, не шутка. Легко можно встретить бэкенд-проект из нескольких десятков модулей и с парой сотен библиотек. Вот только описывать (и изменять!) сценарии сборки таких проектов стало чрезвычайно трудно.</p>
<p>И тут появился Maven.</p>

<h2>1.2  Знакомство с Maven</h2>
<strong>Maven</strong> – это специальный “фреймворк” для управления сборкой проектов. Он стандартизирует 3 вещи:
<ul>
	<li> Описание проекта;</li>
	<li> Сценарии сборки проектов;</li>
	<li>Зависимости между библиотеками.</li>
</ul>
<p>Предшественником Maven’а был <strong>Ant</strong>, а наследником является <strong>Gradle</strong>. Но именно Maven развил и довел до совершенства три перечисленных стандарта, а также регламентировал их взаимодействие. Именно он вывел работу Java-сообществ на новый уровень. Давай же посмотрим на него подробнее.</p>
<img data-max-width="1024" data-id="e90f5737-4078-4468-9225-c4c4487c931d" src="https://cdn.javarush.com/images/article/e90f5737-4078-4468-9225-c4c4487c931d/1024.jpeg" alt="Maven’а">
<p>Технически Maven – это специальная программа/сервис, основная цель которой <strong>управлять процессом сборки </strong>проектов. Ее можно просто скачать в виде архива и распаковать в любую директорию. Специальный установщик для этого не нужен.</p>
<p>Графического интерфейса у нее нет – <strong>все команды отдаются ей с помощью консоли</strong>. Чтобы еще более комфортно с ней работать, рекомендуется прописать в своей ОС специальные переменные окружения (environment variables).</p>
<p>Так же у Maven есть специальный <strong>репозиторий</strong> (директория/папка), где он хранит библиотеки, которые используются им при сборке проектов. Тебе нужно будет выбрать какую-нибудь папку на диске и назначить ее в качестве репозитория.</p>
<p>Еще из интересного можно отметить наличие глобального Maven-репозитория для всех библиотек, но об этом расскажем немного позже.</p>

<h2>1.3  Загрузка и установка Maven</h2>
<p>У Maven есть официальный сайт <a href="https://maven.apache.org/" target="_blank">maven.apache.org</a>. Там очень много документации по проекту, так что, если возникнут сложности или дополнительные вопросы – заходи, не стесняйся.</p>
<p>Также на странице downloads (<a href="https://maven.apache.org/download.cgi" target="_blank">https://maven.apache.org/download.cgi</a>) можно скачать архив с maven (apache-maven-3.8.5-bin.zip). Распакованный архив займет где-то 10 Мб, хотя для локального maven репозитория со временем потребуется несколько сотен мегабайт памяти.</p>
<p>Maven написан на Java и требует JRE не ниже 7 версии, а также прописанные переменные окружения типа JAVA_HOME.</p>
<p>Просто создай на компьютере папку для Maven, например, <span class="text-orange">d:\devtools</span>, и распакуй в нее архив с Maven. В итоге у тебя должна получиться папка типа <span class="text-orange">d:\devtools\maven\bin</span>, где будут находиться основные бинарные файлы проекта.</p>

<h2>1.4  Переменные окружения</h2>
<p>После этого нужно добавить путь к папке bin из распакованного архива в переменную среды PATH.</p>
<p>Чтобы установить переменную среды (environment variable) в Windows 10, нужно перейти в Панель управления — Система — Дополнительные параметры системы. Затем нажать “Переменные среды”, найти PATH и выбрать “Изменить”, после чего добавить путь <span class="text-orange">d:\devtools\maven\bin</span></span> в конец строки. Обрати внимание, путь должен вести именно к папке bin.</p>
<p>В ОС на основе Unix переменную среды можно добавить консольной командной:</p>
<pre class='language-java line-numbers'><code>
export PATH=/opt/apache-maven-3.8.5/bin:$PATH
</code></pre>
<p>Если ты все сделал правильно, то в консоли нужно набрать команду: «mvn -v». В ответ ты увидишь что-то типа:</p>
<pre class='language-java line-numbers'><code>
C:\Users\Zapp>mvn -v
Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 15:51:28+0200)
Maven home: T:\apache-maven-3.0.5\bin\..
Java version: 1.8.0_65, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_65\jre
Default locale: en_US, platform encoding: Cp1251
OS name: "windows 7", version: "6.1", arch: "amd64", family: "dos"
</code></pre>

<h2>1.5  Локальный репозиторий Maven</h2>
<p>Также ты можешь задать специальную папку, где Maven будет хранить jar-библиотеки, которые будет использовать при сборке проектов. Такую папку называют – <strong>локальный maven репозиторий</strong>.</p>
<p>Если такая папка не задана, то Maven создаст ее в домашней директории текущего пользователя. У меня это директория: <span class="text-orange">C:\Users\Zapp\.m2</span></p>
<p>Папка имеет довольно специфическое имя “.m2”. Хотя пользователей Linux оно не пугает – там это довольно распространенный подход к именованию различных ”репозиториев” и/или любого другого хранилища служебной информации.</p>
<p><strong>Важно!</strong> Не располагай Maven в системных папках, так как при работе ему понадобятся права на запись в эти папки, что может вызывать нездоровый интерес антивируса или операционной системы.</p>
<p>Maven до версии 3.5 требовал указать переменную окружения с именем M2_HOME, но теперь это не нужно.</p>
<p>Более подробно о конфигурировании Maven можно почитать по ссылке: <a href="https://maven.apache.org/configure.html" target="_blank">https://maven.apache.org/configure.html</a></p>