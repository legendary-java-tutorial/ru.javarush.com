Вставки скриптов в JSP
<p>----------------------------------------</p>
Скриптлеты &lt;%. 
Выражение  &lt;%=.
<p>----------------------------------------</p>
    <h2>Скриптлеты &lt;%</h2>

    <h2>Что вообще можно вставить в JSP-файл?</h2>

    <p>Во-первых — Java-код. Если ты хочешь вставить Java-код в свой JSP, то общий формат задается шаблоном:</p>
 
    <pre><code> <span class="text-red">&lt;%</span>
	<span class="text-green">Java-код</span>
 <span class="text-red">%></span>
</code></pre>
 
    <p>Можно разбивать такой код на несколько частей:</p>
 
    <pre><code> <span class="text-red">&lt;%</span>
   <span class="text-green">Начало Java-кода</span>
 <span class="text-red">%></span>
  HTML-код
<span class="text-red">&lt;%</span>
   <span class="text-green">Конец Java-кода</span>
 <span class="text-red">%></span>
</code></pre>
 
    <p>Пример:</p>

    <pre><code>
    &lt;html> 
    &lt;body> 
	<span class="text-red">&lt;%</span>
    	<span class="text-neon">double num = Math.random();
    	if (num > 0.95) {</span>
     <span class="text-red">%></span>
         &lt;h2> Ты счастливчик, user!&lt;/h2>&lt;p>(<span class="text-red">&lt;%=</span> <span class="text-neon">num</span> <span class="text-red">%></span>)&lt;/p>
 	<span class="text-red">&lt;%</span>
   	<span class="text-neon">    } else {</span>
     <span class="text-red">%></span> 
         &lt;h2> Сегодня не твой день, user!&lt;/h2>&lt;p>(<span class="text-red">&lt;%=</span> <span class="text-neon">num</span> <span class="text-red">%></span>)&lt;/p>
 	<span class="text-red">&lt;%</sspan>
   	<span class="text-neon">    }</span>
 	<span class="text-red">%></span>
  &lt;/body> 
   &lt;/html> 
</code></pre>
 
    <h2>Выражение  &lt;%=</h2>

    <p>Также в JSP-файл можно вставить любое вычисляемое выражение. При этом JSP-парсер сам позаботится о том, чтобы оно не просто вычислялось, но и присваивалось, куда нужно. Выражение внутри кода задается шаблоном:</p>
 
    <pre><code> <span class="text-red">&lt;%=</span> <span class="text-green">выражение</span> <span class="text-red">%></span>
</code></pre>
 
    <p>Обрати внимание, что точку с запятой тут ставить не нужно.</p>

    <p>Пример JSP-сервлета с несколькими выражениями:</p>
 
    <pre><code>&lt;p>Корень из 10 равен <span class="text-red">&lt;%=</span> <span class="text-green">Math.sqrt(10)</span> <span class="text-red">%></span>&lt;/p>
&lt;h5><span class="text-red">&lt;%=</span> <span class="text-green">item[10]</span> <span class="text-red">%></span>&lt;/h5>
&lt;p>Текущее время: <span class="text-red">&lt;%=</span>  <span class="text-green">new java.util.Date()</span> <span class="text-red">%></span>&lt;/p>
</code></pre>
 
    <p>Этот код будет преобразован в такой Java-код:</p>
 
    <pre class='language-java line-numbers'><code>
out.write("&lt;р&gt;");
out.write("Корень из 10 равен ");
out.print( Math.sqrt(10) );
out.write("&lt;/p>");
out.write("&lt;h5>");
out.print( item[10] );
out.write("&lt;/h5>");
out.write("&lt;p> Текущее время: ");
out.print( new java.util.Date()  );
out.write("&lt;/p>");
</code></pre>
 
    <p><span class="text-red"><span class="text-span">Важно!</span></span> В своем Java-коде и выражениях ты можешь использовать предопределённые переменные, такие как <mark class="user">request</mark>, <mark class="user">response</mark>, <mark class="user">session</mark>, <mark class="user">out</mark> и т. п.</p>