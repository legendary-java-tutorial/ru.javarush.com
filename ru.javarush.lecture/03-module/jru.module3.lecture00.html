Проект по теме: Maven
<p>----------------------------------------</p>
Проект по теме: Maven
<p>----------------------------------------</p>
<h2>Задание: Нужно сделать исполняемый JAR-файл с игрой на JavaFX через графический движок от JavaRush. </h2>
<p><strong>Для этого нужно:</strong></p>
<ol>
    <li>Сделать fork из репозитория <a href="https://github.com/vasylmalik/project-maven.git" target="_blank">https://github.com/vasylmalik/project-maven.git</a> </li>
    <li>Скачать свою версию проекта к себе на компьютер. Дальше будем работать с файлом <strong>pom.xml</strong>. </li>
    <li>Добавить зависимости: </li>
        <ul>
            <li><strong>org.apache.commons: commons-lang3: 3.12.0</strong></li>
            <li><strong>org.openjfx: javafx-controls: 18.0.1</strong></li>
            <li><strong>com.javarush: desktop-game-engine:1.0</strong> (об этой зависимости будет отдельное задание)</li>
            <li><strong>org.junit.jupiter: junit-jupiter-engine: 5.8.2</strong> (с scope test)</li>
        </ul>
    <li>Добавить плагины для: </li>
        <ul>
            <li>установки зависимости <strong>com.javarush: desktop-game-engine:1.0</strong> из библиотеки lib в локальный репозиторий (google в помощь); </li>
            <li>плагин <strong>maven-compiler-plugin</strong> оставить без изменений; </li>
            <li>плагин, который соберет все зависимости (с scope compile) и сложит в какую-то директорию при сборке; </li>
            <li>плагин <strong>maven-jar-plugin</strong>, который сделает jar файл, содержащий код игры и зависимости. В этом плагине нужно сконфигурировать файл <strong>MANIFEST.MF</strong>, чтоб он содержал секции: <code>Class-Path</code>, <code>Main-Class</code> и <code>Rsrc-Main-Class</code></li>
            <li>В <code>Class-Path</code> должны быть прописаны все наши JAR-зависимости. </li>
            <li>В <code>Main-Class</code> должен быть прописан класс <code>org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader</code>, который умеет использовать classpath из JAR-файлов, а также умеет стартовать приложение на JavaFX.</li>
            <li>В <code>Rsrc-Main-Class</code> должен быть прописан стартовый класс игры (com.javarush.games.racer.RacerGame).</li>
        </ul>
    <li>В плагине <strong>maven-surefire-plugin</strong> сделать конфигурацию, чтоб тест <strong>StrangeTest</strong> не запускался при сборке. Остальные тесты должны выполняться. </li>
    <li>Добавить секцию <strong>“resources”</strong>, в которой сказать, что собранные JAR-зависимости это ресурс, чтоб плагин <strong>maven-jar-plugin</strong> сложил их внутрь JAR-файла в папку <strong>lib/</strong> </li>
    <li>Залить изменения в свой GitHub-репозиторий, отправить ссылку на него преподавателю.</li>
</ol>
<br>
<p><strong>Полезное: </strong></p>
<ol>
    <li>Билд нужно выполнять командой <strong>mvn clean install</strong>. </li>
    <li>Запуск игры (через Maven) с целью посмотреть можно выполнить командой <strong>mvn javafx:run.</strong></li>
    <li>Некоторым плагинам нужно переопределить <strong>phase</strong>. </li>
    <li>В проекте используется версия JDK 18.0.1. Она должна быть скачана у тебя на компе. </li>
    <li>При билде через Maven сперва будут ошибки. Читай их внимательно и ты упростишь себе жизнь. </li>
    <li>В пакете <strong>org.eclipse.jdt.internal.jarinjarloader</strong> ничего не изменяй. В нем кастомный класс-лоадер (честно скопированный с StackOverflow), в котором изменен запуск метода main на запуск JavaFX приложения. Использовать только в учебных целях. </li>
    <li>Если выполнить все пункты, в результате сборки ты получишь <strong>fat-JAR-файл</strong>. Запустить и проверить, что все сделано правильно можно командой:
         <pre class='language-java'><code>
&lt;путь к java 18> -jar <имя результирующего jar файла&gt;

//Пример 
"C:\Users\leo12\.jdks\openjdk-18.0.1.1\bin\java.exe" -jar "E:\temp\project-maven-1.0.jar"  
</code></pre></li>
    <li>В результате ты увидишь: <img data-max-width="512" data-id="c0b2cb6c-8d36-4ef0-84be-e2d4e6295ab4" src="https://cdn.javarush.com/images/article/c0b2cb6c-8d36-4ef0-84be-e2d4e6295ab4/512.jpeg" alt=""></li>
    <li>Билд зависит от твоей операционной системы. То есть, если JAR-файл собран на Windows, его можно выполнить на любом компе с Windows и Java18. И нельзя выполнить на Mac и Linux. </li>
</ol>
<p>
<hr>
<p><a href="https://youtu.be/clQ07xRnqKg" target="_blank">Разбор проекта</a>. <strong>Смотреть после выполнения!</strong><p>
