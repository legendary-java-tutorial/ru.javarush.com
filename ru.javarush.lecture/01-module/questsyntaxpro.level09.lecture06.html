StringBuilder
<p>----------------------------------------</p>
Изменения строк Строки в Java – это неизменяемые объекты (immutable). Так было сделано для того, чтобы класс-строку можно было сильно оптимизировать и использовать повсеместно.&nbsp; Например, в качестве ключей у коллекции HashMap рекомендуется использовать только immutable-типы. Однако, часто в
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b9750269-3a68-4558-ac20-1057871085c1" src="https://cdn.javarush.com/images/article/b9750269-3a68-4558-ac20-1057871085c1/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="61e0fc90-717e-4011-a30a-98b7916b3cca" src="https://cdn.javarush.com/images/article/61e0fc90-717e-4011-a30a-98b7916b3cca/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="722aa921-49a7-45ec-9284-b84bdb5c97cc" src="https://cdn.javarush.com/images/article/722aa921-49a7-45ec-9284-b84bdb5c97cc/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Изменения строк</h2>
<p>Строки в Java — это неизменяемые объекты (immutable). Так было сделано для того, чтобы класс-строку можно было сильно оптимизировать и использовать повсеместно. Например, <a href="https://javarush.com/groups/posts/1940-klass-hashmap-">в качестве ключей у коллекции HashMap</a> рекомендуется использовать только immutable-типы.</p>
<p>Однако часто возникают ситуации, когда программисту все же было бы удобнее иметь <code>String</code>-класс, который можно менять. Который не создает новую подстроку при каждом вызове его метода.</p>
<p>Например, у нас есть очень большая строка и мы часто дописываем что-то в ее конец. В этом случае даже коллекция символов (<code>ArrayList&lt;Character&gt;</code>) может быть эффективнее, чем постоянное пересоздание строк и конкатенации объектов типа <code>String</code>.</p>
<p>Именно поэтому в язык Java все же добавили тип String, который можно менять. Называется он <code>StringBuilder</code>.</p>
<p><strong>Создание объекта</strong></p>
<p>Чтобы создать объект <code>StringBuilder</code> на основе существующей строки, нужно выполнить команду вида:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">StringBuilder</span> <span class="text-user">имя</span> = new <span class="text-red">StringBuilder</span>(<span class="text-green">строка</span>);</code></pre>
</div>
<p>Чтобы создать пустую изменяемую строку, нужно воспользоваться командой вида:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">StringBuilder</span> <span class="text-user">имя</span> = new <span class="text-red">StringBuilder</span>();</code></pre>
</div>
<p>Список методов</p>
<p>Класс <code>StringBuilder</code> имеет два десятка полезных методов, вот самые важные из них:</p>
<table>
    <tbody>
    <tr>
        <th>Метод</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>StringBuilder <span class="text-red">append</span>(obj)</code></pre>
        </td>
        <td>Преобразовывает переданный объект в строку и добавляет к текущей строке</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>StringBuilder <span class="text-red">insert</span>(int index, obj)</code></pre>
        </td>
        <td>Преобразовывает переданный объект в строку и вставляет в текущую строку</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>StringBuilder <span class="text-red">replace</span>(int start, int end, String str)</code></pre>
        </td>
        <td>Заменяет часть строки, заданную интервалом start..end на переданную строку</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>StringBuilder <span class="text-red">deleteCharAt</span>(int index)</code></pre>
        </td>
        <td>Удаляет из строки символ под номером index</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>StringBuilder <span class="text-red">delete</span>(int start, int end)</code></pre>
        </td>
        <td>Удаляет из строки символы, заданные интервалом</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">indexOf</span>(String str, int index)</code></pre>
        </td>
        <td>Ищет подстроку в текущей строке</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">lastIndexOf</span>(String str, int index)</code></pre>
        </td>
        <td>Ищет подстроку в текущей строке с конца</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>char <span class="text-red">charAt</span>(int index)</code></pre>
        </td>
        <td>Возвращает символ строки по его индексу</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">substring</span>(int start, int end)</code></pre>
        </td>
        <td>Возвращает подстроку, заданную интервалом</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>StringBuilder <span class="text-red">reverse</span>()</code></pre>
        </td>
        <td>Разворачивает строку задом наперед.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>void <span class="text-red">setCharAt</span>(int index, char)</code></pre>
        </td>
        <td>Изменяет символ строки, заданный индексом на переданный</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">length</span>()</code></pre>
        </td>
        <td>Возвращает длину строки в символах</td>
    </tr>
    </tbody>
</table>
<p>Вот краткое описание каждого метода</p>
<hr>
<h2>2. Краткое описание методов</h2>
<p>Добавление к строке</p>
<p>Чтобы что-то добавить к изменяемой строке (<code>StringBuilder</code>), нужно воспользоваться методом <code>append()</code>. Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-viola">StringBuilder</span> builder = new <span class="text-viola">StringBuilder</span>("Привет");
<span class="text-user">builder</span>.<span class="text-red">append</span>("Пока");
<span class="text-user">builder</span>.<span class="text-red">append</span>(123);</code></pre>
        </td>
        <td>
                <pre><code>Привет
ПриветПока
ПриветПока123</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Преобразование к стандартной строке</strong></p>
<p>Чтобы преобразовать объект <code>StringBuilder</code> к строке типа String, нужно просто вызвать у него метод <code>toString()</code>. Пример</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Вывод на экран</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-viola">StringBuilder</span> <span class="text-user">builder</span> = new <span class="text-viola">StringBuilder</span>("Привет");
<span class="text-user">builder.<span class="text-red">append</span></span>(123);
String <span class="text-green">result</span> = <span class="text-user">builder</span>.<span class="text-red">toString</span>();
System.out.println(<span class="text-green">result</span>);</code></pre>
        </td>
        <td>
            <pre><code>Привет123</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Как удалить символ?</strong></p>
<p>Чтобы удалить символ в изменяемой строке, вам нужно воспользоваться методом <code>deleteCharAt()</code>. Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Вывод на экран</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-viola">StringBuilder</span> <span class="text-user">builder</span> = new <span class="text-viola">StringBuilder</span>("Привет");
<span class="text-user">builder</span>.<span class="text-red">deleteCharAt</span>(2);
String <span class="text-green">result</span> = <span class="text-user">builder</span>.<span class="text-red">toString</span>();
System.out.println(<span class="text-green">result</span>);</code></pre>
        </td>
        <td>
            <pre><code>Првет</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Как заменить часть строки на другую?</strong></p>
<p>Для этого есть метод <code>replace(int begin, int end, String str)</code>. Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Вывод на экран</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-viola">StringBuilder</span> builder = new <span class="text-viola">StringBuilder</span>("Привет");
<span class="text-user">builder</span>.<span class="text-red">replace</span>(2, 5, "Hello!");
String <span class="text-green">result</span> = <span class="text-user">builder</span>.<span class="text-red">toString</span>();
System.out.println(<span class="text-green">result</span>);
</code></pre>
        </td>
        <td>
            <pre><code>ПрHello!т</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task09.task0918"></div>
<hr>
<h2>3. Полезные примеры работы со строками</h2>
<p><strong>Как развернуть строку задом наперед?</strong></p>
<p>Для этой операции есть специальный метод — <code>reverse()</code>; Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Вывод на экран</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>String <span class="text-orange">str</span> = <span class="text-green">"Привет"</span>;
<span class="text-viola">StringBuilder</span> <span class="text-user">builder</span> = new <span class="text-viola">StringBuilder</span>(<span class="text-orange">str</span>);
<span class="text-user">builder</span>.<span class="text-red">reverse</span>();
String <span class="text-green">result</span> = <span class="text-user">builder</span>.<span class="text-red">toString</span>();
System.out.println(<span class="text-green">result</span>);
</code></pre>
        </td>
        <td>
            <pre><code>тевирП</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Класс <code>StringBuffer</code></strong></p>
<p>Есть еще один класс — <code>StringBuffer</code> — это аналог класса <code>StringBuilder</code>, только его методы имеют модификатор <code>synchronized</code>. А это значит, что к объекту <code>StringBuffer</code> можно одновременно обращаться из нескольких потоков.</p>
<p>Зато он работает гораздо медленнее, чем <code>StringBuilder</code>. Такой класс может вам понадобиться, когда вы начнете активно изучать многопоточность в квесте <span class="term">Java Multithreading</span>.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task09.task0919"></div>
<hr>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="c6453e20-2229-4fa1-b0ad-2d7ae9b6bdb4" src="https://cdn.javarush.com/images/article/c6453e20-2229-4fa1-b0ad-2d7ae9b6bdb4/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="ca31d911-177c-43e9-bd1b-884048ce94ad" src="https://cdn.javarush.com/images/article/ca31d911-177c-43e9-bd1b-884048ce94ad/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="2a2edfa7-8a99-42d3-9a61-00233e0bfce0" src="https://cdn.javarush.com/images/article/2a2edfa7-8a99-42d3-9a61-00233e0bfce0/original.png" alt="">
        </div>
    </div>
</div>