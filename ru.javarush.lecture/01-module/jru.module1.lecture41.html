IO vs NIO
<p>----------------------------------------</p>
IO (Input &amp; Output) API ‚Äî —ç—Ç–æ Java API, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Ä–∞–±–æ—Ç—É —Å –ø–æ—Ç–æ–∫–∞–º–∏. –°–∫–∞–∂–µ–º, –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–º–∏–ª–∏—è, –∏–º—è –∏ –æ—Ç—á–µ—Å—Ç–≤–æ) –∏ –Ω–∞–º –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∏—Ö –≤ —Ñ–∞–π–ª ‚Äî –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å java.io...
<p>----------------------------------------</p>
    <h2>–ß–µ–º —Ç–∞–∫ –ø–ª–æ—Ö Java IO?</h2>

    <p>IO (Input & Output) API ‚Äî —ç—Ç–æ Java API, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Ä–∞–±–æ—Ç—É —Å –ø–æ—Ç–æ–∫–∞–º–∏. –°–∫–∞–∂–µ–º, –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–º–∏–ª–∏—è, –∏–º—è –∏ –æ—Ç—á–µ—Å—Ç–≤–æ) –∏ –Ω–∞–º –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∏—Ö –≤ —Ñ–∞–π–ª ‚Äî –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <span class="text-bold">java.io</span>.</p>

    <img data-max-width="800" data-id="7f63efc7-40de-426e-80f0-50a194df2b90" src="https://cdn.javarush.com/images/article/7f63efc7-40de-426e-80f0-50a194df2b90/original.png" alt="">

    <div class="text-center"><small><em><p style="margin-top:-20px;">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ java.io</p></em></small></div>

    <p>–ù–æ —É <span class="text-orange"><span class="text-bold">Java IO</span></span> –µ—Å—Ç—å —Å–≤–æ–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, —Ç–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø–æ –ø–æ—Ä—è–¥–∫—É –æ –∫–∞–∂–¥–æ–º –∏–∑ –Ω–∏—Ö:</p>

    <ol>
        <li>–ë–ª–æ–∫–∏—Ä—É—é—â–∏–π –¥–æ—Å—Ç—É–ø –¥–ª—è –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –∫–æ–≥–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –∏–ª–∏ –∑–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ-—Ç–æ –≤ –Ω–µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è <span class="text-orange"><span class="text-bold">Java IO</span></span>, –æ–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –∏ –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É –¥–æ –º–æ–º–µ–Ω—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≤–æ–µ–π –∑–∞–¥–∞—á–∏.</li>
        <li>–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º.</li>
        <li>–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Å—ã–ª–æ–∫.</li>
        <li>–û—á–µ–Ω—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ checked –∏—Å–∫–ª—é—á–µ–Ω–∏–π.</li>
    </ol>

    <p>–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –≤—Å–µ–≥–¥–∞ –Ω–µ—Å–µ—Ç –∑–∞ —Å–æ–±–æ–π —Ä–∞–±–æ—Ç—É —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏: –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—ã–∑–æ–≤–µ—Ç <span class="text-red"><span class="text-bold">IOException</span></span>. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, –ø–æ –∫–∞–∫–æ–π –ø—Ä–∏—á–∏–Ω–µ —Ñ–∞–π–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω.</p>

    <pre class='language-java line-numbers'><code>
try {
	File.createTempFile("prefix", "");
} catch (IOException e) {
	// Handle IOException
}

/**
 * Creates an empty file in the default temporary-file directory 
 * any exceptions will be ignored. This is typically used in finally blocks. 
 * @param prefix 
 * @param suffix 
 * @throws IOException - If a file could not be created
 */
public static File createTempFile(String prefix, String suffix) 
throws IOException {
...
}
</code></pre>

    <p>–ó–¥–µ—Å—å –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –º–µ—Ç–æ–¥ <span class="code text-orange">createTempFile</span> –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç <span class="text-red"><span class="text-bold">IOException</span></span>, –∫–æ–≥–¥–∞ —Ñ–∞–π–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω. –≠—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∑–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–Ω–µ –±–ª–æ–∫–∞ <span class="text-viola">try-catch</span>, —Ç–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –Ω–∞–º –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –æ–∫—Ä—É–∂–∏—Ç—å –º–µ—Ç–æ–¥ –±–ª–æ–∫–æ–º <span class="text-viola">try-catch</span> –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –º–µ—Ç–æ–¥, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è <span class="code text-orange">File.createTempFile</span>, –≤—ã–±—Ä–∞—Å—ã–≤–∞–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <span class="text-red"><span class="text-bold">IOException</span></span> (—á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏).</p>

    <h2>–ü—Ä–∏—Ö–æ–¥ –∫ Java NIO –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Java IO</h2>

    <p><span class="text-orange"><span class="text-bold">Java NIO</span></span>, –∏–ª–∏ Java Non-blocking I/O (–∏–Ω–æ–≥–¥–∞ ‚Äî Java New I/O, ‚Äú–Ω–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥‚Äù) –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞.</p>

    <p>–î–∞–≤–∞–π –ø–æ–ø—Ä–æ–±—É–µ–º —Å—Ä–∞–≤–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã <span class="text-orange"><span class="text-bold">Java IO</span></span> –∏ —Ç–µ, —á—Ç–æ –ø—Ä–∏—à–ª–∏ –∏–º –Ω–∞ –∑–∞–º–µ–Ω—É.</p>

    <p>–°–Ω–∞—á–∞–ª–∞ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ä–∞–±–æ—Ç–µ —Å <span class="text-orange"><span class="text-bold">Java IO</span></span>:</p>

    <h3>–ö–ª–∞—Å—Å InputStream</h3>

    <pre class='language-java line-numbers'><code>
try(FileInputStream fin = new FileInputStream("C:/javarush/file.txt")){
    System.out.printf("File size: %d bytes \n", fin.available());
    int i=-1;
    while((i=fin.read())!=-1){
        System.out.print((char)i);
    }   
} catch(IOException ex) {
    System.out.println(ex.getMessage());
}
</code></pre>

    <p>–ö–ª–∞—Å—Å <span class="code"><span class="text-green">FileInputStream</span></span> –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º –∫–ª–∞—Å—Å–∞ <span class="code"><span class="text-green">InputStream</span></span> –∏ –ø–æ—ç—Ç–æ–º—É —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã. –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç, —Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ <span class="text-red"><span class="text-bold">FileNotFoundException</span></span>.</p>

    <h3>–ö–ª–∞—Å—Å OutputStream</h3>

    <pre class='language-java line-numbers'><code>
String text = "Hello world!"; // —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
try(FileOutputStream fos = new FileOutputStream("C:/javarush/file.txt")){
    // –ø–µ—Ä–µ–≤–æ–¥–∏–º –Ω–∞—à—É —Å—Ç—Ä–æ–∫—É –≤ –±–∞–π—Ç—ã
    byte[] buffer = text.getBytes();
    fos.write(buffer, 0, buffer.length);
    System.out.println("The file has been written");
} catch(IOException ex){
    System.out.println(ex.getMessage());
}
</code></pre>

    <p>–ö–ª–∞—Å—Å <span class="code"><span class="text-green">FileOutputStream</span></span> –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏ –±–∞–π—Ç–æ–≤ –≤ —Ñ–∞–π–ª. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º –æ—Ç –∫–ª–∞—Å—Å–∞ <span class="code"><span class="text-green">OutputStream</span></span>.</p>

    <h3>–ö–ª–∞—Å—Å—ã Reader –∏ Writer</h3>

    <p>–ö–ª–∞—Å—Å <span class="code"><span class="text-green">FileReader</span></span> –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —á–∏—Ç–∞—Ç—å —Å–∏–º–≤–æ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ—Ç–æ–∫–æ–≤, –∞ –∫–ª–∞—Å—Å <span class="code"><span class="text-green">FileWriter</span></span> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –ø–æ—Ç–æ–∫–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –Ω–∏–∂–µ:</p>

    <pre class='language-java line-numbers'><code>
        String fileName = "c:/javarush/Example.txt";

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ FileWriter
        try (FileWriter writer = new FileWriter(fileName)) {

            // –ó–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤ —Ñ–∞–π–ª
            writer.write("–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä,\n –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º\n —Å –ø–æ–º–æ—â—å—é —è–∑—ã–∫–∞ Java\n –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª\n –∏ —á—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞\n");
            writer.flush();
        } catch (IOException e) {
            e.printStackTrace();
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ FileReader
        try (FileReader fr = new FileReader(fileName)) {
            char[] a = new char[200];// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ–º —Å—á–∏—Ç—ã–≤–∞—Ç—å
            fr.read(a);   // –ß—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤ –º–∞—Å—Å–∏–≤
            for (char c : a) {
                System.out.print(c); // –í—ã–≤–æ–¥ —Å–∏–º–≤–æ–ª–æ–≤ –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º–∏
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
</code></pre>

    <p>–¢–µ–ø–µ—Ä—å –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ <span class="text-orange"><span class="text-bold">Java NIO</span></span>:</p>

    <h3>Channel</h3>

    <p>–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ <span class="text-orange"><span class="text-bold">Java IO</span></span>, <span class="code"><span class="text-green">Channel</span></span> —è–≤–ª—è–µ—Ç—Å—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º, —Ç–æ –µ—Å—Ç—å –º–æ–∂–µ—Ç –∏ —Å—á–∏—Ç—ã–≤–∞—Ç—å, –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å. –ö–∞–Ω–∞–ª <span class="text-orange"><span class="text-bold">Java NIO</span></span> –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ —Ä–µ–∂–∏–º–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, —Ç–∞–∫ –∏ –≤ —Ä–µ–∂–∏–º–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.</p>

    <pre class='language-java line-numbers'><code>
RandomAccessFile aFile = new RandomAccessFile("C:/javarush/file.txt", "rw");
FileChannel inChannel = aFile.getChannel();

ByteBuffer buf = ByteBuffer.allocate(100);
int bytesRead = inChannel.read(buf);

while (bytesRead != -1) {
  System.out.println("Read " + bytesRead);
  buf.flip();
	  while(buf.hasRemaining()){
	      System.out.print((char) buf.get());
	  }
  buf.clear();
  bytesRead = inChannel.read(buf);
}
aFile.close();
</code></pre>

    <p>–ó–¥–µ—Å—å –º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ <span class="code"><span class="text-green">FileChannel</span></span>. –î–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–π–ª–æ–≤—ã–π –∫–∞–Ω–∞–ª. –û–±—ä–µ–∫—Ç —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω —Ç–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞ <span class="code text-orange">getChannel()</span> –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –Ω–µ –º–æ–∂–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞.</p>

    <p>–ö—Ä–æ–º–µ <span class="code"><span class="text-green">FileChannel</span></span> —É –Ω–∞—Å –µ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–æ–≤:</p>

    <ul>
        <li><p><span class="code"><span class="text-green">FileChannel</span></span> ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏</p></li>
        <li><p><span class="code"><span class="text-green">DatagramChannel</span></span> ‚Äî –∫–∞–Ω–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ UDP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é</p></li>
        <li><p><span class="code"><span class="text-green">SocketChannel</span></span> ‚Äî –∫–∞–Ω–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é</p></li>
        <li><p><span class="code"><span class="text-green">ServerSocketChannel</span></span> —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ <span class="code"><span class="text-green">SocketChannel</span></span> –∏ —Å—Ö–æ–∂ —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º —Ä–∞–±–æ—Ç—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞</p></li>
    </ul>

    <img data-max-width="1080" data-id="bc23a859-452c-4620-a8d0-37aa985d050f" src="https://cdn.javarush.com/images/article/bc23a859-452c-4620-a8d0-37aa985d050f/original.png" alt="">

    <p>–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: <span class="code"><span class="text-green">FileChannel</span></span> –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º. –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º <span class="text-orange"><span class="text-bold">Java NIO</span></span> –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ (channel) –∏ –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –∏–ª–∏ –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞ –Ω–µ—Ç. –í —ç—Ç–æ –∂–µ –≤—Ä–µ–º—è <span class="code"><span class="text-green">SelectableChannel</span></span> –∏ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –≤ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–º —Ä–µ–∂–∏–º–µ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ <span class="code text-orange">connect()</span>.</p>

    <h3>Selector</h3>

    <p>–í <span class="text-orange"><span class="text-bold">Java NIO</span></span> –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, –∫–∞–∫–æ–π –∫–∞–Ω–∞–ª –≥–æ—Ç–æ–≤ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç—Ç–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ <span class="code"><span class="text-green">Selector</span></span>.</p>

    <img data-max-width="512" data-id="89d44a59-660d-42b6-b6c5-cc616a8ee9f1" src="https://cdn.javarush.com/images/article/89d44a59-660d-42b6-b6c5-cc616a8ee9f1/original.png" alt="">

    <div class="text-center"><small><em><p style="margin-top:-20px;">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤—è–∑–∏ –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞</p></em></small></div>

    <pre class='language-java line-numbers'><code>
Selector selector = Selector.open();
channel.configureBlocking(false); // –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º
SelectionKey key = channel.register(selector, SelectionKey.OP_READ);
</code></pre>

    <p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–∞—à <span class="code"><span class="text-green">Selector</span></span> –∏ —Å–≤—è–∑—ã–≤–∞–µ–º –µ–≥–æ —Å <span class="code"><span class="text-green">SelectableChannel</span></span>.</p>

    <p>–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–º —Ä–µ–∂–∏–º–µ. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <span class="code"><span class="text-green">FileChannel</span></span> —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º, –ø–æ—Å–∫–æ–ª—å–∫—É <span class="code"><span class="text-green">FileChannel</span></span> –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º. –°–æ–∫–µ—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ.</p>

    <p>–ó–¥–µ—Å—å –º—ã –º–æ–∂–µ–º –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ <span class="code"><span class="text-green">SelectionKey</span></span> ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å –∫–∞–Ω–∞–ª–æ–º. –ú—ã –º–æ–∂–µ–º —É–∑–Ω–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ —Å –ø–æ–º–æ—â—å—é –∫–ª–∞–≤–∏—à–∏ –≤—ã–±–æ—Ä–∞.</p>

    <p>–¢–∏–ø—ã SelectionKey:</p>

    <ul>
        <li><p><span class="text-orange"><span class="text-bold">SelectionKey.OP_CONNECT</span></span> ‚Äî –∫–∞–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–æ—Ç–æ–≤ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ —Å–µ—Ä–≤–µ—Ä—É.</p></li>
        <li><p><span class="text-orange"><span class="text-bold">SelectionKey.OP_ACCEPT</span></span> ‚Äî –∫–∞–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.</p></li>
        <li><p><span class="text-orange"><span class="text-bold">SelectionKey.OP_READ</span></span> ‚Äî –∫–∞–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–æ—Ç–æ–≤ –∫ —á—Ç–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö.</p></li>
        <li><p><span class="text-orange"><span class="text-bold">SelectionKey.OP_WRITE</span></span> ‚Äî –∫–∞–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.</p></li>
    </ul>

    <h3>Buffer</h3>

    <p>–î–∞–Ω–Ω—ã–µ —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ –±—É—Ñ–µ—Ä—É –≤–ø–µ—Ä–µ–¥ –∏ –Ω–∞–∑–∞–¥, —á—Ç–æ –¥–∞–µ—Ç –Ω–∞–º –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö. –í —Ç–æ –∂–µ –≤—Ä–µ–º—è –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –±—É—Ñ–µ—Ä –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∂–µ –Ω–µ –∑–∞–±—ã–≤–∞–π —Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ–±—ã –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±—É—Ñ–µ—Ä –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –µ—â–µ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è —Ç–∞–º.</p>

    <pre class='language-java line-numbers'><code>
ByteBuffer buf = ByteBuffer.allocate (2048); 
int bytesRead = channel.read(buf);
buf.flip(); // –º–µ–Ω—è–µ–º —Ä–µ–∂–∏–º –Ω–∞ —á—Ç–µ–Ω–∏–µ
while (buf.hasRemaining()) { 
	byte data = buf.get(); // –µ—Å—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ 
}

buf.clear(); // –æ—á–∏—Å—Ç–∏–ª–∏ –∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
</code></pre>

    <p>–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –±—É—Ñ–µ—Ä–∞:</p>

    <table>
        <tbody>
            <tr>
                <th colspan =  "2"><center>–û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã</center></th>
            </tr>
            <tr>
                <td><span class="text-green">capacity</span></td>
                <td>–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –¥–ª–∏–Ω–æ–π –º–∞—Å—Å–∏–≤–∞.</td>
            </tr>
            <tr>
                <td><span class="text-green">position</span></td>
                <td>–ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.</td>
            <tr>
            </tr>
                <td><span class="text-green">limit</span></td>
                <td>–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ª–∏–º–∏—Ç. –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è –ø—Ä–µ–¥–µ–ª ‚Äî —ç—Ç–æ –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º, –∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏ ‚Äî –ø—Ä–µ–¥–µ–ª –µ–º–∫–æ—Å—Ç–∏ –∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–≤–æ—Ç–∞, —É–∫–∞–∑–∞–Ω–Ω–∞—è –Ω–∏–∂–µ.</td>
            </tr>
            <tr>
                <td><span class="text-green">mark</span></td>
                <td>–ò–Ω–¥–µ–∫—Å –∑–Ω–∞—á–µ–Ω–∏—è, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä <span class="text-green">position</span> –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ <span class="code text-orange">reset()</span>.</td>
            </tr>
        </tbody>
    </table>

    <p>–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º, —á—Ç–æ –Ω–æ–≤–æ–≥–æ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ <span class="text-orange"><span class="text-bold">Java NIO2</span></span>.</p>

    <h3>Path</h3>

    <p><span class="code"><span class="text-green">Path</span></span> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –ø—É—Ç—å –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è —Ñ–∞–π–ª–∞ –∏ —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–∞–ª–æ–≥–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏—Ö –ø—É—Ç—å –∫ –Ω–µ–º—É.</p>

    <pre class='language-java line-numbers'><code>
Path relative = Paths.get("Main.java");
System.out.println("–§–∞–π–ª: " + relative);
//–ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
System.out.println(relative.getFileSystem());
</code></pre>

    <p><span class="code"><span class="text-green">Paths</span></span> ‚Äî —ç—Ç–æ —Å–æ–≤—Å–µ–º –ø—Ä–æ—Å—Ç–æ–π –∫–ª–∞—Å—Å —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –º–µ—Ç–æ–¥–æ–º <span class="code text-orange">get()</span>. –ï–≥–æ —Å–æ–∑–¥–∞–ª–∏ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ URI –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ <span class="text-orange">Path</span>.</p>

    <pre class='language-java line-numbers'><code>
Path path = Paths.get("c:\\data\\file.txt");
</code></pre>

    <h3>Files</h3>

    <p><span class="code"><span class="text-green">Files</span></span> ‚Äî —ç—Ç–æ —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –º–æ–∂–µ–º –Ω–∞–ø—Ä—è–º—É—é –ø–æ–ª—É—á–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, –∏ –Ω–µ —Ç–æ–ª—å–∫–æ.</p>

    <pre class='language-java line-numbers'><code>
Path path = Paths.get("files/file.txt");
boolean pathExists = Files.exists(path);
</code></pre>

    <h3>FileSystem</h3>

    <p><span class="code"><span class="text-green">FileSystem</span></span> –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (<mark class="green">Path</mark>, <mark class="green">PathMatcher</mark>, <mark class="green">Files</mark>). –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –∏ –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–∞–º –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.</p>

    <pre class='language-java line-numbers'><code>
try {
      FileSystem filesystem = FileSystems.getDefault();
      for (Path rootdir : filesystem.getRootDirectories()) {
          System.out.println(rootdir.toString());
      }
  } catch (Exception e) {
      e.printStackTrace();
  }
</code></pre>

    <h2>–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>

    <p>–î–ª—è —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞ –¥–∞–≤–∞–π –≤–æ–∑—å–º–µ–º –¥–≤–∞ —Ñ–∞–π–ª–∞. –ü–µ—Ä–≤—ã–π ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∞–π–ª —Å —Ç–µ–∫—Å—Ç–æ–º, –∞ –≤—Ç–æ—Ä–æ–π ‚Äî –±–æ–ª—å—à–æ–π –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫.</p>

    <p>–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–≤ –∏ —Å–∏–º–≤–æ–ª–æ–≤:</p>

    <div class="terminal">% touch text.txt</div>

    <img data-max-width="512" data-id="6c4bffd9-ad54-4aa4-96d7-ad331d4a704d" src="https://cdn.javarush.com/images/article/6c4bffd9-ad54-4aa4-96d7-ad331d4a704d/original.png" alt="">
 
    <p>–ù–∞—à —Ñ–∞–π–ª –ø–æ –∏—Ç–æ–≥—É –∑–∞–Ω–∏–º–∞–µ—Ç –≤ –ø–∞–º—è—Ç–∏ 42 –±–∞–π—Ç–∞:</p>

    <img data-max-width="512" data-id="37fa5f4a-69c2-40b1-a17e-b578c654f41e" src="https://cdn.javarush.com/images/article/37fa5f4a-69c2-40b1-a17e-b578c654f41e/original.png" alt="">

    <p>–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à —Ñ–∞–π–ª –∏–∑ –æ–¥–Ω–æ–π –ø–∞–ø–∫–∏ –≤ –¥—Ä—É–≥—É—é. –ü—Ä–æ–≤–µ—Ä–∏–º –µ–≥–æ —Ä–∞–±–æ—Ç—É –Ω–∞ –º–∞–ª–µ–Ω—å–∫–æ–º –∏ –±–æ–ª—å—à–æ–º —Ñ–∞–π–ª–∞—Ö, –∏ —Ç–µ–º —Å–∞–º—ã–º —Å—Ä–∞–≤–Ω–∏–º —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã <span class="text-orange"><span class="text-bold">IO</span></span>, <span class="text-orange"><span class="text-bold">NIO</span></spam> –∏ <span class="text-orange"><span class="text-bold">NIO2</span></span>.</p>

    <p>–ö–æ–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ <span class="text-orange"><span class="text-bold">Java IO</span></span>:</p>

    <pre class='language-java line-numbers'><code>
public static void main(String[] args) {
        long currentMills = System.currentTimeMillis();
        long startMills = currentMills;
        File src = new File("/Users/IdeaProjects/testFolder/text.txt");
        File dst = new File("/Users/IdeaProjects/testFolder/text1.txt");
        copyFileByIO(src, dst);
        currentMills = System.currentTimeMillis();
        System.out.println("–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: " + (currentMills - startMills));
    }

    public static void copyFileByIO(File src, File dst){
        try(InputStream inputStream = new FileInputStream(src);
            OutputStream outputStream = new FileOutputStream(dst)){

            byte[] buffer = new byte[1024];
            int length;
            // –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–π—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤, –∞ –∑–∞—Ç–µ–º –≤—ã–≤–æ–¥–∏–º –≤ OutStream
            while((length = inputStream.read(buffer)) > 0){
                outputStream.write(buffer, 0, length);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
</code></pre>

    <p>–ò –∫–æ–¥ –¥–ª—è <span class="text-orange"><span class="text-bold">Java NIO</span></span>:</p>

    <pre class='language-java line-numbers'><code>
public static void main(String[] args) {
        long currentMills = System.currentTimeMillis();
        long startMills = currentMills;

        File src = new File("/Users/IdeaProjects/testFolder/text.txt");
        File dst = new File("/Users/IdeaProjects/testFolder/text2.txt");
        // –∫–æ–ø–∏—è nio
        copyFileByChannel(src, dst);
        currentMills = System.currentTimeMillis();
        System.out.println("–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: " + (currentMills - startMills));
    }

    public static void copyFileByChannel(File src, File dst){
        // 1. –ü–æ–ª—É—á–∞–µ–º FileChannel –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ —Ü–µ–ª–µ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
        try(FileChannel srcFileChannel  = new FileInputStream(src).getChannel();
            FileChannel dstFileChannel = new FileOutputStream(dst).getChannel()){
            // 2. –†–∞–∑–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ FileChannel
            long count = srcFileChannel.size();
            while(count > 0){
                /**=============================================================
                 * 3. –ó–∞–ø–∏—Å–∞—Ç—å –±–∞–π—Ç—ã –∏–∑ FileChannel –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ —Ü–µ–ª–µ–≤–æ–π FileChannel
                 * 1. srcFileChannel.position (): –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π
                 * 2. count: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
                 * 3. dstFileChannel: —Ü–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª
                 *==============================================================*/
                long transferred = srcFileChannel.transferTo(srcFileChannel.position(),
                        count, dstFileChannel);
                // 4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ
                srcFileChannel.position(srcFileChannel.position() + transferred);
                // 5. –†–∞—Å—Å—á–∏—Ç–∞–µ–º, —Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏
                count -= transferred;
            }

        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
</code></pre>

    <p>–ö–æ–¥ –¥–ª—è <span class="text-orange"><span class="text-bold">Java NIO2</span></span>:</p>

    <pre class='language-java line-numbers'><code>
public static void main(String[] args) {
  long currentMills = System.currentTimeMillis();
  long startMills = currentMills;

  Path sourceDirectory = Paths.get("/Users/IdeaProjects/testFolder/test.txt");
  Path targetDirectory = Paths.get("/Users/IdeaProjects/testFolder/test3.txt");
  Files.copy(sourceDirectory, targetDirectory);

  currentMills = System.currentTimeMillis();
  System.out.println("–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: " + (currentMills - startMills));
}
</code></pre>

    <p>–ù–∞—á–Ω–µ–º —Å –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Ñ–∞–π–ª–∞.</p>

    <p>–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é <span class="text-orange"><span class="text-bold">Java IO</span></span> –≤ —Å—Ä–µ–¥–Ω–µ–º –±—ã–ª–æ 1 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—É. –ó–∞–ø—É—Å–∫–∞—è —Ç–µ—Å—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å–∞—Ç –æ—Ç 0 –¥–æ 2 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.</p>

    <div class="terminal">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: 1</div>

    <p>–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é <span class="text-orange"><span class="text-bold">Java NIO</span></span> –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ. –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è ‚Äî 11 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ã–ª–∏ –æ—Ç 9 –¥–æ 16. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–Ω–æ —Å —Ç–µ–º, —á—Ç–æ <span class="text-orange"><span class="text-bold">Java IO</span></span> —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ —Ç–∞–∫, –∫–∞–∫ –Ω–∞—à–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞. <span class="text-orange"><span class="text-bold">IO</span></span> –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –±–æ–ª—å—à–æ–º –≤–∏–¥–µ. –ê <span class="text-orange"><span class="text-bold">NIO</span></span> –ø–æ–∫–∞–∑–∞–ª –ø–ª–æ—Ö–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –±—É—Ñ–µ—Ä, –∞ –Ω–µ –Ω–∞ –ø–æ—Ç–æ–∫, –∫–∞–∫ <span class="text-orange"><span class="text-bold">IO</span></span>.</p>

    <div class="terminal">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: 12</div>

    <p>–ò —Ç–∞–∫ –∂–µ –∑–∞–ø—É—Å—Ç–∏–º –Ω–∞—à —Ç–µ—Å—Ç –¥–ª—è <span class="text-orange"><span class="text-bold">Java NIO2</span></span>. <span class="text-orange"><span class="text-bold">NIO2</span></span> –∏–º–µ–µ—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å —Ñ–∞–π–ª–∞–º–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å <span class="text-orange"><span class="text-bold">Java NIO</span></span>. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–∞–∫ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è:</p>

    <div class="terminal">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: 3</div>

    <p>–ê —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –ø–æ–ø—Ä–æ–±—É–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª, –≤–∏–¥–µ–æ –Ω–∞ 521 –ú–ë. –ó–∞–¥–∞—á–∞ –±—É–¥–µ—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ: —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥—É—é –ø–∞–ø–∫—É. –°–º–æ—Ç—Ä–∏–º!</p>

    <p>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å <span class="text-orange"><span class="text-bold">Java IO</span></span>:</p>

    <div class="terminal">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: 1866</div>

    <p>–ê –≤–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç <span class="text-orange"><span class="text-bold">Java NIO</span></span>:</p>

    <div class="terminal">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: 205</div>

    <p><span class="text-orange"><span class="text-bold">Java NIO</span></span> —Å–ø—Ä–∞–≤–∏–ª—Å—è —Å —Ñ–∞–π–ª–æ–º –≤ 9 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ç–µ—Å—Ç–µ. –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–µ –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.</p>

    <p>–ê —Ç–∞–∫ –∂–µ –ø–æ–ø—Ä–æ–±—É–µ–º –Ω–∞—à —Ç–µ—Å—Ç –Ω–∞ <span class="text-orange"><span class="text-bold">Java NIO2</span></span>:</p>

    <div class="terminal">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö: 360</div>

    <p>–ü–æ—á–µ–º—É –∂–µ —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç? –ü—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å –Ω–µ—Ç –æ—Å–æ–±–æ–≥–æ —Å–º—ã—Å–ª–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Å–ª—É–∂–∞—Ç —Ä–∞–∑–Ω—ã–º —Ü–µ–ª—è–º. <span class="text-orange"><span class="text-bold">NIO</spaN></span> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±–æ–ª–µ–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö, –∞ <span class="text-orange"><span class="text-bold">NIO2</span></span> –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏.</p>

    <h2>–ò—Ç–æ–≥–∏</h2>

    <p>–ú–æ–∂–µ–º —Å–º–µ–ª–æ –∑–∞—è–≤–∏—Ç—å, —á—Ç–æ <span class="text-orange"><span class="text-bold">Java NIO</span></span> —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –∑–∞ —Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤. –ï—â–µ –æ–¥–∏–Ω –ø–ª—é—Å —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ <span class="text-orange"><span class="text-bold">NIO</span></span> —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏: –æ–¥–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, –≤—Ç–æ—Ä–∞—è ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å–µ—Ç–∏.</p>

    <p>–ù–æ–≤—ã–π API, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ <span class="text-orange"><span class="text-bold">Java NIO2</span></span> –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π: </p>

    <ul>
        <li><p>–≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—É—é –∞–¥—Ä–µ—Å–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–º–æ—â—å—é <span class="code"><span class="text-green">Path</span></span>, </p></li>
        <li><p>–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å ZIP-—Ñ–∞–π–ª–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, </p></li>
        <li><p>–¥–æ—Å—Ç—É–ø –∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –∞—Ç—Ä–∏–±—É—Ç–∞–º —Ñ–∞–π–ª–∞, </p></li>
        <li><p>–º–Ω–æ–∂–µ—Å—Ç–≤–æ —É–¥–æ–±–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–∞ –∏ —Ç. –¥. </p></li>
    </ul>

    <p>–í—Å–µ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ñ–∞–π–ª–æ–º –∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –∏ –≤—Å–µ –¥–æ–≤–æ–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è.</p>

    <p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏—è—Ö <span class="text-orange"><span class="text-bold">Java NIO</span></span> –∑–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 80-90% —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, —Ö–æ—Ç—è –¥–æ–ª—è <span class="text-orange"><span class="text-bold">Java IO</span></span> —Ç–æ–∂–µ –µ—â–µ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–∞.</p>

    <p>üí° P. S. –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–æ–¥–∏–ª–∏—Å—å –Ω–∞ MacBook Pro 14‚Äô 16/512. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—Å—è –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞–±–æ—á–µ–π –º–∞—à–∏–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞.</p>