Коллекции в Java: ArrayList
<p>----------------------------------------</p>
Класс ArrayList    Сегодня мы изучим класс ArrayList. Это первый класс из так называемых коллекций. Коллекции в Java настолько обширная и полезная вещь, что ей посвящен целый квест на JavaRush.    Чтобы полностью понять, как устроены коллекции и все нюансы их работы, нужно сначала изуч
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="d2a73196-f6b2-4fdf-accc-06ca7007319d" src="https://cdn.javarush.com/images/article/d2a73196-f6b2-4fdf-accc-06ca7007319d/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="2df8398a-a41a-4302-9a58-3029cb075232" src="https://cdn.javarush.com/images/article/2df8398a-a41a-4302-9a58-3029cb075232/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="51d7ca07-90ba-459f-8bac-1840fc565c71" src="https://cdn.javarush.com/images/article/51d7ca07-90ba-459f-8bac-1840fc565c71/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Класс <code>ArrayList</code></h2>
<p>Сегодня мы изучим класс <code>ArrayList</code>. Это первый класс из так называемых <strong>коллекций</strong>. Коллекции в Java — настолько обширная и полезная вещь, что ей посвящен целый квест на JavaRush.</p>
<p>Чтобы полностью понять, как устроены коллекции и все нюансы их работы, нужно сначала изучить ООП, интерфейсы, наследование, азы многопоточности и многое другое.</p>
<p>Поэтому сегодня мы просто познакомимся с самой простой коллекцией. Зато на достаточно глубоком уровне, чтобы вы понимали, как ей пользоваться и как она работает. Итак, встречайте: <strong>коллекция <code>ArrayList</code></strong>.</p>
<p><strong>Предыстория</strong></p>
<p>Начну с небольшой предыстории. Программистам очень не нравилось одно свойство массива — его размер нельзя изменять. Что делать, если нужно сохранить в массиве ещё три элемента, а свободное место только одно?</p>
<p>Единственным решением проблемы нехватки места в массиве было создание массива очень большого размера, чтобы все элементы туда точно поместились. Но это часто приводило к нерациональному расходу памяти. Если обычно в массиве хранилось два-три элемента, но был хотя бы мизерный шанс, что там их будет 100, приходилось создавать массив на 100 элементов.</p>
<p>И что же придумали программисты? Они написали класс <code>ArrayList</code> (массив-список), который выполнял ту же работу, что и <code>Array</code> (массив), но мог изменять свой размер.</p>
<p><strong>Класс ArrayList</strong></p>
<p>Само название <code>ArrayList</code> происходит из двух слов: Array + List. <code>Array</code> — это массив, а <code>List</code> — список.</p>
<p>Внутри каждого объекта типа <code>ArrayList</code> хранится обычный массив элементов. Когда вы считываете элементы из <code>ArrayList</code>, он считывает их со своего внутреннего массива. Когда записываете — записывает их во внутренний массив.</p>
<p>У класса ArrayList отсутствуют все недостатки, которые есть у массивов. Он умеет:</p>
<ul>
    <li>Хранить элементы определенного типа</li>
    <li>Динамически менять размер списка</li>
    <li>Добавлять элементы в конец списка</li>
    <li>Вставлять элементы в начало и середину списка</li>
    <li>Удалять элементы из любого места списка</li>
</ul>
<p>Подробнее — ниже:</p>
<hr>
<h2>2. Создание объекта <code>ArrayList</code></h2>
<p>Чтобы создать объект класса <code>ArrayList</code>, нужно написать код типа:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm language-java"><code><span class="text-neon">ArrayList</span>&lt;<span class="text-viola">Тип</span>&gt; <span class="text-green">имя</span> = new <span class="text-neon">ArrayList</span>&lt;<span class="text-viola">Тип</span>&gt;();</code></pre>
</div>
<p>Где <code><span class="text-neon">ArrayList</span></code> — это тип/класс коллекции, <code><span class="text-viola">Тип</span></code> — это тип элементов, которые хранит коллекция <code>ArrayList</code>, а <code><span class="text-green">имя</span></code> — это имя переменной типа <code>ArrayList&lt;Тип&gt;</code>.</p>
<p>Тип у переменной <code><span class="text-green">имя</span></code> составной — состоит аж из двух типов: сначала указывается тип коллекции, а в треугольных скобках указывается тип элементов, которые эта коллекция хранит.</p>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">ArrayList</span>&lt;<span class="text-viola">Integer</span>&gt; <span class="text-green">list</span> = new <span class="text-neon">ArrayList</span>&lt;<span class="text-viola">Integer</span>&gt;();</code></pre>
        </td>
        <td>Список целых чисел</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">ArrayList</span>&lt;<span class="text-viola">String</span>&gt; <span class="text-green">list</span> = new <span class="text-neon">ArrayList</span>&lt;<span class="text-viola">String</span>&gt;();</code></pre>
        </td>
        <td>Список строк</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">ArrayList</span>&lt;<span class="text-viola">Double</span>&gt; <span class="text-green">list</span> = new <span class="text-neon">ArrayList</span>&lt;<span class="text-viola">Double</span>&gt;();</code></pre>
        </td>
        <td>Список вещественных чисел</td>
    </tr>
    </tbody>
</table>
<p>Коллекции, в отличие от массивов, не могут хранить примитивные типы: только <span class="term">типы-классы</span>. Поэтому если вам нужна коллекция с типом <code>int</code>, используйте вместо него тип-обертку — <code>Integer</code>.</p>
<hr>
<h2>3. Операции с <code>ArrayList</code></h2>
<p>Изначально длина только что созданного списка равна нулю: он содержит 0 элементов. Если в список добавить один элемент, его длина увеличится на 1. Если удалить добавленный элемент, опять уменьшится до нуля.</p>
<p>Более подробно можно узнать о методах класса <code>ArrayList</code> из таблицы:</p>
<table>
    <tbody>
    <tr>
        <th>Методы</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>void <span class="text-red">add</span>(<span class="text-viola">тип value</span>)</code></pre>
        </td>
        <td>Добавляет в список переданный элемент</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>void <span class="text-red">add</span>(<span class="text-green">int index</span>, <span class="text-viola">тип value</span>)</code></pre>
        </td>
        <td>Добавляет элемент в определенное место списка.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">тип</span> <span class="text-red">get</span>(<span class="text-green">int index</span>)</code></pre>
        </td>
        <td>Возвращает элемент, который находится под номером <code><span class="text-green">index</span></code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>void <span class="text-red">set</span>(<span class="text-green">int index</span>, <span class="text-viola"><span class="text-viola">тип</span> value</span>)</code></pre>
        </td>
        <td>Меняет значение элемента с номером <code><span class="text-green">index</span></code> на <code><span class="text-viola">value</span></code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">тип</span> <span class="text-red">remove</span>(<span class="text-green">int index</span>)</code></pre>
        </td>
        <td>Удаляет элемент под номером <code><span class="text-green">index</span></code>. Возвращает удаленный элемент.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">тип</span> <span class="text-red">remove</span>(<span class="text-viola">тип value</span>)</code></pre>
        </td>
        <td>Удаляет элемент: нужно передать сам элемент в список. Если таких элементов несколько, будет удален первый из них.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>void <span class="text-red">clear</span>()</code></pre>
        </td>
        <td>Очищает список — удаляет все элементы из списка.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">contains</span>(<span class="text-viola">тип value</span>)</code></pre>
        </td>
        <td>Проверяет, содержится ли в списке элемент <code><span class="text-viola">value</span></code>.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">isEmpty</span>()</code></pre>
        </td>
        <td>Проверяет, пустой список или нет. Равна ли длина списка нулю.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">size</span>()</code></pre>
        </td>
        <td>Возвращает размер списка — количество элементов списка.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">тип</span>[] <span class="text-red">toArray</span>(<span class="text-viola">тип</span>[] array)</code></pre>
        </td>
        <td>Возвращает массив, содержащий те же элементы, что и список.<br><span>Массив нужно передать в метод.</span></td>
    </tr>
    </tbody>
</table>
<p>Данные методы позволяют делать со списком практически все возможные операции: менять элементы местами, добавлять элементы, удалять элементы. Можно даже очистить список одной командой или преобразовать список в массив.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task12.task1209"></div>
<hr>
<h2>4. Сравнение <code>ArrayList</code> и <code>Array</code></h2>
<p>Думаю, без сравнения <code>ArrayList</code> и массива нам не обойтись.</p>
<p>Фактически у массива есть всего 4 действия:</p>
<ul>
    <li>Создание массива</li>
    <li>Получение элемента по номеру</li>
    <li>Установка элемента по номеру</li>
    <li>Получение длины массива</li>
</ul>
<p>Вот аналоги этих операций в <span class="term">массиве</span> и в <code>ArrayList</code>:</p>
<table>
    <tbody>
    <tr>
        <th>Массив</th>
        <th>ArrayList</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">String</span>[] <span class="text-user">array</span> = new <span class="text-viola">String</span>[<span class="text-user">10</span>];</code></pre>
        </td>
        <td>
            <pre class="language-java"><code><span class="text-neon">ArrayList</span>&lt;<span class="text-viola">String</span>&gt; list = new  <span class="text-neon">ArrayList</span>&lt;<span class="text-viola">String</span>&gt;();</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">String</span> s = <span class="text-user">array</span>[<span class="text-user">0</span>];</code></pre>
        </td>
        <td>
            <pre class="language-java"><code><span class="text-viola">String</span> s = <span class="text-user">list</span>.<span class="text-red">get</span>(0);</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-user">array</span>[<span class="text-user">0</span>] = <span class="text-green">"Пока"</span>;</code></pre>
        </td>
        <td>
            <pre class="language-java"><code><span class="text-user">list</span>.<span class="text-red">set</span>(0, <span class="text-green">"Пока"</span>);</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-green">count</span> = <span class="text-user">array</span>.length;</code></pre>
        </td>
        <td>
            <pre class="language-java"><code>int <span class="text-green">count</span> = <span class="text-user">list</span>.<span class="text-red">size</span>();</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Давайте сравним работу <code>ArrayList</code> с работой массива. Для примера решим такую задачу «ввести 10 строк с клавиатуры и вывести их на экран в обратном порядке»</p>
<table>
    <tbody>
    <tr>
        <th>Используем Array (массив)</th>
        <th>Используем ArrayList</th>
    </tr>
    <tr>
        <td>
                <pre class="language-java"><code>Scanner console = new Scanner(System.in);

// ввод строк с клавиатуры
String[] list = new String[10];

for (int i = 0; i &lt; list.length; i++)
{
    String s = console.nextLine();
    list[i] = s;
}

// вывод содержимого массива на экран
for (int i = 0; i &lt; list.length; i++)
{
    int j = list.length - i - 1;
    System.out.println(list[j]);
}</code></pre>
        </td>
        <td>
                <pre class="language-java"><code>Scanner console = new Scanner(System.in);

// ввод строк с клавиатуры
ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();

for (int i = 0; i &lt; 10; i++)
{
    String s = console.nextLine();
    list.add(s);
}

// вывод содержимого коллекции на экран
for (int i = 0; i &lt; list.size(); i++)
{
    int j = list.size() - i - 1;
    System.out.println(list.get(j));
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>В принципе можно провести четкую аналогию. Причем в массиве все даже как-то короче и понятнее что-ли. Но и в <code>ArrayList</code> не сильно сложно: получить элемент — метод <code>get()</code>, изменить элемент — метод <code>set()</code>, получить длину списка — метод <code>size()</code>.</p>
<p>Так зачем программисты используют класс <code>ArrayList</code>?</p>
<p>Конечно же, все дело в остальных методах, которых у массива нет и не будет:</p>
<ul>
    <li>Добавление элемента в список</li>
    <li>Вставка элемента в середину списка</li>
    <li>Поиск элемента в списке</li>
    <li>Удаление элемента из списка</li>
</ul>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task12.task1210"></div>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task12.task1211"></div>