Статические переменные
<p>----------------------------------------</p>
Статические переменные Когда класс загружается в память, то для него сразу создается статический объект класса. Этот объект хранит статические переменные класса (статические поля класса). Статистический объект класса существует даже если не был создан ни один обычный объект класса. Когда мы опис
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="967c9c36-8ee0-45e3-8e33-d6080d95ff6f" src="https://cdn.javarush.com/images/article/967c9c36-8ee0-45e3-8e33-d6080d95ff6f/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="4476930b-428d-4f58-a8c7-ddaf93aa8abb" src="https://cdn.javarush.com/images/article/4476930b-428d-4f58-a8c7-ddaf93aa8abb/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b2f4bf9d-7ac6-42a4-9a02-83d9b9d05194" src="https://cdn.javarush.com/images/article/b2f4bf9d-7ac6-42a4-9a02-83d9b9d05194/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="5c6520ff-d2f5-40f7-aba8-9e49a8e7a079" src="https://cdn.javarush.com/images/article/5c6520ff-d2f5-40f7-aba8-9e49a8e7a079/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="39e1ca43-d406-4791-8bca-da1f25a9beb7" src="https://cdn.javarush.com/images/article/39e1ca43-d406-4791-8bca-da1f25a9beb7/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="9aa8b7bb-8348-4663-976e-735a34796d4d" src="https://cdn.javarush.com/images/article/9aa8b7bb-8348-4663-976e-735a34796d4d/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Статические переменные</h2>
<p>Когда класс загружается в память, для него сразу создается <strong>статический объект класса</strong>. Этот объект хранит статические переменные класса (статические поля класса). <span class="text-green">Статический объект класса существует, даже если не был создан ни один обычный объект класса.</span></p>
<p>Когда мы описываем переменные в классе, мы указываем, будут ли эти переменные созданы всего один раз или же нужно создавать их копии для каждого объекта. По умолчанию создаётся новая копия переменной для каждого объекта.</p>
<p>Статическая (<strong>static</strong>) же переменная привязана к статическому объекту класса и всегда существует в единственном экземпляре.</p>
<p>Чтобы создать статическую переменную класса, нужно перед ее именем написать ключевое слово <code><span class="text-red">static</span></code>. Общий вид объявления статической переменной такой:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present"><code><span class="text-red">static</span> <span class="text-viola">Тип</span> <span class="code text-user">имя</span> = <span class="text-green">значение</span>;</code></pre>
</div>
<p>Если статической переменной не присвоить стартовое значение, она инициализируется значением по умолчанию:</p>
<table>
    <tbody>
    <tr>
        <th>Тип</th>
        <th>Значение по умолчанию</th>
    </tr>
    <tr>
        <td>
            <pre><code>byte</code></pre>
        </td>
        <td>
            <pre><code>0</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>short</code></pre>
        </td>
        <td>
            <pre><code>0</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>int</code></pre>
        </td>
        <td>
            <pre><code>0</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>long</code></pre>
        </td>
        <td>
            <pre><code>0</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>float</code></pre>
        </td>
        <td>
            <pre><code>0.0</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>double</code></pre>
        </td>
        <td>
            <pre><code>0.0</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>char</code></pre>
        </td>
        <td>
            <pre class="inline-block"><code>'\u0000'</code></pre>
            (то же самое, что и
            <pre class="inline-block"><code>0</code></pre>
            )
        </td>
    </tr>
    <tr>
        <td>
            <pre><code>boolean</code></pre>
        </td>
        <td>
            <pre><code>false</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="inline-block"><code>Object</code></pre>
            и любые классы
        </td>
        <td>
            <pre><code>null</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="text-user">WIDTH</span> = 100;</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>public <span class="text-red">static</span> <span class="text-viola">String</span> <span class="text-user">message</span> = "Hello";</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>private <span class="text-red">static</span> <span class="text-viola">Scanner</span> <span class="text-user">console</span>;</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>private <span class="text-red">static</span> <span class="text-viola">int</span> <span class="text-user">count</span> = 0;</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>private <span class="text-red">static</span> <span class="text-viola">boolean</span> <span class="text-user">flag</span>;</code></pre>
        </td>
        <td></td>
    </tr>
    </tbody>
</table>
<p>Обращаться к статической переменной в ее классе можно просто по имени. Если обращение идет из другого класса, то перед именем статической переменной нужно писать имя класса.</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present"><code><span class="text-neon">ИмяКласса</span>.<span class="text-user">переменная</span></code></pre>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Переменная</th>
        <th>Класс</th>
        <th>Обращение к переменной вне класса</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="text-user">WIDTH</span> = 100;</code></pre>
        </td>
        <td>
            <pre><code>Solution</code></pre>
        </td>
        <td>
            <pre><code><span class="text-neon">Solution</span>.<span class="text-user">WIDTH</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>public <span class="text-red">static</span> <span class="text-viola">String</span> <span class="text-user">message</span> = "Hello";</code></pre>
        </td>
        <td>
            <pre><code>Main</code></pre>
        </td>
        <td>
            <pre><code><span class="text-neon">Main</span>.<span class="text-user">message</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>private <span class="text-red">static</span> <span class="text-viola">Scanner</span> <span class="text-user">console</span>;</code></pre>
        </td>
        <td>
            <pre><code>JavaGame</code></pre>
        </td>
        <td>Переменная <code>private</code>, вне класса не видна</td>
    </tr>
    <tr>
        <td>
            <pre><code class="language-java">private <span class="text-red">static</span> <span class="text-viola">int</span> <span class="text-user">count</span> = 0;</code></pre>
        </td>
        <td>
            <pre><code>Counter</code></pre>
        </td>
        <td>Переменная <code>private</code>, вне класса не видна</td>
    </tr>
    <tr>
        <td>
            <pre><code class="language-java">private <span class="text-red">static</span> <span class="text-viola">boolean</span> <span class="text-user">flag</span>;</code></pre>
        </td>
        <td>
            <pre><code>Arithmetic</code></pre>
        </td>
        <td>Переменная <code>private</code>, вне класса не видна</td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1101"></div>
<hr>
<h2>2. Отличие статических и нестатических переменных</h2>
<p>Нестатические (обычные) переменные класса объявляются точно так же, как статические, только без ключевого слова <code>static</code>.</p>
<p>Чем же отличаются обычные и статические переменные?</p>
<p>Обычные переменные класса привязаны к объектам своего класса (экземплярам класса), статические переменные — к статическому объекту класса.</p>
<p>Если экземпляров класса несколько, в каждом из них существует своя копия нестатических (обычных) переменных класса. Статические переменные класса всегда находятся внутри статического объекта класса и существуют только в одном экземпляре.</p>
<p>Обращаться к обычным переменным класса (полям класса) можно только имея ссылку на объект класса. Ну или в методах внутри этого же класса.</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Обращение к полю класса с использованием ссылки на объект класса</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="text-neon">DataInfo</span>
{
   public int <span class="code text-orange">value</span> = 100;
}

public class Solution
{
   public static void main(String[] args)
   {
      <span class="text-neon">DataInfo</span> <span class="code text-user">info</span> = new <span class="text-neon">DataInfo</span>();
      System.out.println(<span class="code text-user">info</span>.<span class="code text-orange">value</span>);
   }
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Обращаться к статическим переменным можно откуда угодно (с учетом модификаторов видимости): из обычных методов, из статических методов того же класса, из методов других классов и т.п.</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Обращение к статическому полю класса <span class="text-red">не</span> используя ссылку на объект класса</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="text-neon">DataInfo</span>
{
   public static int <span class="code text-orange">value</span> = 100;
}

public class Solution
{
   public static void main(String[] args)
   {
      System.out.println(<span class="text-neon">DataInfo</span>.<span class="code text-orange">value</span>);
   }
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Устройство в памяти:</strong></p>
<p>Допустим, у нас есть класс <code>Person</code> с 4 полями: два статических, а два — нет.</p>
<div class="lesson-example">
<pre class="language-java"><code>public class Person
{
   public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="code text-user">count</span> = 0;
   public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="code text-user">sum</span> = 0;
   public <span class="text-viola">int</span> <span class="code text-green">age</span> = 0;
   public <span class="text-viola">String</span> <span class="code text-green">name</span>;
}</code></pre>
</div>
<p><strong>Сразу после загрузки класса</strong></p>
<p>Когда Java-машина завершит загрузку класса <code>Person</code>, в памяти у нас будет наблюдаться такая картина:</p>
<p><img data-id="7da0c592-ab13-4991-a963-753c23f29742" src="https://cdn.javarush.com/images/article/7da0c592-ab13-4991-a963-753c23f29742/original.png" alt="Отличие статических и нестатических переменных"></p>
<p><strong>После создания первого объекта</strong></p>
<p>Если мы создадим объект класса <code>Person</code>, картинка станет такой</p>
<p><img data-id="0c9acf3a-0348-4658-8d10-2da1e7ba09f0" src="https://cdn.javarush.com/images/article/0c9acf3a-0348-4658-8d10-2da1e7ba09f0/original.png" alt="Отличие статических и нестатических переменных 1"></p>
<p>Обратите внимание, что хоть у объектов по две переменные, это разные переменные: у обычного объекта — обычные, у статического — статические.</p>
<p><strong>Нужно больше объектов</strong></p>
<p><span>Давайте создадим еще два объекта, типа </span><code><span>Person</span></code><span>. Новая картина будет выглядеть так:</span></p>
<p><img data-id="f60ee6d4-c2c8-4d2e-ac27-fd2787ca7dc4" src="https://cdn.javarush.com/images/article/f60ee6d4-c2c8-4d2e-ac27-fd2787ca7dc4/original.png" alt="Отличие статических и нестатических переменных 2"></p>
<p>Обратите внимание: у каждого объекта есть собственная переменная age и name.<strong><br>
</strong></p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1102"></div>
<hr>
<h2>3 Удаление и добавление модификатора <code>static</code></h2>
<p><strong>Из статической в обычную</strong></p>
<p>Что будет, если мы возьмем статическую переменную и превратим ее в обычную: удалим у нее модификатор <code>static</code>? Например, у переменной <code>static int sum</code>.</p>
<p>Измененный код будет выглядеть так:</p>
<div class="lesson-example">
<pre class="language-java"><code>public class Person
{
   public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="code text-user">count</span> = 0;
   public <span class="text-viola">int</span> <span class="code text-green">sum</span> = 0;
   public <span class="text-viola">int</span> <span class="code text-green">age</span> = 0;
   public <span class="text-viola">String</span> <span class="code text-green">name</span>;
}</code></pre>
</div>
<p>А в памяти мы получим такую картину:</p>
<p><img data-id="8060eb77-b4bc-48b6-8c39-b73bf45c78ac" src="https://cdn.javarush.com/images/article/8060eb77-b4bc-48b6-8c39-b73bf45c78ac/original.png" alt="Удаление и добавление модификатора static"></p>
<p>Статическая переменная исчезла у статического объекта, а у каждого объекта появилось по своей собственной переменной <code><span class="text-user">sum</span></code>.</p>
<p><strong>Из обычной в статическую</strong></p>
<p>Можно сделать и наоборот: добавить перед обычными переменными класса модификатор <code>static</code>, и тогда они исчезнут у всех объектов и появятся у статического объекта. <span class="text-red">Допустим, мы решили сделать переменные <code>age</code> и <code>name</code> статическими.</span> Тогда код будет выглядеть так:</p>
<div class="lesson-example">
<pre class="language-java"><code>public class Person
{
   public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="code text-user">count</span> = 0;
   public <span class="text-viola">int</span> <span class="code text-green">sum</span> = 0;
   public <span class="text-red">static</span> <span class="text-viola">int</span> <span class="code text-user">age</span> = 0;
   public <span class="text-red">static</span> <span class="text-viola">String</span> <span class="code text-user">name</span>;
}</code></pre>
</div>
<p>А в памяти мы получим уже такую картину:</p>
<img data-id="01bcab2c-b69b-4c67-868d-b4f9fb9d628e" src="https://cdn.javarush.com/images/article/01bcab2c-b69b-4c67-868d-b4f9fb9d628e/original.png" alt="Удаление и добавление модификатора static">
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1103"></div>