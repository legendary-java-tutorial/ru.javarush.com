Объекты в Java
<p>----------------------------------------</p>
Объекты Все в Java является объектом. Вернее, очень мало чего в Java объектом не является. Например, примитивные типы. Но это скорее редкое исключение, чем правило. Что же такое объект? Объект – это сгруппированные вместе данные и методы для того, чтобы эти данные обрабатывать. Когда мы говорим 
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="6320ef5b-d6e3-471d-8116-22d4ed83b026" src="https://cdn.javarush.com/images/article/6320ef5b-d6e3-471d-8116-22d4ed83b026/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b5cdf9fc-04f4-4410-899d-03f8dbb8ffb3" src="https://cdn.javarush.com/images/article/b5cdf9fc-04f4-4410-899d-03f8dbb8ffb3/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="f6ff2c4f-6699-4a06-8650-4c69a10fcf83" src="https://cdn.javarush.com/images/article/f6ff2c4f-6699-4a06-8650-4c69a10fcf83/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Объекты</h2>
<p>Все в Java является объектом.</p>
<p>Вернее, очень мало чего в Java объектом не является. Например, примитивные типы. Но это скорее редкое исключение, чем правило.</p>
<p>Что же такое объект?</p>
<p>Объект — это <strong>сгруппированные вместе данные и методы для того, чтобы эти данные обрабатывать</strong>. Когда мы говорим о данных, имеем в виду переменные, конечно.</p>
<p>Про переменные объекта говорят, что это «данные объекта» или «состояние объекта».</p>
<p>Про методы объекта говорят: это «поведение объекта». Состояние объекта (переменные объекта) принято менять только с помощью методов того же объекта. Менять переменные объекта напрямую (не через методы объекта) считается дурным тоном.</p>
<p>У <strong>каждого объекта</strong>, как и у каждой переменной, <strong>есть тип</strong>. Этот тип определяется один раз при создании объекта и поменять его в дальнейшем нельзя. <strong>Типом объекта считается его класс</strong>.</p>
<p>У каждого объекта есть собственная копия переменных класса (полей класса). Если в классе была объявлена нестатическая переменная int a, и ваша программа во время работы создала 10 объектов этого класса, теперь в каждом объекте есть собственная переменная int a.</p>
<p><strong>Взаимодействие с объектом</strong></p>
<p>Самый удобный способ работы с объектом — сохранить ссылку на объект в переменную, и потом вызывать методы у этой переменной. Выглядит это для вас знакомо:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">переменная</span>.<span class="text-green">метод</span>()</code></pre>
</div>
<p>Где <code><span class="text-red">переменная</span></code> — это переменная, которая хранит в себе ссылку на объект, а метод — это метод класса объекта.</p>
<p>Если вы хотите обратиться к полю (переменной) объекта, то тоже нужно использовать <span class="term">оператор точка</span>:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">переменная</span>.<span class="text-user">поле</span></code></pre>
</div>
<p>Где <code><span class="text-red">переменная</span></code> — это переменная, которая хранит в себе ссылку на объект, а поле — это переменная класса (поле объекта).</p>
<hr>
<h2>2. Оператор <code>new</code></h2>
<p>Чтобы создать объект определенного класса, нужно воспользоваться оператором <code>new</code>. Вот как выглядит создание объекта в общем случае:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-viola">Класс</span> <span class="text-red">переменная</span> = new <span class="text-viola">Класс</span>(<span class="text-neon">параметры</span>);</code></pre>
</div>
<p>Где <code><span class="text-viola">Класс</span></code> — это имя класса для объявления <code><span class="text-red">переменной</span></code> и имя класса создаваемого объекта. <code><span class="text-red">Переменная</span></code> — это переменная, в которую сохраняется ссылка на созданный объект. А <code><span class="text-neon">параметры</span></code> — это параметры метода создания объекта.</p>
<p>Какие именно могут быть параметры у объекта, решают программисты, которые пишут класс объекта.</p>
<p>Вы уже создавали объекты ранее, и даже пользовались именно этой конструкцией. Надеюсь, вы не забыли?</p>
<pre class="language-java"><code><span class="text-viola">Scanner</span> <span class="text-red">console</span> = new <span class="text-viola">Scanner</span>(<span class="text-neon">System.in</span>);
int x = <span class="text-red">console</span>.<span class="text-green">nextInt</span>();</code></pre>
<p><code><span class="text-red"><span class="text-viola">Scanner </span>console</span></code> — это создание переменной <code><span class="text-red">console</span></code> типа <code><span class="text-viola">Scanner</span></code>. <code><span class="token keyword">new</span> <span class="text-viola">Scanner</span>(<span class="text-neon">System.in</span>)</code> — это создание объекта типа <code>Scanner</code>. Ну а оператор присваивания заносит в переменную <code><span class="text-red">console</span></code> ссылку на новый созданный объект.</p>
<p>Во второй строке мы вызываем метод <code><span class="text-green">nextInt</span>()</code> у объекта <code>Scanner</code> с помощью переменной <code><span class="text-red">console</span></code>, которая хранит ссылку на объект типа <code>Scanner</code>.</p>
<p>Примеры создания объектов:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">String</span> s = new <span class="text-viola">String</span>(<span class="text-green">"Привет"</span>);</code></pre>
        </td>
        <td>Создает объект типа <code>String</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">Scanner</span> console = new <span class="text-viola">Scanner</span>("");</code></pre>
        </td>
        <td>Создает объект типа <code>Scanner</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-viola">int[] </span>data = new <span class="text-viola">int</span>[<span class="text-user">10</span>];</code></pre>
        </td>
        <td>Создает объект типа <code>int[]</code>: контейнер на <code>10</code> элементов типа <code>int</code></td>
    </tr>
    </tbody>
</table>
<p>Созданные объекты называют <span class="term">объектом класса</span> или <span class="term">экземпляром класса</span>, а класс — <span class="term">классом объекта</span>. Например: переменная <code>s</code> хранит ссылку на экземпляр класса <code>String</code>.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task07.task0712"></div>
<hr>
<h2>3. Знакомство с классами</h2>
<p>Думаю, вы уже убедились, что использовать классы, написанные другими программистами, очень удобно. А как насчет написания собственных классов?</p>
<p>Как понять, когда и где вам нужен собственный класс и как его сделать?</p>
<p>Программисты обычно создают свои классы, когда хотят ввести в программу новую сущность. Звучит не очень понятно? Тогда попробую объяснить, но начну издалека.</p>
<p><strong>Группировка данных</strong></p>
<p>Если немного упростить, можно сказать, что объект в Java — это область памяти, которая содержит переменные, объявленные в классе (поля класса). Или по-другому — переменные, объединенные в группы.</p>
<p>Допустим, в вашей программе нужно хранить координаты <code>100</code> точек и метод, чтобы вывести их на экран. Это можно сделать с помощью массивов. Например, так:</p>
<pre class="language-java"><code>class Solution
{
   public static void <span class="text-brown">printPoints</span>(int[] <span class="text-viola">x</span>, int[] <span class="text-user">y</span>, int[] <span class="text-neon">color</span>)
   {
     for (int <span class="text-red">i</span> = 0; <span class="text-red">i</span> &lt; <span class="text-viola">x</span>.length; <span class="text-red">i</span>++)
       System.out.println("Цвет точки x=" + <span class="text-viola">x</span>[<span class="text-red">i</span>] + ", y=" + <span class="text-user">y</span>[<span class="text-red">i</span>] + " " + <span class="text-neon">color</span>[<span class="text-red">i</span>]);
   }

   public static void main(String[] args)
   {
     int[] <span class="text-viola">x</span> = new int[<span class="text-user">100</span>];
     int[] <span class="text-user">y</span> = new int[<span class="text-user">100</span>];
     int[] <span class="text-neon">color</span> = new int[<span class="text-user">100</span>];
     <span class="text-brown">printPoints</span>(<span class="text-viola">x</span>, <span class="text-user">y</span>, <span class="text-neon">color</span>);
   }
}</code></pre>
<p>Было бы намного удобнее, если бы у нас сразу был тип для хранения всей информации по точкам: <code>x</code>, <code>y</code>, <code>цвет</code>. Ну а если в Java такого типа нет, можно его создать самостоятельно.</p>
<p>Для этого напишем код создания класса <code>Point</code>:</p>
<pre class="language-java"><code>public class <span class="text-red">Point</span>
{
   public int <span class="text-viola">x</span>;
   public int <span class="text-user">y</span>;
   public int <span class="text-neon">color</span>;
}</code></pre>
<p>Тогда код выше можно переписать в виде:</p>
<pre class="language-java"><code>class Solution
{
   public static void <span class="text-brown">printPoints</span>(<span class="text-red">Point</span>[] <span class="text-viola">points</span>)
   {
     for (int i = 0; i &lt; <span class="text-viola">points</span>.length; i++)
       System.out.println("Цвет точки x=" + <span class="text-viola">points</span>[i].x + ", y=" + <span class="text-viola">points</span>[i].y + " " + <span class="text-viola">points</span>[i].color);
   }

   public static void main(String[] args)
   {
     Point[] data = new <span class="text-red">Point</span>[<span class="text-user">100</span>];
     for (int i = 0; i &lt; <span class="text-viola">data</span>.length; i++)
       <span class="text-viola">data</span>[i] = new <span class="text-red">Point</span>();
     <span class="text-brown">printPoints</span>(<span class="text-viola">data</span>);
   }
}</code></pre>
<p>А теперь давайте добавим в класс <code>Point</code> метод, который будет выводить информацию об объекте:</p>
<pre class="language-java"><code>public class <span class="text-red">Point</span>
{
   public int <span class="text-viola">x</span>;
   public int <span class="text-user">y</span>;
   public int <span class="text-neon">color</span>;
   public void <span class="text-brown">print</span>()
   {
     System.out.println("Цвет точки x=" + <span class="text-viola">x</span> + ", y=" + <span class="text-user">y</span> + " " + <span class="text-neon">color</span>);
   }
}</code></pre>
<p>Тогда класс <code>Solution</code> примет вид:</p>
<pre class="language-java"><code>class Solution
{
   public static void <span class="text-brown">printPoints</span>(<span class="text-red">Point</span>[] points)
   {
     for (int i = 0; i &lt; <span class="text-viola">points</span>.length; i++)
       <span class="text-viola">points</span>[i].<span class="text-viola">print</span>();
   }

   public static void main(String[] args)
   {
     Point[] data = new Point[<span class="text-user">100</span>];
     for (int i = 0; i &lt; <span class="text-viola">data</span>.length; i++)
       <span class="text-viola">data</span>[i] = new <span class="text-red">Point</span>();
     <span class="text-brown">printPoints</span>(<span class="text-viola">data</span>);
   }
}</code></pre>
<p>Мы красиво спрятали внутрь точки (класс <code>Point</code>) информацию о ее координатах и метод, который выводит состояние объекта-точки на экран.</p>
<p>Классы — это ответ на управление сложностью программы. Большая программа становится проще, когда ее разбивают на много маленьких классов.</p>
<hr>
<h2>4. Mutable vs Immutable объекты</h2>
<p>Когда-то давно мы с вами изучали константы в Java и пришли к не очень утешительному выводу. Константы позволяют защитить переменные от изменений, но не в состоянии защитить от изменений объекты, на которые эти переменные ссылаются.</p>
<p>В ответ на эту проблему в Java придумали объекты-константы. Или, как их еще называют, immutable-объекты — неизменяемые объекты.</p>
<p>Кстати, вы даже знаете один такой класс, чьи объекты нельзя менять — <code>String</code>. Объект класса <code>String</code> остается неизменным все время после создания. И как же разработчики Java добились этого?</p>
<p>Во-первых, все переменные класса <code>String</code> скрыты &#8211; объявлены <code>private</code>.</p>
<p>Во-вторых, наследоваться от класса <code>String</code> нельзя: он имеет модификатор <code>final</code> в объявлении класса.</p>
<p>В-третьих, что самое интересное, все методы класса <code>String</code>, которые по идее должны были менять существующий объект, не меняют его, а возвращают новый.</p>
<p>Например, метод <code>toUpperCase()</code> делает все буквы строки большими (заглавными). Но вместо изменения объекта, у которого он вызван, этот метод возвращает новый объект типа <code>String</code>, состоящий из заглавных букв:</p>
<pre class="language-java"><code>String <span class="text-viola">text</span> = "Это очень важное сообщение";
String <span class="text-user">message</span> = <span class="text-viola">text</span>.toUpperCase();</code></pre>
<p>Вот что будет в памяти после выполнения этого кода:</p>
<p><img data-id="204c3924-2132-49a1-adba-e0ebc39dba3f" src="https://cdn.javarush.com/images/article/204c3924-2132-49a1-adba-e0ebc39dba3f/original.png" alt="Mutable vs Immutable объекты"></p>
<p><span>Так что смело передавайте ваши строки в любые методы: никто их не поменяет.</span></p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task07.task0719"></div>
<hr>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="1b344342-205a-4270-a8d4-09528dabc056" src="https://cdn.javarush.com/images/article/1b344342-205a-4270-a8d4-09528dabc056/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="3c0ef32c-7f44-4f22-83b0-c587169465d4" src="https://cdn.javarush.com/images/article/3c0ef32c-7f44-4f22-83b0-c587169465d4/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="5ccb40a5-7293-477f-98b6-bfbbd6fec8ac" src="https://cdn.javarush.com/images/article/5ccb40a5-7293-477f-98b6-bfbbd6fec8ac/original.png" alt="">
        </div>
    </div>
</div>