Видимость переменных
<p>----------------------------------------</p>
Локальные переменные Давайте немного серьезнее поговорим о переменных. Но в этот раз обсудим не их внутреннее устройство, а взаимодействие переменных с кодом, в котором они находятся. Все переменные, которые объявлены внутри методов называются локальные переменные. Локальная переменная существуе
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="12ac731e-4128-4fce-b592-68e364a8b371" src="https://cdn.javarush.com/images/article/12ac731e-4128-4fce-b592-68e364a8b371/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="0a5753f2-fea9-4820-9f21-3a0305e36ac1" src="https://cdn.javarush.com/images/article/0a5753f2-fea9-4820-9f21-3a0305e36ac1/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="8f97f6d5-6fc1-46b0-b8cd-c649068c5b5d" src="https://cdn.javarush.com/images/article/8f97f6d5-6fc1-46b0-b8cd-c649068c5b5d/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Локальные переменные</h2>
<p>Давайте немного серьезнее поговорим о переменных. Но в этот раз обсудим не их внутреннее устройство, а взаимодействие переменных с кодом, в котором они находятся.</p>
<p>Все переменные, которые объявлены внутри методов, называются <span class="term">локальными переменными</span>. <span class="text-orange">Локальная переменная существует только в том блоке кода, в котором она объявлена.</span> Или, если быть точнее, существует с момента объявления и до конца блока кода, в котором объявлена.</p>
<p>Давайте для простоты рассмотрим пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Доступность переменных</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public static void main(String[] args)
{
   int <span class="text-red">a</span> = 5;
   if (<span class="text-red">a</span> &lt; 10)
   {
     int <span class="text-neon">b</span> = 10;
     while (true)
     {
       int <span class="text-green">x</span> = <span class="text-red">a </span>+ <span class="text-neon">b</span>;
       System.out.println(<span class="text-green">x</span>);
     }
     System.out.println(<span class="text-neon">b</span>);
   }

}</code></pre>
        </td>
        <td>
                <pre><code>

<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>, <span class="text-green">x</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>, <span class="text-green">x</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>
<span class="text-red">a</span>

</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Давайте проговорим о доступности локальных переменных еще раз. Вот есть блок кода, состоящий из фигурных скобок: это может быть тело метода, тело цикла или просто блок кода у условного оператора. Переменная, объявленная в блоке кода, существует до конца этого блока кода.</p>
<p>Если переменную объявить в теле цикла, она и будет существовать только в теле цикла. Создаваясь и уничтожаясь на каждом витке цикла.</p>
<div class="lesson-note lesson-note--important">
    <div class="lesson-note__container">
        <div class="lesson-note__content">
            Нельзя объявить две локальные переменные с одинаковыми именами в одном методе — программа не скомпилируется. Но можно, если блоки кода, в которых объявлены переменные, не пересекаются.
        </div>
    </div>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Доступность переменных</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public static void main(String[] args)
{
   int <span class="text-red">a</span> = 5;
   if (<span class="text-red">a</span> &lt; 10)
   {
     int <span class="text-green">b</span> = 10;
     System.out.println(<span class="text-green">b</span>);
   }

   if (<span class="text-red">a</span> &lt; 20)
   {
     int <span class="text-neon">b</span> = 20;
     System.out.println(<span class="text-neon">b</span>);
   }
}</code></pre>
        </td>
        <td>
                <pre><code>

<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>, <span class="text-green">b</span>
<span class="text-red">a</span>, <span class="text-green">b</span>
<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>, <span class="text-neon">b</span>
<span class="text-red">a</span>

</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Вторую локальную переменную с именем <code><span class="text-neon">b</span></code> мы смогли объявить только потому, что первая переменная <code><span class="text-green">b</span></code> не видна в блоке кода, где объявлена вторая переменная <code><span class="text-neon">b</span></code>.</p>
<hr>
<h2>2. Переменные-параметры</h2>
<p>Как мы уже раньше говорили, у каждого метода могут быть переменные-параметры. А что насчет их видимости и времени жизни?</p>
<p>Тут все довольно просто. Переменные-параметры создаются, когда управление передается в код метода (код метода начинает выполняться), и удаляются, когда работа метода завершается. Видны они во всем теле метода.</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Доступность переменных</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public static void main(String[] <span class="text-neon">args</span>)
{
   int <span class="text-red">a</span> = 5;
   if (<span class="text-red">a</span> &lt; 10)
   {
     int <span class="text-viola">b</span> = 10;
     while (true)
     {
       int <span class="text-green">x</span> = <span class="text-red">a </span>+ <span class="text-viola">b</span>;
       System.out.println(<span class="text-green">x</span>);
     }
     System.out.println(<span class="text-viola">b</span>);
   }

}</code></pre>
        </td>
        <td>
                <pre><code>
<span class="text-neon">args</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>, <span class="text-green">x</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>, <span class="text-green">x</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>, <span class="text-viola">b</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>
<span class="text-neon">args</span>, <span class="text-red">a</span>

</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Как мы уже говорили ранее, <code><span class="text-neon">args</span></code> — это просто переменная типа массив строк. И как и все переменные-параметры, она доступна везде внутри тела метода. Хотя в наших примерах мы ее обычно игнорируем.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task06.task0612"></div>
<hr>
<h2>3. Переменные класса</h2>
<p>Как вы помните из лекций 1-го уровня, класс может содержать функции и переменные. Функции при этом принято называть «методами класса», а переменные — «переменными класса» или «полями класса». Фактически в рамках Java это синонимы.</p>
<p>Что же такое переменные (или поля) класса?</p>
<p>Переменные класса — это переменные, объявленные не в методе, а в классе.</p>
<p>К ним можно обращаться из любого метода класса. Грубо говоря <span class="term">переменные класса</span> — это <strong>общие</strong> переменные для всех методов класса.</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Доступность переменных</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class Solution
{
   public int <span class="text-user">count</span> = 0;
   public int <span class="text-green">sum</span> = 0;

   public void add(int <span class="text-neon">data</span>)
   {
     <span class="text-green">sum</span> = <span class="text-green">sum</span> + <span class="text-neon">data</span>;
     <span class="text-user">count</span>++;
   }

   public void remove(int <span class="text-red">data</span>)
   {
     <span class="text-green">sum</span> = <span class="text-green">sum</span> - <span class="text-red">data</span>;
     <span class="text-user">count</span>--;
   }
}</code></pre>
        </td>
        <td>
                <pre><code>

<span class="text-user">count</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>, <span class="text-neon">data</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>, <span class="text-neon">data</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>, <span class="text-neon">data</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>, <span class="text-red">data</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>, <span class="text-red">data</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>, <span class="text-red">data</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>
<span class="text-user">count</span>, <span class="text-green">sum</span>

</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>В этом примере у нас есть два метода — <code>add()</code> и <code>remove()</code>. Метод <code>add()</code> увеличивает переменные класса <code><span class="text-green">sum</span></code> и <code><span class="text-user">count</span></code>, а метод <code>remove()</code> уменьшает переменные <code><span class="text-green">sum</span></code> и <code><span class="text-user">count</span></code>. Оба метода работают с общими переменными класса.</p>
<p>Локальные переменные существуют, пока выполняется метод. <strong>Переменные</strong> же <strong>класса</strong> существуют столько, сколько существует объект класса, к которому они принадлежат. Подробнее об объектах класса вы узнаете на следующем уровне.</p>
<hr>
<h2>4. Статические переменные</h2>
<p>Переменные класса, как и методы класса, бывают статические и нестатические (обычные). <strong>Статические методы могут обращаться только к статическим переменным.</strong></p>
<p>В 11-м уровне мы разберем устройство статических переменных и методов и поймем причины таких ограничений.</p>
<p>Чтобы сделать переменную класса статической, надо перед ее объявлением написать ключевое слово <code>static</code>.</p>
<p>Статические переменные привязаны не к объекту класса, в котором они объявлены, а к самому классу. Поэтому они существуют, даже если <strong>не создано ни одного объекта типа класса</strong>. Обращаться к ним из других классов можно с помощью конструкции вида:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-orange">ClassName</span>.<span class="text-red">variableName</span></code></pre>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Доступность переменных</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class Solution
{
   public void add(int <span class="text-neon">data</span>)
   {
     <span class="text-viola">Storage</span>.<span class="text-green">sum</span> = <span class="text-viola">Storage</span>.<span class="text-green">sum</span> + <span class="text-neon">data</span>;
     <span class="text-viola">Storage</span>.<span class="text-user">count</span>++;
   }

   public void remove(int <span class="text-red">data</span>)
   {
     <span class="text-viola">Storage</span>.<span class="text-green">sum</span> = <span class="text-viola">Storage</span>.<span class="text-green">sum</span> - <span class="text-red">data</span>;
     <span class="text-viola">Storage</span>.<span class="text-user">count</span>--;
   }
}

public class <span class="text-viola">Storage</span>
{
   public static int <span class="text-user">count</span> = 0;
   public static int <span class="text-green">sum</span> = 0;
}</code></pre>
        </td>
        <td>
                <pre><code>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>, <span class="text-neon">data</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>, <span class="text-neon">data</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>, <span class="text-neon">data</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>, <span class="text-red">data</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>, <span class="text-red">data</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>, <span class="text-red">data</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>



<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>
<span class="text-viola">Storage</span>.<span class="text-user">count</span>, <span class="text-viola">Storage</span>.<span class="text-green">sum</span>

</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>В приведённом выше примере мы создали отдельный класс <code><span class="text-viola">Storage</span></code>, вынесли в него переменные <code><span class="text-user">count</span></code> и <code><span class="text-green">sum</span></code> и объявили их <span class="term">статическими</span>. К публичным статическим переменным можно обращаться из любого метода программы (да и не только из метода).</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task06.task0613"></div>
<hr>