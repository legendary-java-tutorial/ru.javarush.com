Двумерные массивы
<p>----------------------------------------</p>
Двумерные массивы И еще один интересный факт о массивах. Массивы бывают не только линейными, но и двумерными. И что это значит, спросите вы? А это значит, что ячейки массива можно представить не только в виде столбца (или строки), но и в виде прямоугольной таблицы.  int[][] имя = new int[ширина]
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="e5de9d1f-8136-4858-bfc7-cfdbbce2cdcb" data-max-width="1024" src="https://cdn.javarush.com/images/article/e5de9d1f-8136-4858-bfc7-cfdbbce2cdcb/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="eec8c087-8297-4354-9c99-0e2aaee5a351" data-max-width="512" src="https://cdn.javarush.com/images/article/eec8c087-8297-4354-9c99-0e2aaee5a351/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="bd000b2d-6d9e-4526-bcdc-0ce20ac19a8c" data-max-width="512" src="https://cdn.javarush.com/images/article/bd000b2d-6d9e-4526-bcdc-0ce20ac19a8c/original.png" alt="">
        </div>
    </div>
</div>

<hr>

<h2>1. Двумерные массивы</h2>
<p>И еще один интересный факт о массивах. Массивы бывают не только линейными, но и двумерными.</p>
<p>И что это значит, спросите вы?</p>
<p>А это значит, что ячейки массива можно представить не только в виде столбца (или строки), но и в виде прямоугольной таблицы.</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-orange">int[][]</span> <span class="text-red">имя</span> = new <span class="text-viola">int</span>[<span class="text-user">ширина</span>][<span class="text-user">высота</span>];</code></pre>
</div>
<p>Где <strong><span class="text-red">имя</span></strong> — это имя переменной-массива, ширина — это <span class="text-user">ширина</span> таблицы (в ячейках), а <span class="text-user">высота</span> — это высота таблицы. Пример:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-orange">int[][]</span> <span class="text-red">data</span> = new <span class="text-viola">int</span>[2][5];
<span class="text-red">data</span>[1][1] = 5;</code></pre>
        </td>
        <td>Создаем двумерный массив: два столбца и 5 строк.<br>
            В ячейку (1,1) записываем 5.
        </td>
    </tr>
    </tbody>
</table>
<p>Вот как это будет выглядеть в памяти:</p>
<img data-id="cc727db6-51a6-42d4-8795-7ae186fbb08b" src="https://cdn.javarush.com/images/article/cc727db6-51a6-42d4-8795-7ae186fbb08b/original.png" alt="Двумерные массивы">
<p>Кстати, для двумерных массивов можно тоже использовать быструю инициализацию:</p>
<pre class="language-java"><code>// длины месяцев года поквартально
int[][] <span class="text-red">months</span> = { {31, 28, 31}, {30, 31, 30}, {31, 31, 30}, {31, 30, 31} };</code></pre>
<p>Есть очень много мест, где вам как программисту может понадобиться двумерный массив. Реализация практически любой настольной игры — это же готовый двумерный массив: «Шахматы», «Шашки», «Крестики-Нолики», «Морской бой»:</p>
<img data-id="59c68b31-a590-4b00-9440-fe67374c13a2" src="https://cdn.javarush.com/images/article/59c68b31-a590-4b00-9440-fe67374c13a2/original.jpg" alt="Двумерные массивы 2">
<p>Игровое поле «Шахмат» или «Морского боя» такое, что оно просто идеально ложится на двумерные массивы, только в качестве координат клеток нужно будет использовать только числа. Не «пешка e2-e4», а «пешка (5,2) -&gt; (5,4)». Вам как программисту будет даже проще.</p>
<hr>
<h2>2. Расположение элементов в массивах: (x,y) или (y,x)</h2>
<p>Тут, кстати, есть интересная дилемма:</p>
<p>Когда мы создаем массив <code>new int[2][5]</code>; у нас таблица «две <span class="text-orange">строки</span> и 5 <span class="text-viola">столбцов</span>» или все-таки «два <span class="text-viola">столбца</span> и 5 <span class="text-orange">строк</span>»? Другими словами, мы сначала задаем «ширину», а потом «высоту» или все-таки сначала «высоту», а потом — «ширину»? И, как говорится, тут не все так однозначно.</p>
<p>Начнем с вопроса: <strong>а как эта таблица реально хранится в памяти?</strong></p>
<p>В самой памяти компьютера никаких таблиц нет: все байты памяти пронумерованы как 0, 1, 2, ... Это для нас таблица 2&#215;5, а в памяти это просто 10 ячеек и все. Без разделения, где строки и где столбцы.</p>
<p><strong>Аргумент в пользу гипотезы «ширина»-«высота».</strong></p>
<p>Еще в школе всех учили, что из пары координат сначала указывается «x», а затем «y». И это не просто школьный стандарт — это вообще стандарт в математике. Против царицы наук, как говорится, не попрешь. Так что? Сначала «ширина», а затем «высота»?</p>
<p><strong>Аргумент в пользу гипотезы «высота»- «ширина».</strong></p>
<p>Тут тоже есть интересный аргумент и идет он из... быстрой инициализации двумерных массивов. Ведь если мы захотим инициализировать наш массив, напишем этот код как:</p>
<pre class="language-java"><code>// Важная матрица с данными
int[][] <span class="text-red">matrix</span> = { {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5} };</code></pre>
<p>Ничего не замечаете? А если так:</p>
<pre class="language-java"><code>// Важная матрица с данными
int[][] <span class="text-red">matrix</span> = {
  {1, 2, 3, 4, 5},
  {1, 2, 3, 4, 5}
};</code></pre>
<p>Если мы напишем наши данные в коде построчно, то получим таблицу, у которой 2 строки и 5 столбцов.</p>
<p><strong>Итоги</strong></p>
<p>Что тут скажешь? Вам решать, как вам удобнее. Главное, чтобы все программисты, работающие над одним проектом, придерживались одного подхода.</p>
<p>Если вы будете работать над проектом, где много инициализированных двумерных массивов в коде, то скорее всего там все будут отталкиваться от быстрой инициализации данных и будет стандарт «высота»-«ширина».</p>
<p>Если же вам повезет попасть в проект, где много математики и работают с координатами (например, работа с игровыми движками), там скорее всего будут придерживаться подхода «ширина»-«высота»</p>
<hr>
<h2>3. Устройство двумерных массивов</h2>
<p>А сейчас вы узнаете, как на самом деле устроены двумерные массивы. Готовы?</p>
<p>Двумерные массивы — это на самом деле массивы массивов!</p>
<p>Другими словами, если в случае с обычным массивом «переменная-массив хранит ссылку на контейнер, который хранит элементы массива». То в случае с двумерными массивами у нас ситуация немного взрывоопаснее: переменная-двумерный-массив хранит ссылку на контейнер, который хранит ссылки на одномерные массивы. Это лучше один раз увидеть, чем сто раз попробовать объяснить:</p>
<img data-id="1d222437-76ef-4386-8101-3ab0e1616de8" src="https://cdn.javarush.com/images/article/1d222437-76ef-4386-8101-3ab0e1616de8/original.png" alt="Устройство двумерных массивов">
<p><strong>Слева</strong> у нас «переменная-двумерный-массив», которая хранит ссылку на «объект-двумерный массив». <strong>В </strong><strong>середине</strong> у нас «объект двумерный массив», в ячейках которого хранятся ссылки на одномерные массивы — строки двумерного массива. Ну и <strong>справа</strong> вы видите четыре одномерных массива — строки нашего двумерного массива.</p>
<p>Это то, как на самом деле устроены двумерные массивы. И такой подход дает Java-программисту несколько преимуществ:</p>
<p><strong>Во-первых</strong>, т.к. «контейнер контейнеров» хранит ссылки на «массивы-строки», мы можем очень быстро и просто менять строки местами. Чтобы получить доступ к «контейнеру контейнеров», нужно просто указать один индекс вместо двух. Пример:</p>
<pre class="language-java"><code><span class="text-orange">int[][]</span> <span class="text-red">data</span> = new <span class="text-viola">int</span>[2][5];
<span class="text-orange">int[]</span> <span class="text-red">row1</span> = data[0];
<span class="text-orange">int[]</span> <span class="text-red">row2</span> = data[1];</code></pre>
<p>Вот с помощью такого кода можно поменять строки местами:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>// Важная матрица с данными
int[][] <span class="text-red">matrix</span> = {
  {1, 2, 3, 4, 5},
  {5, 4, 3, 2, 1}
};

int[] <span class="text-green">tmp</span> = <span class="text-red">matrix</span>[0];
matrix[0] = <span class="text-red">matrix</span>[1];
matrix[1] = <span class="text-green">tmp</span>;</code></pre>
        </td>
        <td>Двумерный массив<br><br><br><br><br><br>
            В <code>matrix[0]</code> у нас хранится ссылка на первую строку.<br>
            Меняем ссылки местами.<br><br>
            В итоге массив <code>matrix</code> выглядит так:<br>
            <pre><code>{
  {5, 4, 3, 2, 1},
  {1, 2, 3, 4, 5}
};</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Если вы обращаетесь к ячейке двумерного массива, но после имени массива указываете только один индекс, вы таким образом обратитесь к контейнеру-контейнеров, в ячейках которого хранятся ссылки на обычные одномерные массивы.</p>

<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task05.task0509"></div>
<hr>

<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b4c92a3b-84ee-4230-8b8a-354741699764" data-max-width="1024" src="https://cdn.javarush.com/images/article/b4c92a3b-84ee-4230-8b8a-354741699764/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="8530f589-918c-4e32-9ab8-2ac4cce6205f" data-max-width="1024" src="https://cdn.javarush.com/images/article/8530f589-918c-4e32-9ab8-2ac4cce6205f/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="05f5f769-0e7f-4cc4-88de-d0ef5a9fe4f0" data-max-width="512" src="https://cdn.javarush.com/images/article/05f5f769-0e7f-4cc4-88de-d0ef5a9fe4f0/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="df4f43d0-2a1c-4e88-90d7-b88c98e67a8d" data-max-width="512" src="https://cdn.javarush.com/images/article/df4f43d0-2a1c-4e88-90d7-b88c98e67a8d/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="beba3437-fe31-4617-8402-5d2c7b9d7024" data-max-width="512" src="https://cdn.javarush.com/images/article/beba3437-fe31-4617-8402-5d2c7b9d7024/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="cd12822a-8727-4691-a891-8a83f6dc1977" data-max-width="512" src="https://cdn.javarush.com/images/article/cd12822a-8727-4691-a891-8a83f6dc1977/original.png" alt="">
        </div>
    </div>
</div>