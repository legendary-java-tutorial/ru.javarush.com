Объекты и Конструкторы
<p>----------------------------------------</p>
Создание объекта Вот мы и дошли до созданий объектов. Вы уже сталкивались с этим ранее, просто сейчас мы разберем эту тему более подробно. На самом деле создавать объекты очень просто. Для того чтобы создать объект нужно использовать оператор new. Выглядит создание объекта примерно так:  new Кла
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="3ab5b457-8caa-43cf-8dee-406ca5afec36" src="https://cdn.javarush.com/images/article/3ab5b457-8caa-43cf-8dee-406ca5afec36/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="ccbc1365-75e5-469f-9f28-7f1e3b94df39" src="https://cdn.javarush.com/images/article/ccbc1365-75e5-469f-9f28-7f1e3b94df39/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="7f3dbd57-8e22-482d-8a59-7959c2a32f8f" src="https://cdn.javarush.com/images/article/7f3dbd57-8e22-482d-8a59-7959c2a32f8f/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Создание объекта</h2>
<p>Вот мы и дошли до созданий объектов. Вы уже сталкивались с этим ранее, просто сейчас мы разберем эту тему более подробно. На самом деле создавать объекты очень просто.</p>
<p>Чтобы создать объект, нужно использовать оператор <strong>new</strong>. Выглядит создание объекта примерно так:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present"><code><span class="text-red">new</span> <span class="text-viola">Класс</span>(<span class="text-orange">параметры</span>)</code></pre>
</div>
<p>Чаще всего, сразу после создания объекта, ссылку на него мы сохраняем в переменную, которая тоже очень часто имеет такой же тип, что и создаваемый объект. Поэтому обычно вы видите код создания объекта похожим на такой:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present"><code><span class="text-viola">Класс</span> <span class="text-green">имя</span> = <span class="text-red">new</span> <span class="text-viola">Класс</span>(<span class="text-orange">параметры</span>)</code></pre>
</div>
<p>Где <code><span class="text-viola">Класс</span> <span class="text-green">имя</span></code> — это создание новой переменной, а код справа от знака равенства — это создание нового объекта типа <code><span class="text-viola">Класс</span></code>.</p>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Object o = new Object();</code></pre>
        </td>
        <td>Создание объекта типа <code>Object</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat pet = new Cat();</code></pre>
        </td>
        <td>Создание объекта типа <code>Cat</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Scanner console = new Scanner(System.in)</code></pre>
        </td>
        <td>Создание объекта типа <code>Scanner</code></td>
    </tr>
    </tbody>
</table>
<p>Очень часто программисты называют переменные таким же именем, что и классы, только с маленькой буквы. Программиста-новичка такой код может сбивать с толку:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>BufferedReader bufferedReader = new BufferedReader( reader );</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat();</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>PersonInfo personInfo = new PersonInfo()</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>По факту в этом коде нет ничего страшного — это самый обычный код, в котором создается переменная и тут же инициализируется объектом ее же типа.</p>
<p>Слева от знака равенства — создание переменной. Справа — создание объекта. Все.</p>
<h2>2. Конструктор</h2>
<p>Вы, наверное, часто видели, что при создании объекта в него передаются какие-то параметры. Причем в некоторые объекты параметры передаются, а в некоторые — нет. Как вообще работает весь этот механизм с параметрами?</p>
<p>Тут тоже все просто: у каждого класса есть специальный метод (или методы), которые отвечают за обработку параметров при создании объекта. Такие методы называются <strong>конструкторы</strong>. А один метод, соответственно, <strong>конструктор</strong>.</p>
<p>Отличить метод-конструктор от обычного метода в коде несложно. Такой метод обладает двумя особенностями:</p>
<ul>
    <li>имя метода-конструктора совпадает с именем его класса (и начинается с большой буквы)</li>
    <li>метод-конструктор не имеет типа возвращаемого результата.</li>
</ul>
<p>Общий вид его обычно такой:</p>
<div class="lesson-example lesson-example--center">
<pre class="lecture-code lecture-code--present"><code><span class="text-user">модификаторы</span> <span class="text-viola">Класс</span>(<span class="text-orange">параметры</span>)
{
   <span class="text-green">код</span>
}</code></pre>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="text-viola">Point</span>
{
   public int <span class="text-green">x</span>;
   public int <span class="text-green">y</span>;

   Point(int <span class="text-user">x</span>, int <span class="text-user">y</span>)
   {
      this.<span class="text-green">x</span> = <span class="text-user">x</span>;
      this.<span class="text-green">y</span> = <span class="text-user">y</span>;
   }
}</code></pre>
        </td>
        <td>Класс <code>Point</code><br><br><br><br><br>
            Конструктор класса <code>Point</code></td>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class Solution
{
   public static void main(String[] args)
   {
      <span class="text-red">Point</span> <span class="text-viola">point</span> = new <span class="text-red">Point</span>(<span class="text-user">5</span>, <span class="text-user">10</span>);
   }
}</code></pre>
        </td>
        <td><br><br><br><br>Создание объекта класса <code>Point</code>, будет вызван конструктор класса.</td>
    </tr>
    </tbody>
</table>
<p>Обратите внимание, как выглядит метод-конструктор: у него нет типа-результата и его имя совпадает с именем-класса.</p>
<p>И еще один момент: посмотрите на код внутри конструктора. Переменные-параметры конструктора имеют те же имена, что и поля класса – x, y. Это стандартная практика, чтобы не выдумывать названия переменных. Берутся те же имена, что у полей класса, а конфликт имен решается с помощью ключевого слова this.</p>
<h2>3. Вызов конструктора</h2>
<p>Когда вы создаете новый объект с помощью оператора <strong>new</strong> и команды вида «new <span class="text-red">Класс</span>(<span class="text-orange">параметры</span>)», происходят две вещи:</p>
<ul>
    <li>Java-машина создает объект типа <span class="text-red">Класс</span></li>
    <li>Java-машина вызывает у объекта конструктор и передает туда ваши <span class="text-orange">параметры</span></li>
</ul>
<p>Вы как программист сами решаете, какие у вашего класса должны быть конструкторы, и какие у этих конструкторов должны быть параметры.</p>
<p>Допустим, вы решили создать класс для учета котов в приюте для животных. Тогда ваш класс <code>Cat</code> может иметь такой вид:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>class Cat
{
   public String name;
   public int age;

   public Cat(String name, int age)
   {
      this.name = name;
      this.age = age;
   }
}</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat("Васька", 2);</code></pre>
        </td>
        <td>Так можно</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat("Васька");</code></pre>
        </td>
        <td><span class="text-red">А так — нельзя. Код не скомпилируется.</span></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat();</code></pre>
        </td>
        <td><span class="text-red">И так нельзя. Код не скомпилируется.</span></td>
    </tr>
    </tbody>
</table>
<p>У класса <code>Cat</code> всего один конструктор с параметрами name и age. Т.к. других конструкторов нет, вы обязаны при создании объекта передать в качестве параметров имя (<code>name</code>) и возраст (<code>age</code>) кота. Вы <strong>не можете не передать</strong> параметры в конструктор.</p>
<h2>4. Несколько конструкторов</h2>
<p>Однако если вам нужно, вы можете добавить в класс несколько конструкторов. Никакого ограничения на количество конструкторов или их параметров нет. При создании объекта компилятор сам подберет подходящий по параметрам конструктор</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>class Cat
{
   public static final int <span class="text-user">UNKNOWN</span> = -1;
   public String name;
   public int age;

   public Cat(String name, int age)
   {
      this.name = name;
      this.age = age;
   }
   public Cat(String name)
   {
      this.name = name;
      this.age = <span class="text-user">UNKNOWN</span>; // неизвестно
   }
}</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat("Васька", 2);</code></pre>
        </td>
        <td>Так можно: вызовется первый конструктор</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat("Васька");</code></pre>
        </td>
        <td>Так можно: вызовется второй конструктор</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat();</code></pre>
        </td>
        <td><span class="text-red">А так — нельзя. Код не скомпилируется.</span></td>
    </tr>
    </tbody>
</table>
<p>Мы решили учесть ситуацию, что возраст кота может быть неизвестен. Для этого случая добавили в код специальную константу — <code>UNKNOWN</code> и конструктор, который принимает только один параметр — имя кота.</p>
<p>Обратите внимание, что мы по-прежнему инициализируем обе переменные-класса внутри обоих конструкторов. Неизвестные/отсутствующие параметры мы заменяем на константу <code>UNKNOWN</code>.</p>
<p>Если переменной age не присвоить никакого значения, она будет хранить значение по умолчанию == 0. А ведь найденному на улице котенку вполне себе может быть 0 полных лет. Поэтому ноль в переменой age совсем не обязательно обозначает «неизвестный возраст».</p>
<h2>5. Конструктор по умолчанию</h2>
<p>Если вы хотите, чтобы объекты вашего класса создавались без каких-либо параметров, вам нужно, чтобы у вашего класса был объявлен конструктор без параметров.</p>
<p>Конструктор без параметров — это не обязательно конструктор без кода, он вполне себе может содержать код, который инициализирует переменные класса стартовыми значениями:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>class Cat
{
   public static final int <span class="text-user">UNKNOWN</span> = -1;
   public String name;
   public int age;

   public Cat(String name, int age)
   {
      this.name = name;
      this.age = age;
   }

   public Cat()
   {
      this.name = <span class="text-green">"Безымянный"</span>;
      this.age = <span class="text-user">UNKNOWN</span>; // неизвестно
   }
}</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat("Васька", 2);</code></pre>
        </td>
        <td>Так можно: вызовется первый конструктор</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat();</code></pre>
        </td>
        <td>Так можно: вызовется второй конструктор</td>
    </tr>
    </tbody>
</table>
<p><strong>Конструктор по умолчанию</strong></p>
<p>Есть очень важный момент, который вам следует знать и помнить.</p>
<p>Если у вашего класса вообще <strong>нет ни одного конструктора</strong>, компилятор добавит вам в класс конструктор-по-умолчанию &#8211; конструктор без параметров и кода, но с модификатором public.</p>
<p>Однако, если в вашем классе <strong>есть хотя бы один конструктор</strong>, конструктор-по-умолчанию уже <span class="text-red">добавляться не будет</span> &#8211; вам нужно будет дописать его самостоятельно.</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>class Cat
{
   public String name;
   public int age;
}</code></pre>
        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Cat cat = new Cat();</code></pre>
        </td>
        <td>Так можно: вызовется конструктор-по-умолчанию</td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task10.task1001"></div>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task10.task1002"></div>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task10.task1003"></div>