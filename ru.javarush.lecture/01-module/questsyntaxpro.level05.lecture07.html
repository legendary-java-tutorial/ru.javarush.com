Класс Arrays, часть 2
<p>----------------------------------------</p>
Метод Arrays.fill() Очень часто у Java-программистов при работе с массивами возникает задача – заполнить массив одинаковыми значениями. &nbsp;Можно, конечно, написать цикл и просто в цикле присвоить каждой ячейке массива, определенной значение: int [] x = new int[100]; for (int i=0;i&lt; x.leng
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="249b3429-55ba-4b75-bbbe-1e7f291ad29d" data-max-width="1024" src="https://cdn.javarush.com/images/article/249b3429-55ba-4b75-bbbe-1e7f291ad29d/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="b3941dd8-e7ee-4336-9445-df016920f8d6" data-max-width="1024" src="https://cdn.javarush.com/images/article/b3941dd8-e7ee-4336-9445-df016920f8d6/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="d8d1fb7a-4cd5-43b1-8517-2141bf6bc253" data-max-width="512" src="https://cdn.javarush.com/images/article/d8d1fb7a-4cd5-43b1-8517-2141bf6bc253/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="427d966e-6d2a-4b2a-a969-b3204503128d" data-max-width="512" src="https://cdn.javarush.com/images/article/427d966e-6d2a-4b2a-a969-b3204503128d/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="d2701c77-a5d9-459d-b2d5-9ea70816b3c3" data-max-width="512" src="https://cdn.javarush.com/images/article/d2701c77-a5d9-459d-b2d5-9ea70816b3c3/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="ff2cddca-b5be-4ea4-be6f-cecfbe6c3aca" data-max-width="512" src="https://cdn.javarush.com/images/article/ff2cddca-b5be-4ea4-be6f-cecfbe6c3aca/original.png" alt="">
        </div>
    </div>
</div>

<hr>

<h2>1. Метод <code>Arrays.fill()</code></h2>
<p>Очень часто у Java-программистов при работе с массивами возникает задача: заполнить массив одинаковыми значениями. Можно, конечно, написать цикл и просто в цикле присвоить каждой ячейке массива определенное значение:</p>
<pre class="language-java"><code>int[] <span class="text-green">x</span> = new int[100];
for (int i = 0; i &lt; <span class="text-green">x</span>.length; i++)
<span class="text-green">x</span>[i] = <span class="text-neon">999</span>;</code></pre>
<p>А можно просто вызвать метод <code>Arrays.fill()</code>, который делает точно то же самое: заполняет переданный массив переданным значением. Вот как это выглядит:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">Arrays</span>.<span class="text-viola">fill</span>(<span class="text-green">имя</span>, <span class="text-neon">значение</span>)</code></pre>
</div>
<p>И код из примера выше можно сделать немного компактнее и понятнее:</p>
<pre class="language-java"><code>int[] <span class="text-green">x</span> = new int[100];
<span class="text-red">Arrays</span>.<span class="text-viola">fill</span>(<span class="text-green">x</span>, <span class="text-neon">999</span>);</code></pre>
<p>А еще с помощью метода <code>Arrays.fill()</code> можно заполнить определенным значением не весь массив, а его часть:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">Arrays</span>.<span class="text-viola">fill</span>(<span class="text-green">имя</span>, <span class="text-orange">первый</span>, <span class="text-orange">последний</span>, <span class="text-neon">значение</span>)</code></pre>
</div>
<p>Где первый и последний — это номера первой и последней ячеек, которые нужно заполнить.</p>
<div class="lesson-note lesson-note--important">
    <div class="lesson-note__container">
        <div class="lesson-note__content">
            <div class="text-center">
                По старой доброй традиции Java, последний элемент не входит в диапазон.
            </div>
        </div>
    </div>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>int[] <span class="text-green">x</span> = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

<span class="text-red">Arrays</span>.<span class="text-viola">fill</span>(<span class="text-green">x</span>, <span class="text-orange">3</span>, <span class="text-orange">7</span>, <span class="text-neon">999</span>);


String <span class="text-viola">str</span> = Arrays.toString(<span class="text-green">x</span>);</code></pre>
        </td>
        <td><br><br>Заполняем ячейки <code>x[3]</code>, <code>x[4]</code>, <code>x[5]</code>, <code>x[6]</code> значениями <code>999</code>. Нумерация ячеек массива с нуля!<br><br>
            Переменная <code><span class="text-viola">str</span></code> содержит значение:<br>
            <pre><code><span class="text-muted">"</span>[1, 2, 3, 999, 999, 999, 999, 8, 9, 10]<span class="text-muted">"</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Метод <code>Arrays.fill()</code> работает только с одномерными массивами. Если в него передать двумерный массив, он будет обработан как одномерный, со всеми вытекающими последствиями.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task05.task0516"></div>
<hr>
<h2>2. Метод <code>Arrays.copyOf()</code></h2>
<p>Как вы уже знаете, размер контейнера массива после его создания поменять нельзя.</p>
<p>А если очень хочется?</p>
<p>Ну, если очень хочется, то можно:</p>
<ul>
    <li>Создать новый массив нужной длины</li>
    <li>Скопировать в него все элементы из первого массива.</li>
</ul>
<p>Именно это, кстати, и делает метод <code>Arrays.copyOf()</code>. Вот как выглядит его вызов:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>тип[] <span class="text-orange">имя2</span> = <span class="text-red">Arrays</span>.<span class="text-viola">copyOf</span>(<span class="text-green">имя</span>, <span class="text-neon">длина</span>);</code></pre>
</div>
<p>Этот метод <strong>не меняет существующий массив</strong>, вместо этого он <strong>создает новый массив</strong> и копирует в него элементы старого массива.</p>
<p>Если элементы не поместились (<span class="text-neon">длина</span> меньше длины<span class="text-green"> существующего массива</span>), то лишние значения игнорируются.</p>
<p>Если длина нового массива больше длины старого, ячейки заполняются нулями.</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>int[] <span class="text-orange">x</span> = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

int[] <span class="text-orange">x2</span> = <span class="text-red">Arrays</span>.<span class="text-viola">copyOf</span>(<span class="text-orange">x</span>, <span class="text-neon">5</span>);
String <span class="text-green">str2</span> = <span class="text-red">Arrays</span>.toString(<span class="text-orange">x2</span>);

int[] <span class="text-orange">x3</span> = <span class="text-red">Arrays</span>.<span class="text-viola">copyOf</span>(<span class="text-orange">x</span>, <span class="text-neon">15</span>);
String <span class="text-green">str3</span> = <span class="text-red">Arrays</span>.toString(<span class="text-orange">x3</span>);</code></pre>
        </td>
        <td><br><br>Переменная <code><span class="text-green">str2</span></code> содержит значение:<br>
            <pre><code><span class="text-muted">"</span>[1, 2, 3, 4, 5]<span class="text-muted">"</span></code></pre>
            <br>
            Переменная <code><span class="text-green">str3</span></code> содержит значение:<br>
            <pre><code class="text-nowrap"><span class="text-muted">"</span>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 0, 0, 0, 0, 0]<span class="text-muted">"</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<h2>3. Метод <code>Arrays.copyOfRange()</code></h2>
<p>А что делать, если вы хотите получить массив длиной 5 из массива длины 10, но чтобы в нем были не первые 5 элементов, а 5 последних?</p>
<p>Именно для этого случая вам пригодится еще один метод класса <code>Arrays</code> &#8211; метод <code>Arrays.copyOfRange()</code> Вот как выглядит его вызов:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm"><code>тип[] <span class="text-orange">имя2</span> = Arrays.<span class="text-viola">copyOfRange</span>(<span class="text-green">имя</span>, <span class="text-neon">первый</span>, <span class="text-neon">последний</span>);</code></pre>
</div>
<p>Этот метод тоже создает новый массив, но заполняет его данными из произвольного места исходного массива. Где первый и последний — это номера первой и последней ячеек, которые должны быть в новом массиве.</p>
<div class="lesson-note lesson-note--important">
    <div class="lesson-note__container">
        <div class="lesson-note__content">
            <div class="text-center">
                По старой доброй традиции Java, последний элемент не входит в диапазон.
            </div>
        </div>
    </div>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>int[] <span class="text-orange">x</span> = {11, 12, 13, 14, 15, 16, 17, 18, 19, 20};

int[] <span class="text-orange">x2</span> = <span class="text-red">Arrays</span>.<span class="text-viola">copyOfRange</span>(<span class="text-orange">x</span>, <span class="text-neon">5</span>, <span class="text-neon">10</span>);
String <span class="text-green">str2</span> = <span class="text-red">Arrays</span>.toString(<span class="text-orange">x2</span>);

int[] <span class="text-orange">x3</span> = <span class="text-red">Arrays</span>.<span class="text-viola">copyOfRange</span>(<span class="text-orange">x</span>, <span class="text-neon">5</span>, <span class="text-neon">15</span>);
String <span class="text-green">str3</span> = <span class="text-red">Arrays</span>.toString(<span class="text-orange">x3</span>);</code></pre>
        </td>
        <td><br><br>Переменная <code><span class="text-green">str2</span></code> содержит значение:<br>
            <pre><code><span class="text-muted">"</span>[16, 17, 18, 19, 20]<span class="text-muted">"</span></code></pre>
            <br>
            Переменная <code><span class="text-green">str3</span></code> содержит значение:<br>
            <pre><code><span class="text-muted">"</span>[16, 17, 18, 19, 20, 0, 0, 0, 0, 0]<span class="text-muted">"</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task05.task0517"></div>
<hr>
<h2>4. Метод <code>Arrays.sort()</code></h2>
<p>Ну и самое вкусное — <strong>сортировка</strong>. В программировании сортировать массивы приходится очень часто. Три самых частых действия при работе с массивами:</p>
<ul>
    <li>Сортировка массива</li>
    <li>Поиск минимального (или максимального) элемента массива</li>
    <li>Определение индекса элемента в массиве (поиск элемента в массиве)</li>
</ul>
<p>И именно поэтому разработчики Java включили в класс <code>Arrays</code> метод<code> sort()</code>. Вот как выглядит его вызов:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-red">Arrays</span>.<span class="text-viola">sort</span>(<span class="text-neon">имя</span>);</code></pre>
</div>
<p>Этот метод сортирует переданный массив по возрастанию.</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>int[] <span class="text-neon">x</span> = {11, -2, 3, 0, 999, -20, 8, -20, 99, -20};

<span class="text-red">Arrays</span>.<span class="text-viola">sort</span>(<span class="text-neon">x</span>);

String <span class="text-green">str</span> = <span class="text-red">Arrays</span>.toString(<span class="text-neon">x</span>);</code></pre>
        </td>
        <td><br><br><br>Переменная <code><span class="text-green">str</span></code> содержит значение:<br>
            <pre><code><span class="text-muted">"</span>[-20, -20, -20, -2, 0, 3, 8, 11, 99, 999]<span class="text-muted">"</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Отлично, да? Вызвал один метод, и вот у вас еще отсортированный массив. Красота.</p>
<p>Кстати, сортировать можно не только весь массив, но и часть массива. Вот как выглядит его вызов:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm language-java"><code><span class="text-red">Arrays</span>.<span class="text-viola">sort</span>(<span class="text-neon">имя</span>, <span class="text-orange">первый</span>, <span class="text-orange">последний</span>);</code></pre>
</div>
<p>Где <span class="text-orange">первый</span> и <span class="text-orange">последний</span> — это номера первой и последней ячеек, которых должна коснуться сортировка.</p>
<div class="lesson-note lesson-note--important">
    <div class="lesson-note__container">
        <div class="lesson-note__content">
            <div class="text-center">
                По старой доброй традиции Java, последний элемент не входит в диапазон.
            </div>
        </div>
    </div>
</div>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>int[] <span class="text-neon">x</span> = {11, -2, 3, 0, <span class="text-brown">999</span>, <span class="text-brown">-20</span>, <span class="text-brown">8</span>, <span class="text-brown">-20</span>, 99, -20};

<span class="text-red">Arrays</span>.<span class="text-viola">sort</span>(<span class="text-neon">x</span>, <span class="text-orange">4</span>, <span class="text-orange">8</span>);
String <span class="text-green">str</span> = <span class="text-red">Arrays</span>.toString(<span class="text-neon">x</span>);</code></pre>
        </td>
        <td><br><br>Переменная <code><span class="text-green">str</span></code> содержит значение:<br>
            <pre><code><span class="text-muted">"</span>[11, -2, 3, 0, <span class="text-brown">-20</span>, <span class="text-brown">-20</span>, <span class="text-brown">8</span>, <span class="text-brown">999</span>, 99, -20]<span class="text-muted">"</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>В Java для сортировки массивов используется самый быстрый алгоритм сортировки — <span class="term">QuickSort</span>. Скорость его сортировки зависит от размера массива и рассчитывается по формуле N*Log(N).</p>
<p>Сортировка массива из 1000 элементов будет содержать около 3_000 сравнений ячеек массива. Сортировка массива из миллиона элементов будет содержать около 6 миллионов сравнений.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task05.task0518"></div>
<hr>
<h2>5. Метод <code>Arrays.binarySearch()</code></h2>
<p>Ну и последний из самых интересных методов класса <code>Arrays</code> умеет искать заданное значение в массиве. Это не обычный поиск, а так называемый <span class="term">бинарный поиск</span>. Суть его заключается вот в чем:</p>
<ul>
    <li>Предварительно массив сортируется</li>
    <li>Затем средний элемент массива сравнивается с искомым (с тем, который мы ищем).</li>
    <li>Если искомый больше среднего, поиск продолжается в правой половине массива.</li>
    <li>Если искомый элемент меньше среднего, поиск продолжается в левой половине массива</li>
</ul>
<p>Благодаря тому, что массив отсортирован, можно за одно сравнение отбросить половину массива. Затем на следующем шаге отбросить еще половину и т.д.</p>
<p>Такой подход делает бинарный поиск очень быстрым. В массиве из миллиона(!) элементов он может найти индекс нужного элемента всего за 20 сравнений. Минусом такого подхода является то, что массив предварительно нужно отсортировать, а сортировка тоже занимает время.</p>
<p>Вот как выглядит его вызов:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>int <span class="text-green">index</span> = <span class="text-red">Arrays</span>.<span class="text-viola">binarySearch</span>(<span class="text-orange">имя</span>, <span class="text-neon">значение</span>);</code></pre>
</div>
<p>Где <code><span class="text-orange">имя</span></code> — это имя массива, который нужно передать уже отсортированным (например, с помощью функции <code>Arrays.sort()</code>). <code><span class="text-neon">значение</span></code> — это тот элемент, который ищется в массиве. Метод возвращает результат — <span class="term">индекс&nbsp;искомого элемента в массиве</span> (номер ячейки массива).</p>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>int[] <span class="text-orange">x</span> = {11, -2, 3, 0, 999, -20, 8, -20, 99, -20};
<span class="text-red">Arrays</span>.<span class="text-viola">sort</span>(<span class="text-orange">x</span>);

int <span class="text-green">index1</span> = <span class="text-red">Arrays</span>.<span class="text-viola">binarySearch</span>(<span class="text-orange">x</span>, <span class="text-neon">0</span>);
int <span class="text-green">index2</span> = <span class="text-red">Arrays</span>.<span class="text-viola">binarySearch</span>(<span class="text-orange">x</span>, <span class="text-neon">-20</span>);
int <span class="text-green">index3</span> = <span class="text-red">Arrays</span>.<span class="text-viola">binarySearch</span>(<span class="text-orange">x</span>, <span class="text-neon">99</span>);
int <span class="text-green">index4</span> = <span class="text-red">Arrays</span>.<span class="text-viola">binarySearch</span>(<span class="text-orange">x</span>, <span class="text-neon">5</span>);</code></pre>
        </td>
        <td><code><span class="text-orange">x</span></code> содержит:<br>
            <pre><code>{-20, -20, -20, -2, 0, 3, 8, 11, 99, 999}</code></pre>
            <br>
            <code>4</code><br>
            <code>1</code> (также подходили индексы <code>0</code> и <code>2</code>)<br>
            <code>8</code><br>
            <code>-7</code></td>
    </tr>
    </tbody>
</table>
<p>Если искомых элементов в массиве <strong>несколько</strong>, просто вернется номер одного из них (нет гарантий, что это будет, допустим, самый первый или наоборот — самый последний из одинаковых элементов).</p>
<p>Если элемент в массиве <strong>не найден, индекс будет отрицательным.</strong></p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task05.task0519"></div>
<hr>
<h2>6. Ссылка на Oracle документация по классу <code>Arrays</code></h2>
<p>Если вам очень интересно, полностью информацию про класс <code>Arrays</code> и все его методы вы можете прочитать в официальной документации на сайте Oracle:</p>
<p><a href="https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html</a></p>
<p>Можете почитать, например, про методы <code>Arrays.mismatch()</code> и <code>Arrays.compare()</code>. Может, найдете в них для себя что-нибудь полезное.</p>
<p>И пусть вас не смущает количество методов &#8211; там у каждого метода есть 5-10 копий, которые отличаются только типом параметров.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task05.task0529.big05"></div>
<hr>

<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="90eb1cf0-0152-4ec9-9625-88d647c369ce" data-max-width="1024" src="https://cdn.javarush.com/images/article/90eb1cf0-0152-4ec9-9625-88d647c369ce/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="472f5fbf-dabb-4587-888d-536d2492fb2e" data-max-width="512" src="https://cdn.javarush.com/images/article/472f5fbf-dabb-4587-888d-536d2492fb2e/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="fffa958d-d037-4307-aa83-05b199721ca2" data-max-width="512" src="https://cdn.javarush.com/images/article/fffa958d-d037-4307-aa83-05b199721ca2/original.png" alt="">
        </div>
    </div>
</div>