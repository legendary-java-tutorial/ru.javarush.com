Статические методы
<p>----------------------------------------</p>
Статические методы Кроме статических переменных в классах могут быть и статические методы. Обычные методы привязаны к объектам (экземплярам) класса и могут обращаться к обычным-переменным класса (а также к статическим переменным и методам). Статические же методы привязаны к статическому объекту 
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="cffe87a6-5e4f-45cb-a981-d971e81a5a3e" src="https://cdn.javarush.com/images/article/cffe87a6-5e4f-45cb-a981-d971e81a5a3e/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="32c8bd29-32dd-43db-ac3d-81910f810c3d" src="https://cdn.javarush.com/images/article/32c8bd29-32dd-43db-ac3d-81910f810c3d/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="743ebb76-1370-4202-a4d6-790824bd1e1e" src="https://cdn.javarush.com/images/article/743ebb76-1370-4202-a4d6-790824bd1e1e/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Статические методы</h2>
<p>Кроме статических переменных, в классах могут быть и статические методы.</p>
<p>Обычные методы привязаны к объектам (экземплярам) класса и могут обращаться к обычным-переменным класса (а также <span class="text-red">к статическим переменным и методам</span>). Статические же методы привязаны к статическому объекту класса и могут обращаться только к статическим переменным и/или другим статическим методам класса.</p>
<p>Чтобы вызвать обычный метод у класса, <span class="text-green">сначала нужно создать объект этого класса</span>, а только потом вызвать метод у объекта. <span class="text-red">Вызвать обычный метод не у объекта, а у класса нельзя.</span></p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th><span class="text-red">Вызвать нестатический метод у класса нельзя!</span></th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="text-neon">DataInfo</span>
{
   public int getValue()
   {
      return 100;
   }
}

public class Solution
{
   public static void main(String[] args)
   {
      System.out.println(<span class="text-neon">DataInfo</span>.getValue()); // тут будет ошибка!
   }
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>А чтобы вызвать статический метод, достаточно чтобы просто существовал статический объект класса (который всегда существует после загрузки класса в память). Именно поэтому метод main() — статический. Он привязан к статическому объекту класса, для его вызова не нужно создавать никакие объекты.</p>
<p>Чтобы объявить метод статическим, нужно перед заголовком метода написать ключевое слово static. Общий вид этой конструкции такой:</p>
<div class="lesson-example lesson-example--center">
<pre class="lecture-code lecture-code--present"><code><span class="text-red">static</span> <span class="text-viola">тип</span> <span class="text-user">имя</span>(<span class="text-orange">параметры</span>)
{
   <span class="code code--demo text-green">код метода</span>
}</code></pre>
</div>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="text-neon">Solution</span>
{
   public <span class="text-red">static</span> void <span class="code text-user">main</span>(String args[])
   {
      <span class="code text-user">test</span>();
   }

   public <span class="text-red">static</span> void <span class="code text-user">test</span>()
   {
      int d = <span class="text-user">2</span>/<span class="text-user">0</span>;
   }
}</code></pre>
        </td>
        <td>
            <br><br>Метод <code>main</code> вызывается Java-машиной командой вида: <code>Solution.main()</code>;
            <br><br><br><br>Статический метод <code>test()</code> вызывается в статическом методе <code>main()</code>.
        </td>
    </tr>
    </tbody>
</table>
<p>Чтобы вызвать статический метод из другого класса, нужно указать имя класса перед именем статического метода. Общий вид этой конструкции такой:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-viola">Тип</span> <span class="text-user">имя</span> = <span class="text-neon">ИмяКласса</span>.<span class="text-red">имяМетода</span>(<span class="text-orange">параметры</span>)</code></pre>
</div>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Статический метод</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int x = <span class="text-neon">Math</span>.<span class="text-red">min</span>(a, b);</code></pre>
        </td>
        <td>
            <pre class="language-java"><code>int <span class="text-red">min</span>(int a, int b)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">Thread</span>.<span class="text-red">sleep</span>(200);</code></pre>
        </td>
        <td>
            <pre class="language-java"><code>void <span class="text-red">sleep</span>(long ms)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Path path = <span class="text-neon">Path</span>.<span class="text-red">of</span>("c:\\readme.txt");</code></pre>
        </td>
        <td>
            <pre class="language-java"><code>Path <span class="text-red">of</span>(String str)</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1104"></div>
<hr>
<h2>2. Статические vs Обычные методы</h2>
<p>Чем же отличаются статические методы от обычных?</p>
<p>Обычный метод имеет привязку к объекту — экземпляру класса, статический же метод такой привязки не имеет. Обычный метод может обращаться к переменным в своем экземпляре класса, статический — нет: у него просто нет никакого экземпляра класса, связанного с ним.</p>
<p>Отличия двух типов методов можно выразить в таблице:</p>
<table>
    <tbody>
    <tr>
        <th>Способность</th>
        <th>Обычный метод</th>
        <th>Статический метод</th>
    </tr>
    <tr>
        <td>Есть связь с экземпляром класса</td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
        <td class="text-center"><strong><span class="text-red">Нет</span></strong></td>
    </tr>
    <tr>
        <td>Может вызывать обычные методы класса</td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
        <td class="text-center"><strong><span class="text-red">Нет</span></strong></td>
    </tr>
    <tr>
        <td>Может вызывать статические методы класса</td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
    </tr>
    <tr class="row-separator">
        <td colspan="3"></td>
    </tr>
    <tr>
        <td>Может обращаться к обычным переменным класса</td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
        <td class="text-center"><strong><span class="text-red">Нет</span></strong></td>
    </tr>
    <tr>
        <td>Может обращаться к статическим переменным класса</td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
    </tr>
    <tr class="row-separator">
        <td colspan="3"></td>
    </tr>
    <tr>
        <td>Может быть вызван у объекта</td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
    </tr>
    <tr>
        <td>Может быть вызван у класса</td>
        <td class="text-center"><strong><span class="text-red">Нет</span></strong></td>
        <td class="text-center"><strong><span class="text-green">Да</span></strong></td>
    </tr>
    </tbody>
</table>
<p>Зачем такие методы нужны, если они так сильно ограничены? Все дело в том, что у такого подхода тоже есть свои преимущества.</p>
<p>Во-первых, чтобы обратиться к статическим методам и переменным, не надо передавать никакую ссылку на объект.</p>
<p>Во-вторых, иногда бывает нужно, чтобы переменная была в единственном экземпляре. Как, например, переменная <code>System.out</code> (<span class="text-orange">статическая переменная out класса System</span>).</p>
<p>И, в-третьих, иногда нужно вызвать метод еще до того, как будет возможность создавать какие-то объекты. Например, вызов метода main(), с которого начинается выполнение программы: его вызывает Java-машина до создания экземпляра класса.</p>
<p><strong>Есть связь с экземпляром класса</strong></p>
<p>При вызове обычного метода в него передается скрытый параметр — <span class="text-green">объект, у которого его вызывали</span>. <span class="text-orange">Этот параметр имеет имя <code>this</code>.</span> <span class="text-viola">Именно этот скрытый параметр — ссылка на объект, у которого вызвали метод — и отличает обычные методы от статических.</span></p>
<p>У статических методов такого скрытого параметра нет, поэтому внутри статических методов нельзя пользоваться ключевым словом <code>this</code>, и из статического метода нельзя вызвать нестатический: ссылку на экземпляр класса попросту неоткуда взять.</p>
<p><strong>Может вызывать обычные методы класса</strong></p>
<p>В обычном методе класса всегда есть скрытый параметр — <code><span class="text-red">this</span></code> — ссылка на объект класса, у которого был вызван метод. Каждый раз, когда вы вызываете обычный метод внутри другого обычного метода, для этого вызова используется скрытый параметр <code>this</code>. Пример</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Как оно работает</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>int <span class="code text-user">min</span>(int a, int b)
{
   return a &lt; b ? a : b;
}

int <span class="code text-user">min</span>(int a, int b, int c)
{
   int t = <span class="code text-user">min</span>(a, b);
   return <span class="code text-user">min</span>(t, c);
}</code></pre>
        </td>
        <td>
<pre class="language-java"><code>int <span class="code text-user">min</span>(int a, int b)
{
   return a &lt; b ? a : b;
}

int <span class="code text-user">min</span>(int a, int b, int c)
{
   int t = <span class="text-red">this</span>.<span class="code text-user">min</span>(a, b);
   return <span class="text-red">this</span>.<span class="code text-user">min</span>(t, c);
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Именно поэтому нельзя вызвать обычный метод из статического. Внутри статического метода просто нет скрытой переменной с именем <code>this</code>.</p>
<p>Ну или представьте другой случай: в программе еще не создан ни один объект нашего класса. Статический метод класса можно вызвать? Да. А сможет этот статический метод вызвать обычный метод?</p>
<p>И у какого объекта он его вызовет? Ведь еще не существует ни одного экземпляра нашего класса!</p>
<p><strong>Может вызывать статические методы класса</strong></p>
<p>Статические методы можно вызывать откуда угодно — из любого места программы. А значит, их можно вызывать и из статических методов, и из обычных. Никаких ограничений тут нет.</p>
<p><strong>Может обращаться к обычным переменным класса</strong></p>
<p>Из обычного метода можно обращаться к обычным переменным класса, т.к. при этом произойдет обращение к переменным экземпляра класса, который легко получить из скрытого параметра <code>this</code>.</p>
<p>Статический метод не знает, из какого экземпляра класса ему брать значения обычных переменных. У нас вообще легко может быть ситуация, когда статический метод вызван, а ни одного экземпляра класса еще создано в программе не было.</p>
<p><span class="text-red">Поэтому статические методы не могут обращаться к обычным переменным класса.</span></p>
<p><span>Статический метод вызывает обычный метод, вот только у какого объекта он должен вызваться?</span></p>
<img data-id="4c05a9df-279e-4dc7-9fa3-f219fd421b93" src="https://cdn.javarush.com/images/article/4c05a9df-279e-4dc7-9fa3-f219fd421b93/original.png" alt="Статические методы">
<p><span class="text-red">Неизвестно</span>! Поэтому и <span class="text-red">нельзя</span> вызывать обычный метод из статического, не указывая ссылку на объект!</p>
<p><strong>Может обращаться к статическим переменным класса</strong></p>
<p>Ситуация с обращением к статическим переменным такая же, как и с обращениями к статическим методам. К статическим переменным можно обращаться из любого места в программе. А значит, можно обращаться из статических и обычных методов.</p>
<p><strong>Может быть вызван у объекта</strong></p>
<p>И статические, и обычные методы можно вызывать у объекта. Обычный метод можно, потому что только у объекта его вызвать и можно. Статический метод тоже можно вызывать у объекта: при этом <span class="text-green">компилятор сам определит тип переменной и вызовет статический метод по ее типу:</span></p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Как его видит компилятор</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-neon">Thread</span> th = <span class="text-neon">Thread</span>.current();
th.<span class="text-red">sleep</span>(1000);</code></pre>
        </td>
        <td>
<pre class="language-java"><code><span class="text-neon">Thread</span> th = <span class="text-neon">Thread</span>.current();
<span class="text-neon">Thread</span>.<span class="text-red">sleep</span>(1000);</code></pre>
        </td>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-neon">Integer</span> i = 1;
int x = i.<span class="text-red">parseInt</span>("12");</code></pre>
        </td>
        <td>
<pre class="language-java"><code><span class="text-neon">Integer</span> i = 1;
int x = <span class="text-neon">Integer</span>.<span class="text-red">parseInt</span>("12");</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"".<span class="text-red">valueOf</span>(12);</code></pre>
        </td>
        <td>
            <pre class="language-java"><code><span class="text-neon">String</span>.<span class="text-red">valueOf</span>(12);</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Может быть вызван у класса</strong></p>
<p>У класса можно вызвать только статический метод, для вызова обычного метода нужна ссылка на экземпляр класса. Поэтому нельзя вызвать обычный метод конструкцией вида <code><span class="text-neon">ИмяКласса</span>.<span class="text-user">имяМетода</span>(<span class="text-orange">параметры</span>)</code></p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1105"></div>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1106"></div>