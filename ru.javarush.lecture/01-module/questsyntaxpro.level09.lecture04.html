Работа со строками в Java
<p>----------------------------------------</p>
Сравнение строк Сравнение строк – одна из самых частых вещей, которая делается со строками. У класса String более десяти различных методов, которые используются для сравнения строк со строками. Ниже мы рассмотрим 8 основных.    Методы Описание    boolean equals(String str)  Строки считаются равн
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b265976e-fd0e-47f6-aafc-8285f26f7369" src="https://cdn.javarush.com/images/article/b265976e-fd0e-47f6-aafc-8285f26f7369/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="76b11e60-f309-4ee7-b948-174517db4e92" src="https://cdn.javarush.com/images/article/76b11e60-f309-4ee7-b948-174517db4e92/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="c649646c-7a5b-4691-9074-19d6cf2fecce" src="https://cdn.javarush.com/images/article/c649646c-7a5b-4691-9074-19d6cf2fecce/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="7589db41-7c76-4acb-a50d-cffb41853e8b" src="https://cdn.javarush.com/images/article/7589db41-7c76-4acb-a50d-cffb41853e8b/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="e7dac15b-eac8-48fa-9b92-b39b71c1a9c1" src="https://cdn.javarush.com/images/article/e7dac15b-eac8-48fa-9b92-b39b71c1a9c1/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="90d34261-07bc-4f9c-a606-06b9f3a6d460" src="https://cdn.javarush.com/images/article/90d34261-07bc-4f9c-a606-06b9f3a6d460/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Сравнение строк</h2>
<p>Сравнение — одна из самых частых вещей, которая делается со строками. У класса String более десяти различных методов, которые используются для сравнения строк со строками. Ниже мы рассмотрим семь основных.</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Методы</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">equals</span>(String str)</code></pre>
        </td>
        <td>Строки считаются равными, если все их символы совпадают.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">equalsIgnoreCase</span>(String str)</code></pre>
        </td>
        <td>Сравнивает строки, игнорируя регистр (размер) букв</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">compareTo</span>(String str)</code></pre>
        </td>
        <td>Сравнивает строки лексикографически. Возвращает 0, если строки равны. Число меньше нуля, если текущая строка меньше строки-параметра. Число больше нуля, если текущая строка больше строки-параметра</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">compareToIgnoreCase</span>(String str)</code></pre>
        </td>
        <td>Сравнивает строки лексикографически, игнорирует регистр. Возвращает 0, если строки равны. Число меньше нуля, если текущая строка меньше строки-параметра. Число больше нуля, если текущая строка больше строки-параметра</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">regionMatches</span>(int toffset, String str, int offset, int len)</code></pre>
        </td>
        <td>Сравнивает части строк</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">startsWith</span>(String prefix)</code></pre>
        </td>
        <td>Проверяет, что текущая строка начинается со строки <code>prefix</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">endsWith</span>(String suffix)</code></pre>
        </td>
        <td>Проверяет, что текущая строка заканчивается на строку <code>suffix</code></td>
    </tr>
    </tbody>
</table>
<p>Допустим, вы хотите написать программу, которая просит пользователя ввести путь к файлу и проверяет, что это за файл по его расширению. Тогда код такой программы мог бы выглядеть примерно так:</p>
<table>
    <tbody>
    <tr>
        <th width="60%">Код</th>
        <th>Примечания</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>Scanner <span class="text-orange">console</span> = new Scanner(System.in);
String <span class="text-green">path</span> = <span class="text-orange">console</span>.nextLine();

if (<span class="text-green">path</span>.<span class="text-red">endsWith</span>(<span class="text-green">".jpg"</span>) || <span class="text-green">path</span>.<span class="text-red">endsWith</span>(<span class="text-green">".jpeg"</span>))
{
   System.out.println(<span class="text-green">"Это Jpeg!"</span>);
}
else if (<span class="text-green">path</span>.<span class="text-red">endsWith</span>(<span class="text-green">".htm"</span>) || <span class="text-green">path</span>.<span class="text-red">endsWith</span>(<span class="text-green">".html"</span>))
{
   System.out.println(<span class="text-green">"Это HTML-страница"</span>);
}
else if (<span class="text-green">path</span>.<span class="text-red">endsWith</span>(<span class="text-green">".doc"</span>) || <span class="text-green">path</span>.<span class="text-red">endsWith</span>(<span class="text-green">".docx"</span>))
{
   System.out.println(<span class="text-green">"Это документ Word"</span>);
}
else
{
   System.out.println(<span class="text-green">"Неизвестный формат"</span>);
}</code></pre>
        </td>
        <td>Создание объекта <code>Scanner</code><br>
            Чтение строки с консоли<br><br>
            Проверяем, что строка <code><span class="text-green">path</span></code> оканчивается на заданную строку
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task09.task0912"></div>
<hr>
<h2>2. Поиск подстрок</h2>
<p>Вторая по популярности операция после сравнения строк — это поиск одной строки в другой. Для этого у класса String тоже есть немного методов:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Методы</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">indexOf</span>(String str)</code></pre>
        </td>
        <td>Ищет строку <code>str</code> в текущей строке. Возвращает индекс первого символа встретившейся строки.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">indexOf</span>(String str, int <span class="text-green">index</span>)</code></pre>
        </td>
        <td>Ищет строку <code>str</code> в текущей строке, пропустив <code><span class="text-green">index</span></code> первых символов. Возвращает индекс найденного вхождения.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">lastIndexOf</span>(String str)</code></pre>
        </td>
        <td>Ищет строку <code>str</code> в текущей строке с конца. Возвращает индекс первого вхождения.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">lastIndexOf</span>(String str, int <span class="text-green">index</span>)</code></pre>
        </td>
        <td>Ищет строку <code>str</code> в текущей строке с конца, пропустив <code><span class="text-green">index</span></code> первых символов.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>boolean <span class="text-red">matches</span>(String regex)</code></pre>
        </td>
        <td>Проверяет, что текущая строка совпадает с шаблоном, заданным регулярным выражением.</td>
    </tr>
    </tbody>
</table>
<p>Методы <code>indexOf(String)</code> и <code>indexOf(String, index)</code> часто используются в паре. Первый позволяет найти первое вхождение переданной подстроки в текущей строке. А второй метод позволяет найти второе, третье и т.д. вхождения за счет того, что пропускает первые index символов.</p>
<p>Допустим, у нас есть url типа такого: «<span class="text-orange"><strong>https://domen.ru/about/reviews</strong></span>», и мы хотим заменить имя домена на <span class="text-orange"><strong>javarush.ru</strong></span>. Домены в урлах могут быть разными, но мы знаем, что:</p>
<ul>
    <li>Перед именем домена идут два слеша <code>//</code></li>
    <li>После имени домена идет одинарный слеш <code>/</code></li>
</ul>
<p>Вот как бы выглядел код такой программы:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечания</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>Scanner <span class="text-orange">console</span> = new Scanner(System.in);
String <span class="text-green">path</span> = <span class="text-orange">console</span>.nextLine();

int <span class="text-user">index</span> = <span class="text-green">path</span>.<span class="text-red">indexOf</span>("//");
int <span class="text-user">index2</span> = <span class="text-green">path</span>.<span class="text-red">indexOf</span>("/", <span class="text-user">index</span> + 2);

String <span class="text-orange">first</span> = <span class="text-green">path</span>.<span class="text-red">substring</span>(0, <span class="text-user">index</span> + 2);
String <span class="text-orange">last</span> = <span class="text-green">path</span>.<span class="text-red">substring</span>(<span class="text-user">index2</span>);

String <span class="text-viola">result</span> = <span class="text-orange">first</span> + <span class="text-green">"javarush.ru"</span> + <span class="text-orange">last</span>;
System.out.println(<span class="text-viola">result</span>);</code></pre>
        </td>
        <td>Создание объекта Scanner<br>
            Чтение строки с консоли<br><br>
            Получаем индекс первого вхождения строки <code>//</code><br>
            Получаем индекс первого вхождения строки <code>/</code>, но ищем только после символов <code>//</code>.<br>
            Получаем строку от начала и заканчивая символами <code>//</code><br>
            Получаем строку от <code>/</code> и до конца.<br><br>
            Склеиваем строки и новый домен.
        </td>
    </tr>
    </tbody>
</table>
<p>Методы <code>lastIndexOf(String)</code> и <code>lastIndexOf(String, index)</code> работают точно так же, только поиск ведется с конца строки к началу.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task09.task0913"></div>
<hr>
<h2>3. Создание подстрок</h2>
<p>Кроме сравнения строк и поиска подстрок, есть еще одно очень популярное действие — получение подстроки из строки. В предыдущем примере вы как раз видели вызов метода <code>substring()</code>, который возвращал часть строки.</p>
<p>Вот список из 8 методов получения подстрок из текущей строки:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Методы</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">substring</span>(int beginIndex, int endIndex)</code></pre>
        </td>
        <td>Возвращает подстроку, заданную интервалом символов <code>beginIndex..endIndex</code>.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">repeat</span>(int count)</code></pre>
        </td>
        <td>Повторяет текущую строку count раз</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">replace</span>(char oldChar, char newChar)</code></pre>
        </td>
        <td>Возвращает новую строку: заменяет символ <code>oldChar</code> на символ <code>newChar</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">replaceFirst</span>(String regex, String replacement)</code></pre>
        </td>
        <td>Заменяет в текущей строке подстроку, заданную регулярным выражением.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">replaceAll</span>(String regex, String replacement)</code></pre>
        </td>
        <td>Заменяет в текущей строке все подстроки, совпадающие с регулярным выражением.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">toLowerCase</span>()</code></pre>
        </td>
        <td>Преобразует строку к нижнему регистру</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">toUpperCase</span>()</code></pre>
        </td>
        <td>Преобразует строку к верхнему регистру</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>String <span class="text-red">trim</span>()</code></pre>
        </td>
        <td>Удаляет все пробелы в начале и конце строки</td>
    </tr>
    </tbody>
</table>
<p>Вот краткое описание существующих методов:</p>
<p><strong>Метод <code>substring(int beginIndex, int endIndex)</code></strong></p>
<p>Метод <code>substring</code> возвращает новую строку, которая состоит из символов текущей строки, начиная с символа под номером <code>beginIndex</code> и заканчивая <code>endIndex</code>. Как и во всех интервалах в Java, символ с номером <code>endIndex</code> в интервал не входит. Примеры:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Код</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"<span class="text-red">При</span>вет".substring(0, 3);</code></pre>
        </td>
        <td>
            <pre><code>"При"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"П<span class="text-red">рив</span>ет".substring(1, 4);</code></pre>
        </td>
        <td>
            <pre><code>"рив"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"П<span class="text-red">ривет</span>".substring(1, 6);</code></pre>
        </td>
        <td>
            <pre><code>"ривет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"П<span class="text-red">ривет</span>".substring(1);</code></pre>
        </td>
        <td>
            <pre><code>"ривет"</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Если параметр <code>endIndex</code> не указывается (а так можно), подстрока берется от символа beginIndex и до конца строки.</p>
<p><strong>Метод <code>repeat(int n)</code></strong></p>
<p>Метод repeat просто повторяет текущую строку <code>n</code> раз. Пример:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Код</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".repeat(3);</code></pre>
        </td>
        <td>
            <pre><code>"ПриветПриветПривет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".repeat(2);</code></pre>
        </td>
        <td>
            <pre><code>"ПриветПривет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".repeat(1);</code></pre>
        </td>
        <td>
            <pre><code>"Привет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".repeat(0);</code></pre>
        </td>
        <td>
            <pre><code>""</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Метод <code>replace(char oldChar, char newChar)</code></strong></p>
<p>Метод <code>replace()</code> возвращает новую строку, в которой все символы <code>oldChar</code> заменены на символ <code>newChar</code>. Длина строки при этом не меняется. Пример:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Код</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".replace('Я', 'я');</code></pre>
        </td>
        <td>
            <pre><code>"Привет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".replace('т', 'д');</code></pre>
        </td>
        <td>
            <pre><code>"Привед"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".replace('и', 'е');</code></pre>
        </td>
        <td>
            <pre><code>"Превет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".replace('и', 'ы');</code></pre>
        </td>
        <td>
            <pre><code>"Прывет"</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Методы <code>replaceFirst()</code> и <code>replaceAll()</code></strong></p>
<p>Метод <code>replaceAll()</code> заменяет все вхождения одной подстроки на другую. Метод <code>replaceFirst()</code> заменяет первое вхождение переданной подстроки на заданную подстроку. Строка, которую заменяют, задается регулярным выражением. Разбирать регулярные выражения мы будем в квесте <span class="term">Java Multithreading</span>.</p>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Код</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Good news everyone!".replaceAll("e.", "EX");</code></pre>
        </td>
        <td>
            <pre><code>"Good nEXs EXEXyonEX"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Good news everyone!".replaceAll("o.", "-o-");</code></pre>
        </td>
        <td>
            <pre><code>"G-o-d news every-o-e!"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Good news everyone!".replaceFirst("e.", "EX");</code></pre>
        </td>
        <td>
            <pre><code>"Good nEXs everyone!"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Good news everyone!".replaceFirst("o.", "-o-");</code></pre>
        </td>
        <td>
            <pre><code>"G-o-d news everyone!"</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><strong>Методы <code>toLowerCase() и toUpperCase()</code></strong></p>
<p>С этими методами мы познакомились, когда только в первый раз учились вызывать методы класса <code>String</code>.</p>
<p><strong>Метод <code>trim()</code></strong></p>
<p>Метод <code>trim()</code> удаляет у строки пробелы с начала и с конца строки. Пробелы внутри строки никто не трогает. Примеры:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Код</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"     ".trim();</code></pre>
        </td>
        <td>
            <pre><code>""</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"Привет".trim();</code></pre>
        </td>
        <td>
            <pre><code>"Привет"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>" Привет\n как дела?\n   ".trim();</code></pre>
        </td>
        <td>
            <pre><code>"Привет<span class="text-invisible">\n</span> как дела?<span class="text-invisible">\n</span>"</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>"  Пароль\n   \n ".trim();</code></pre>
        </td>
        <td>
            <pre><code>"Пароль<span class="text-invisible">\n</span>   <span class="text-invisible">\n</span>"</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task09.task0914"></div>