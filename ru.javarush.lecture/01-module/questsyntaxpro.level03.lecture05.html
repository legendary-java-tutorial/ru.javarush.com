Сравнение ссылок
<p>----------------------------------------</p>
Сравнения Очень часто программисту нужно сравнивать различные переменные между собой. И как вы уже успели убедиться, не все так однозначно. Целый числа сравнивать очень легко – просто используйте знак == и все. Чтобы сравнить вещественные числа, вам уже придется сравнивать их разницу (вернее ее 
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="dec911e2-21fd-4479-aee4-68e3fc4455e6" data-max-width="1024" src="https://cdn.javarush.com/images/article/dec911e2-21fd-4479-aee4-68e3fc4455e6/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="d579004a-ff95-4b83-8d78-370f79c84980" data-max-width="512" src="https://cdn.javarush.com/images/article/d579004a-ff95-4b83-8d78-370f79c84980/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="ee6ee553-57ba-4b43-9f8c-8f07b1c43fc6" data-max-width="512" src="https://cdn.javarush.com/images/article/ee6ee553-57ba-4b43-9f8c-8f07b1c43fc6/original.png" alt="">
        </div>
    </div>
</div>

<hr>

<h2>1. Сравнения</h2>
<p>Очень часто программисту нужно сравнивать различные переменные между собой. И, как вы уже успели убедиться, не все так однозначно.</p>
<p><span class="term text-red">Целые числа</span> сравнивать очень легко — просто используйте <code>==</code> и все. Чтобы сравнить <span class="term text-viola">вещественные числа</span>, вам уже придется сравнивать их разность (вернее, модуль разности) с каким-нибудь очень маленьким числом.</p>
<p>Сравнение <span class="term text-brown">строк</span> еще сложнее. А всё потому, что, во-первых, строки — это объекты, а во-вторых, в зависимости от ситуации программисту часто хочется, чтобы сравнение строк проходило чуть-чуть иначе (учитывая или не учитывая определенные факторы).</p>
<hr>
<h2>2. Расположение строк в памяти</h2>
<p>Как вы уже успели увидеть, строки в памяти хранятся не так, как целые и вещественные числа:</p>
<p><img data-id="46bb328b-f3c2-424e-b9a0-1962b591f00b" src="https://cdn.javarush.com/images/article/46bb328b-f3c2-424e-b9a0-1962b591f00b/original.png" alt="Расположение строк в памяти"></p>
<p>Для хранения строк используется <strong>два блока памяти</strong>: один блок хранит сам текст (его размер зависит от размера текста), а второй (размером 4 байта) хранит адрес первого блока.</p>
<p>Хотя опытный программист в такой ситуации скажет что-то вроде «Переменная <code>str</code> типа <code>String</code> хранит ссылку на объект типа <code>String</code>».</p>
<hr>
<h2><span>3. Присваивание ссылок на строки</span></h2>
<p><span>Выгода такого подхода становится очевидной, если вам нужно присвоить одной строковой переменной другую строковую переменную. Пример:</span></p>
<pre class="language-java"><code>String <span class="text-red">text</span> = <span class="text-green">"Это очень важное сообщение"</span>;
String <span class="text-user">message</span> = <span class="text-red">text</span>;</code></pre>
<p>А вот что в результате будет в памяти:</p>
<img data-id="05c6da61-a34c-4c54-8c6d-c73cfb717376" src="https://cdn.javarush.com/images/article/05c6da61-a34c-4c54-8c6d-c73cfb717376/original.png" alt="Присваивание ссылок на строки">
<p>В результате этой операции присваивания объект <code>String</code> так и останется, где был, а в переменную <code><span class="text-user">message</span></code><strong> </strong>скопируется только его адрес (ссылка на объект).</p>
<hr>
<h2>4. Работа со ссылками и объектами</h2>
<p>А вот если вы решите преобразовать строку к верхнему регистру (заглавные буквы), Java-машина сделает все правильно: у вас будут два объекта типа <code>String</code>, и переменные <code><span class="text-red">text</span></code> и <code><span class="text-user">message</span></code> будут хранить ссылки: каждая на свой объект.</p>
<p>Пример:</p>
<pre class="language-java"><code>String <span class="text-user">text</span> = <span class="text-green">"Это очень важное сообщение"</span>;
String message = <span class="text-user">text</span>.<span class="code text-viola">toUpperCase()</span>; </code></pre>
<p>А вот что в результате будет в памяти:</p>
<p><img data-id="6de91e8e-e565-4b24-a3aa-0b1016172639" src="https://cdn.javarush.com/images/article/6de91e8e-e565-4b24-a3aa-0b1016172639/original.png" alt="Работа с ссылками и объектами"></p>
<p>Обращаю ваше внимание, что метод <code class="text-viola">toUpperCase()</code> <span class="text-red">не меняет</span> ту строку, у которой он был вызван. Вместо этого он создает новую строку (новый объект) и возвращает ссылку на него.</p>
<p>Или еще более интересный пример. Скажем, вы решили передать строку в объект типа <code><span class="text-red">Scanner</span></code> (чтобы он читал значения из нее).</p>
<p>Пример:</p>
<pre class="language-java"><code>String <span class="text-user">text</span> = <span class="text-green">"10 20 40 80"</span>;
<span class="text-red">Scanner</span> <span class="text-orange">console</span> = new <span class="text-red">Scanner</span>(<span class="text-user">text</span>);
int a = <span class="text-orange">console</span>.nextInt();
int b = <span class="text-orange">console</span>.nextInt();</code></pre>
<p>Подробнее о работе класса <code><span class="text-red">Scanner</span></code> вы можете узнать <a href="https://javarush.com/groups/posts/klass-scanner">по ссылке</a>.</p>
<p>Вот как это все будет храниться в памяти:</p>
<p><img data-id="6a49cfdd-5f64-4866-8e7f-c4f156b376a1" src="https://cdn.javarush.com/images/article/6a49cfdd-5f64-4866-8e7f-c4f156b376a1/original.png" alt="Работа с ссылками и объектами. Scanner"></p>
<p>При этом объект типа <code>String</code> как был в памяти в единственном экземпляре, так там и хранится — везде передаются и хранятся только ссылки на него.</p>
<hr>
<h2>5. Сравнение ссылок на объекты типа <code>String</code></h2>
<p>Ну и наконец мы дошли до самого интересного — сравнения строк.</p>
<p>Для сравнения строковых переменных можно использовать два оператора: <code>==</code> (равно) и <code>!=</code> (не равно). Операторы «больше», «меньше», «больше либо равно» использовать нельзя — компилятор не допустит.</p>
<p>Но есть интересный нюанс: что у нас хранится в строковых переменных? Правильно: адреса (ссылки) на объекты. Вот эти самые адреса сравниваться и будут:</p>
<pre class="language-java"><code>String <span class="text-green">text</span> = "Привет";
String <span class="text-user">message</span> = text;
String <span class="text-red">s1</span> = <span class="text-green">text</span>.toUpperCase();
String<span class="text-red"> s2</span> = <span class="text-green">text</span>.toUpperCase();<strong> </strong></code></pre>
<p>Вот что будет в памяти:</p>
<p><img data-id="53ee7a66-95f3-4e0e-9ad7-3d26ee30603e" src="https://cdn.javarush.com/images/article/53ee7a66-95f3-4e0e-9ad7-3d26ee30603e/original.png" alt="Сравнение ссылок на объекты типа String"></p>
<p>Переменные <code><span class="text-user">message</span></code> и <code><span class="text-green">text</span></code> хранят адрес (ссылку) одного и того же объекта. А вот переменные <code><span class="text-red">s1</span></code> и <code><span class="text-red">s2</span></code> хранят ссылки на очень похожие объекты, но все-таки не на один и тот же объект.</p>
<p>И если вы сравните в коде эти 4 переменные, получите вот такой результат:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Вывод на экран</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>String <span class="text-green">text</span> = "Привет";
String <span class="text-user">message</span> = <span class="text-green">text</span>;
String <span class="text-red">s1</span> = text.toUpperCase();
String <span class="text-red">s2</span> = text.toUpperCase();
System.out.println(<span class="text-green">text</span> == <span class="text-user">message</span>);
System.out.println(<span class="text-green">text</span> == <span class="text-red">s1</span>);
System.out.println(<span class="text-red">s1</span> == <span class="text-red">s2</span>); </code></pre>
        </td>
        <td>
                <pre>




<code><span class="text-green">true</span>  <span class="text-muted">// адреса равны</span>
<span class="text-red">false</span> <span class="text-muted">// адреса разные</span>
<span class="text-red">false</span> <span class="text-muted">// адреса разные</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>

<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task03.task0320"></div>
<hr>

<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b3f30b2b-9cf9-4f57-8364-e952fa7f05cc" data-max-width="1024" src="https://cdn.javarush.com/images/article/b3f30b2b-9cf9-4f57-8364-e952fa7f05cc/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="8f4e68ef-c649-48c0-ab9a-d1e50e3a1b38" data-max-width="512" src="https://cdn.javarush.com/images/article/8f4e68ef-c649-48c0-ab9a-d1e50e3a1b38/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="13669eac-3ba0-49de-abdb-581dfa2b57dc" data-max-width="512" src="https://cdn.javarush.com/images/article/13669eac-3ba0-49de-abdb-581dfa2b57dc/original.png" alt="">
        </div>
    </div>
</div>