Загрузка классов
<p>----------------------------------------</p>
Мы уже говорили о том, что классы – это сложные типы данных. А теперь немного поговорим о второй стороне классов – обработки класса Java-машиной: в Java все является объектом, даже класс. Класс является объектом. Интересно? Тогда продолжим.
Загрузка класса в память
На самом деле, при загрузке класса
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="9b8ec30a-875a-45b3-9b8d-965834e5e6b9" src="https://cdn.javarush.com/images/article/9b8ec30a-875a-45b3-9b8d-965834e5e6b9/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="ab540e57-5fde-4bf1-b383-f55468f92e26" src="https://cdn.javarush.com/images/article/ab540e57-5fde-4bf1-b383-f55468f92e26/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="2ccf8746-09a0-4ddc-a89e-5ae8c8ed1688" src="https://cdn.javarush.com/images/article/2ccf8746-09a0-4ddc-a89e-5ae8c8ed1688/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="5882c017-a8aa-452e-8f02-8fceace9fe0e" src="https://cdn.javarush.com/images/article/5882c017-a8aa-452e-8f02-8fceace9fe0e/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="53a3858a-7f1a-4922-90a7-9b607acc3d8d" src="https://cdn.javarush.com/images/article/53a3858a-7f1a-4922-90a7-9b607acc3d8d/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="ce4466c7-74da-4be5-8531-08444bcf3e80" src="https://cdn.javarush.com/images/article/ce4466c7-74da-4be5-8531-08444bcf3e80/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<p>Мы уже говорили о том, что классы — это сложные типы данных. А теперь немного поговорим о второй стороне классов — обработке класса Java-машиной: в Java все является объектом, даже класс. <strong>Класс является объектом</strong>. Интересно? Тогда продолжим.</p>
<p><strong>Загрузка класса в память</strong></p>
<p>На самом деле, при загрузке класса в память создаются три специальных «объекта»:</p>
<img data-id="a69316be-398f-4434-b34f-c5c6ecf2a5cc" src="https://cdn.javarush.com/images/article/a69316be-398f-4434-b34f-c5c6ecf2a5cc/original.png" alt="Загрузка класса в память">
<p>Краткое описание картинки</p>
<p><strong>Желтый прямоугольник:</strong></p>
<p>Файл с кодом хранится на диске в виде файла с расширением «.class». Он содержит информацию о классе, его полях и методах, а также код методов, скомпилированный в байт-код.</p>
<p><strong>Оранжевый прямоугольник:</strong></p>
<p>Когда Java-машина загружает класс в память, она компилирует его байт-код в машинный код с учетом процессора компьютера и его операционной системы. Доступ к этому машинному коду есть только у Java-машины: у нас как у Java-программистов его нет.</p>
<p><strong>Зеленый прямоугольник:</strong></p>
<p>Java-машина создает некий объект, который содержит все статические переменные и методы класса. Доступ к этому «объекту» у вас есть по имени класса.</p>
<p>Например, когда вы пишете <code>java.lang.<span class="text-neon">Math</span>.<span class="text-green">PI</span></code>, вы обращаетесь к статической переменной <code>PI</code>, которая лежит в классе <code>java.lang.Math</code>. Вот этот <code>java.lang.Math</code> и есть наш зеленый прямоугольник. И именно у него внутри хранится статическая переменная <code>PI</code>.</p>
<p><strong>Синий прямоугольник:</strong></p>
<p>Когда Java-машина загружает код класса в память, она создает специальный объект типа <code>java.lang.Class</code>, в котором хранится информация о загруженном классе: его имя, имена методов, имена и типы полей и т.п.</p>
<p>Название «Class» может немного сбивать столку. Логичнее было бы его назвать ClassInfo: этот класс всего лишь хранит некую информацию о загруженном классе.</p>
<p>Получить объект класса можно у любого типа с помощью команды вида:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present"><code><span class="text-neon">Class</span> <span class="code text-user">имя</span> = <span class="text-viola">ИмяКласса</span>.<span class="text-red">class</span>;</code></pre>
</div>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
            <pre class=""><code><span class="text-neon">Class</span> <span class="code text-user">a</span> = <span class="text-viola">String</span>.<span class="text-red">class</span>;</code></pre>
        </td>
        <td>Получаем объект типа <code><span class="text-neon">Class</span></code> с информацией о классе <code><span class="text-viola">String</span></code></td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-neon">Class</span> <span class="code text-user">b</span> = <span class="text-viola">Object.</span><span class="text-red">class</span>;</code></pre>
        </td>
        <td>Получаем объект типа <code><span class="text-neon">Class</span></code> с информацией о классе <code><span class="text-viola">Object</span></code></td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-neon">Class</span> <span class="code text-user">c</span> = <span class="text-viola">Integer</span>.<span class="text-red">class</span>;</code></pre>
        </td>
        <td>Получаем объект типа <code><span class="text-neon">Class</span></code> с информацией о классе <code><span class="text-viola">Integer</span></code></td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-neon">Class</span> <span class="code text-user">d</span> = <span class="text-viola">int</span>.<span class="text-red">class</span>;</code></pre>
        </td>
        <td>Получаем объект типа <code><span class="text-neon">Class</span></code> с информацией о типе <code><span class="text-viola">int</span></code></td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-neon">Class</span> <span class="code text-user">e</span> = <span class="text-viola">void</span>.<span class="text-red">class</span>;</code></pre>
        </td>
        <td>Получаем объект типа <code><span class="text-neon">Class</span></code> с информацией о типе <code><span class="text-viola">void</span></code></td>
    </tr>
    </tbody>
</table>
<p>Ссылку на объект с описанием класса можно получить и у объекта: для этого у каждого объекта есть метод <code>getClass()</code>, унаследованный от класса <code>Object</code>.</p>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Код</th>
        <th>Примечание</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">Class</span> a = "Привет".<span class="text-red">getClass</span>();</code></pre>
        </td>
        <td>Тот же объект, что и <code>String.class</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">Class</span> b = new Integer().<span class="text-red">getClass</span>();</code></pre>
        </td>
        <td>Тот же объект, что и <code>Integer.class</code></td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-neon">Class</span> c = Boolean.TRUE.<span class="text-red">getClass</span>();</code></pre>
        </td>
        <td>Тот же объект, что и <code>Boolean.class</code></td>
    </tr>
    </tbody>
</table>