Статические классы
<p>----------------------------------------</p>
Внутренние классы Недавно вы узнали, что бывают статические переменные и статические методы, но оказываются бывают еще и статические классы. &nbsp;Но начнем немного издалека. В языке Java вполне себе можно объявлять классы внутри классов. И даже классы внутри классов, которые внутри классов внут
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="9ecb07cb-1e6f-4245-ae79-ff10ca8fc482" src="https://cdn.javarush.com/images/article/9ecb07cb-1e6f-4245-ae79-ff10ca8fc482/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="d165e641-1b7c-4537-a4eb-4bc73de85c01" src="https://cdn.javarush.com/images/article/d165e641-1b7c-4537-a4eb-4bc73de85c01/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="ed893b03-44e5-4a08-9e97-32e51dc61bf6" src="https://cdn.javarush.com/images/article/ed893b03-44e5-4a08-9e97-32e51dc61bf6/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="169ac0a2-76e7-466c-a4fb-21e9b980d329" src="https://cdn.javarush.com/images/article/169ac0a2-76e7-466c-a4fb-21e9b980d329/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="f4f77ea9-97da-436f-8b69-c242219140d8" src="https://cdn.javarush.com/images/article/f4f77ea9-97da-436f-8b69-c242219140d8/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="733db48f-35a7-4453-abd5-2fa256978b60" src="https://cdn.javarush.com/images/article/733db48f-35a7-4453-abd5-2fa256978b60/original.png" alt="">
        </div>
    </div>
</div>
<hr>
<h2>1. Внутренние классы</h2>
<p>Недавно вы узнали, что бывают статические переменные и статические методы, но, оказывается, бывают еще и статические классы. Но начнем немного издалека.</p>
<p>В языке Java вполне можно объявлять классы внутри классов. И даже классы внутри классов, которые внутри классов внутри классов. Выглядит это все очень просто:</p>
<div class="lesson-example lesson-example--center">
<pre class="lecture-code lecture-code--present-sm language-java"><code>class <span class="code text-viola">ВнешнийКласс</span>
{
   <span class="text-green">переменные класса</span>
   <span class="text-user">методы класса
</span>
   class <span class="code text-neon">ВнутреннийКласс</span>
   {
      <span class="text-green">переменные класса</span>
      <span class="text-user">методы класса</span>
   }
}</code></pre>
</div>
<p>Просто объявляем один класс внутри другого — и все.</p>
<p>Пример:</p>
<pre class="language-java"><code>public class <span class="code text-viola">Solution</span>
{
   static ArrayList&lt;<span class="text-neon">Point</span>&gt; <span class="text-green">points</span> = new ArrayList&lt;<span class="text-neon">Point</span>&gt;();

   public static void main(String[] args)
   {
      <span class="text-neon">Point</span> <span class="text-orange">point</span> = new <span class="text-neon">Point</span>();
      <span class="text-orange">point</span>.x = 100;
      <span class="text-orange">point</span>.y = 200;
      <span class="text-green">points</span>.add(<span class="text-orange">point</span>);
   }

   static class <span class="code text-neon">Point</span>
   {
      int x;
      int y;
   }
}</code></pre>
<p>Внутренние классы бывают статические и нестатические. Статические классы еще называют <strong>вложенными</strong> (<span class="term">static nested class</span>), нестатические просто называют <strong>внутренними</strong> классами (<span class="term">inner class</span>).</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1107"></div>
<hr>
<h2>2. Статические классы</h2>
<p>Статические вложенные классы можно использовать вне своего родительского класса. Если у такого класса стоит модификатор доступа public, его можно использовать в любом месте программы. Такие классы фактически ничем не отличаются от любого обычного класса. Хотя есть пара отличий.</p>
<p><strong>Имя класса</strong></p>
<p>Если вы хотите обратиться к статическому вложенному классу не из его класса-родителя, а из другого места в программе, вам нужно будет указать имя класса: оно состоит из имени класса родителя и имени вложенного класса. Общий вид этого имени такой:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present"><code><span class="text-viola">КлассРодитель</span>.<span class="text-neon">ВложенныйКласс</span></code></pre>
</div>
<p>Примеры:</p>
<table>
    <tbody>
    <tr>
        <th>Класс родитель</th>
        <th>Вложенный класс</th>
        <th>Полное имя вложенного класса</th>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-viola">com.javarush.Solution</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-neon">Point</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-viola">com.javarush.Solution</span>.<span class="text-neon">Point</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-viola">java.util.Map</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-neon">Entry</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-viola">java.util.Map</span>.<span class="text-neon">Entry</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-viola">java.util.Files</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-neon">DirectoryStream</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-viola">java.util.Files</span>.<span class="text-neon">DirectoryStream</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre><code><span class="text-viola">java.nio.Windows<span class="text-viola">Path</span></span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-neon">Closeable</span></code></pre>
        </td>
        <td>
            <pre><code><span class="text-viola">java.nio.WindowsPath</span>.<span class="text-neon">Closeable</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Если вложенный класс имеет свой вложенный класс, их имена просто склеиваются через точку.</p>
<p>Типичный пример вложенного класса в JDK — это <a href="https://javarush.com/groups/posts/2542-otvetih-na-samihe-populjarnihe-voprosih-ob-interfeyse-map">класс Entry внутри класса Map</a>. Если вы хотите получить множество пар элементов из объекта <code>HashMap</code>, то метод <code>entrySet()</code> вернет вам множество пар типа <code>Set&lt;<span class="text-viola">Map</span>.<span class="text-neon">Entry</span>&gt;</code>.</p>
<p>Вот запись <code><span class="text-viola">Map</span>.<span class="text-neon">Entry</span></code> — это и есть внешний и внутренний классы.</p>
<p><strong>Создание объекта</strong></p>
<p>Создать объект вложенного статического класса очень легко. Выглядит это так:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm language-kava"><code><span class="text-viola">КлассРодитель</span>.<span class="text-neon">ВложенныйКласс</span> <span class="code text-green">имя</span> = new <span class="text-viola">КлассРодитель</span>.<span class="text-neon">ВложенныйКласс</span>();</code></pre>
</div>
<p>Все, как и с обычными классами, только имя двойное.</p>
<p><strong>Обращение к статическим методам</strong></p>
<p>Если у статического класса есть статические методы, обращаться к ним можно точно так же, как к статическим методам обычных классов (только имя класса теперь двойное).</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm"><code><span class="text-viola">КлассРодитель</span>.<span class="text-neon">ВложенныйКласс</span>.<span class="text-red">статическийМетод</span>();</code></pre>
</div>
<p><strong>Обращение к статическим переменным</strong></p>
<p>Обращаться к публичным статическим переменным вложенного класса тоже легко:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm"><code><span class="text-viola">КлассРодитель</span>.<span class="text-neon">ВложенныйКласс</span>.<span class="text-red">имяСтатическойПеременной</span></code></pre>
</div>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1108"></div>
<hr>
<h2>3. Особенности статических классов</h2>
<p>Статические внутренние классы <strong>меньше всего</strong> стоило бы называть статическими. Они ведут себя <strong>точно так же, как обычные классы</strong>. Никаких ограничений на обращение к ним из нестатических методов нет.</p>
<p>Если вы работаете с внутренним статическим классом внутри его класса-родителя, вообще не заметите никакой разницы с тем, если бы этот внутренний класс был бы самым обычным классом (не вложенным и не статическим).</p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Внутренний статический класс Point</th>
        <th>Обычный класс Point</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="code text-viola">Solution</span>
{
   static ArrayList&lt;<span class="text-neon">Point</span>&gt; <span class="text-green">points</span>;

   public static void main(String[] args)
   {
      <span class="text-neon">Point</span> <span class="text-orange">point</span> = new <span class="code text-neon">Point</span>();
      <span class="text-orange">point</span>.x = 100;
      <span class="text-orange">point</span>.y = 200;
      <span class="text-green">points</span> = new ArrayList&lt;<span class="text-neon">Point</span>&gt;();
      <span class="text-green">points</span>.add(<span class="text-orange">point</span>);
   }

   static class <span class="code text-neon">Point</span>
   {
      int x;
      int y;
   }
}</code></pre>
        </td>
        <td>
<pre class="language-java"><code>public class <span class="code text-viola">Solution</span>
{
   static ArrayList&lt;<span class="text-red">Point</span>&gt; <span class="text-green">points</span>;

   public static void main(String[] args)
   {
      <span class="text-red">Point</span> <span class="text-orange">point</span> = new <span class="code text-red">Point</span>();
      <span class="text-orange">point</span>.x = 100;
      <span class="text-orange">point</span>.y = 200;
      <span class="text-green">points</span> = new ArrayList&lt;<span class="text-red">Point</span>&gt;();
      <span class="text-green">points</span>.add(<span class="text-orange">point</span>);
   }
}

class <span class="code text-red">Point</span>
{
   int x;
   int y;
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Если вы возьмете какой-то вложенный статический класс и вынесете его из его класса родителя, все, что изменится, так это то, что <span class="text-orange">новый класс потеряет способность обращаться к <code><span class="text-orange">private static</span></code> переменным и методам бывшего класса-родителя.</span></p>
<p>Пример:</p>
<table>
    <tbody>
    <tr>
        <th>Внутренний статический класс Point</th>
        <th>Обычный класс Point</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>public class <span class="text-viola">Solution</span>
<span>{
</span>   private static ArrayList&lt;<span class="text-neon">Point</span>&gt; <span class="code text-green">points</span>;

   static class <span class="code text-neon">Point</span>
   {
      int x;
      int y;

      public static void main(String[] args)
      {
         <span class="text-neon">Point</span> <span class="text-orange">point</span> = new <span class="code text-neon">Point</span>();
         <span class="text-orange">point</span>.x = 100;
         <span class="text-orange">point</span>.y = 200;

         <span class="text-green">// будет работать</span>
         <span class="code text-green">points</span> = new ArrayList&lt;<span class="text-neon">Point</span>&gt;();
         <span class="code text-green">points</span>.add(<span class="text-orange">point</span>);
      }
   }
}</code></pre>
        </td>
        <td>
<pre class="language-java"><code>public class <span class="text-viola">Solution</span>
{
   private static ArrayList&lt;<span class="text-red">Point</span>&gt; <span class="code text-green">points</span>;
}

class <span class="code text-red">Point</span>
{
   int x;
   int y;

   public static void main(String[] args)
   {
      <span class="text-red">Point</span> <span class="text-orange">point</span> = new <span class="code text-red">Point</span>();
      <span class="text-orange">point</span>.x = 100;
      <span class="text-orange">point</span>.y = 200;

      <span class="text-red">// тут будет ошибка</span>
      <span class="code text-green">points</span> = new ArrayList&lt;<span class="text-red">Point</span>&gt;();
      <span class="code text-green">points</span>.add(<span class="text-orange">point</span>);
   }
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Метод <code>main</code> в обычном классе <code>Point</code> <span class="text-red">не может</span> обращаться к <code>private static</code> переменной <code class="text-green">points</code> класса <code><span class="text-viola">Solution</span></code>!</p>
<p>Это, собственно, и есть <strong>главное отличие вложенного статического класса</strong> от обычного класса. Методы вложенного статического класса имеют доступ ко всем статическим переменным и методам своего класса родителя, даже если те объявлены <code>private</code>.</p>
<p>Ну а если разобраться, что тут удивительного? Модификатор <code>private</code> прямо говорит, что к переменным и методам, обозначенным этим модификатором, можно обращаться только изнутри их класса. Внутренний статический класс находится внутри класса-родителя? Да, тогда никаких проблем: обращайтесь сколько хотите.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="com.javarush.task.pro.task11.task1109"></div>