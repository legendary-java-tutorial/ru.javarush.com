Условные функции
<p>----------------------------------------</p>
Список условных функций
Функция IF()
Функция IFNULL() и NULLIF()
<p>----------------------------------------</p>
<h2>1.1 Список условных функций</h2>
<p>В языке SQL есть список функций, которые чем-то похожи на оператор <code>if-else</code> и <code>switch</code> в Java.</p>
<p>Всего таких функций 4:  </p>
<table>
    <tbody>
    <tr>
        <th></th>
        <th>Функции</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>1</td>
        <td>CASE</td>
        <td>Аналог switch</td>
    </tr>
    <tr>
        <td>2</td>
        <td>IF()</td>
        <td>Аналог тернарного оператора или if-else</td>
    </tr>
    <tr>
        <td>3</td>
        <td>IFNULL()</td>
        <td>Аналог if-else</td>
    </tr>
    <tr>
        <td>4</td>
        <td>NULLIF()</td>
        <td>Аналог if-else</td>
    </tr>

    </tbody>
</table>
<p>Три последних в SQL представлены в виде функций, а <code>CASE</code> – это полноценный оператор, поэтому мы рассмотрим его отдельно в самом конце.</p>
<h2>1.2 Функция IF()</h2>
<p>Функция <code>IF()</code> в SQL чем-то напоминает тернарный оператор в Java. В языке SQL она принимает 3 параметра и имеет вид:</p>
 <div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-red">IF</span> (<span class="text-orange">условие</span>, <span class="text-user">истинное</span>, <span class="text-green">ложное</span>)
        </code></pre>
</div>
<p>В функцию <code>IF</code> нужно передать три выражения:</p>
<ul>
	<li>условие, которое проверяется на истинность;</li>
	<li>выражение, которое возвращается, когда условие истинно;</li>
	<li>выражение, которое возвращается, когда условие ложно.</li>
</ul>
<p>Ниже я приведу несколько примеров, чтобы было легче понять, как это работает:</p>
<table>
    <tbody>
    <tr>
        <th></th>
        <th>Запрос</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>1</td>
        <td>SELECT IF(<span class="text-red">1>2</span>, 2, 3)</td>
        <td>3</td>
    </tr>
    <tr>
        <td>2</td>
        <td>SELECT IF(<span class="text-red">1<2</span>, 'yes', 'no')</td>
        <td>'yes'</td>
    </tr>
    <tr>
        <td>3</td>
        <td>SELECT IF(<span class="text-red">STRCMP('test','test1'</span>), 'no', 'yes')</td>
        <td>'no'</td>
    </tr>
    </tbody>
</table>
<p>1.3 Функция IFNULL() и NULLIF()</p>
<p>Также есть две модификации функции <code>IF()</code>.</p>
<p>Первая модификация – это функция <code>IFNULL()</code>. Она принимает только два значения:</p>
 <div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-red">IFNULL</span> (<span class="text-orange">выражение1</span>, <span class="text-green">выражение2</span>)
        </code></pre>
</div>
<p>Если <span class="text-orange">выражение1</span> не равно <code>NULL</code>, тогда функция вернет <span class="text-orange">выражение1</span>. Если же <span class="text-orange">выражение1</span> <code>IS NULL,</code> то функция вернет <span class="text-green">выражение2</span>. Суть – подстановка значения по умолчанию, когда поле равно <code>NULL</code>.</p>
<p>Вторая модификация функции <code>IF</code> – это функция <code>NULLIF()</code>, она тоже принимает два значения:</p>
 <div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-red">NULLIF</span> (<span class="text-orange">выражение1</span>, <span class="text-green">выражение2</span>)
        </code></pre>
</div>
<p>Она работает в противоположном направлении:</p>
<ul>
	<li>если <span class="text-orange">выражение1</span> равно <span class="text-green">выражение2</span>, то функция возвращает <code>NULL</code>;</li>
	<li>  если выражения не равны, то возвращает <span class="text-orange">выражение1</span>.</li>
</ul>
