Функции работы с датой
<p>----------------------------------------</p>
Список функций для работы с датой и временем
Вызов функций
Группируем данные по году и месяцу
<p>----------------------------------------</p>
<h2>3.1 Список функций для работы с датой и временем</h2>
<p>Дата и время – это одни из самых распространенных типов данных, которые хранятся в Базах Данных. Именно поэтому список функций для работы с ними очень большой. Вот самые популярные из них: </p>

<table>
    <tbody>
    <tr>
        <th>#</th>
        <th>Функция</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>1</td>
        <td>CURDATE()</td>
        <td>Возвращает текущую дату</td>
    </tr>
    <tr>
        <td>2</td>
        <td>CURTIME()</td>
        <td>Возвращает текущее время</td>
    </tr>
    <tr>
        <td>3</td>
        <td>NOW(), LOCALTIME()</td>
        <td>Возвращает текущую дату и текущее время</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>4</td>
        <td>YEAR()</td>
        <td>Возвращает год от даты</td>
    </tr>
    <tr>
        <td>5</td>
        <td>MONTH()</td>
        <td>Возвращает месяц из даты</td>
    </tr>
    <tr>
        <td>6</td>
        <td>DAY(), DAYOFMONTH()</td>
        <td>Возвращает день из даты</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>7</td>
        <td>HOUR()</td>
        <td>Возвращает только часы из времени</td>
    </tr>
    <tr>
        <td>8</td>
        <td>MINUTE()</td>
        <td>Возвещает минуты от времени</td>
    </tr>
    <tr>
        <td>9</td>
        <td>SECOND()</td>
        <td>Возвращает секунды от времени</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>10</td>
        <td>DAYNAME()</td>
        <td>Возвращает название дня недели: Monday, ...</td>
    </tr>
    <tr>
        <td>11</td>
        <td>MONTHNAME()</td>
        <td>Возвращает название месяца: Январь, …</td>
    </tr>
    <tr>
        <td>12</td>
        <td>WEEK()</td>
        <td>Возвращает неделю из даты</td>
    </tr>
    <tr>
        <td>13</td>
        <td>WEEKDAY()</td>
        <td>Возвращает номер дня недели: Понедельник – 0, Вторник – 1</td>
    </tr>
    <tr>
        <td>14</td>
        <td>WEEKOFYEAR()</td>
        <td>Возвращает номер недели в году</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>15</td>
        <td>DAYOFWEEK()</td>
        <td>Возвращает номер дня недели: Воскресенье - 1, Понедельник – 2</td>
    </tr>
    <tr>
        <td>16</td>
        <td>DAYOFYEAR()</td>
        <td>Возвращает день года: 1-366</td>
    </tr>
    <tr>
        <td>17</td>
        <td>DATE()</td>
        <td>Возвращает только дату от объекта «дата и время»</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>18</td>
        <td>ADDDATE()</td>
        <td>Добавляет дни к дате</td>
    </tr>
    <tr>
        <td>19</td>
        <td>SUBDATE()</td>
        <td>Вычитает дни из даты</td>
    </tr>
    <tr>
        <td>20</td>
        <td>ADDTIME()</td>
        <td>Добавляет время ко времени</td>
    </tr>
    <tr>
        <td>21</td>
        <td>SUBTIME()</td>
        <td>Вычитает время из времени</td>
    </tr>
    </tbody>
</table>

<p>Я специально сгруппировал функции в небольшие группы, чтобы было легче понять, как с ними работать. Ниже мы рассмотрим по одной функции из каждой группы. </p>
<p>Полный список функций для работы с датой и временем ты можешь найти по ссылке: <a href="https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html" target="_blank">https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html</a> </p>
<h2>3.2 Вызов функций</h2>
<p>Кстати, раз уж мы изучаем такое большое количество функций, думаю полезно будет упомянуть, что оператор <code>SELECT</code> не обязательно использовать вместе с <code>FROM</code>. Он может вернуть значение любого выражения. Общий вид которого задается шаблоном:</p>
 <div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-brown">SELECT</span> <span class="text-green">выражение</span> 
        </code></pre>
</div>
<p>А если вы хотите вызвать какую-то функцию, то нужно написать код типа:</p>
 <div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-brown">SELECT</span> <span class="text-green">функция</span>(<span class="text-user">параметры</span>)  
        </code></pre>
</div>
<p> Ниже я приведу несколько примеров работы оператора <code>SELECT</code> без обращения к таблицам: </p>
<table>
    <tbody>
    <tr>
        <th>#</th>
        <th>Запрос</th>
        <th>Результат</th>
    </tr>
    <tr>
        <td>1</td>
        <td>SELECT  1+1</td>
        <td>2</td>
    </tr>
    <tr>
        <td>2</td>
        <td>SELECT  13 MOD 5</td>
        <td>3</td>
    </tr>
    <tr>
        <td>3</td>
        <td>SELECT  RAND()</td>
        <td>0.20771444235715497</td>
    </tr>
    <tr>
        <td>4</td>
        <td>SELECT CURDATE()</td>
        <td>2022-06-04</td>
    </tr>
    <tr>
        <td>5</td>
        <td>SELECT CURTIME()</td>
        <td>00:06:02</td>
    </tr>
    <tr>
        <td>6</td>
        <td>SELECT NOW()</td>
        <td>2022-06-04 00:06:43</td>
    </tr>
    </tbody>
</table>
<p>И, как ты можешь видеть, в таблице выше, для того чтобы получить текущую дату и время, тебе достаточно воспользоваться одной из функций: </p>
<ul>
	<li><code>CURDATE()</code> – текущее дата;</li>
	<li><code>CURTIME()</code> – текущая время;</li>
	<li><code>NOW()</code> – текущая дата и время.</li>
</ul>
<p>3.3 Группируем данные по году и месяцу</p>
<p>Давай вспомним нашу таблицу task с задачами для сотрудников. Попробуем сгруппировать задачи из этой таблицы по годам. Для этого воспользуемся функцией <code>YEAR()</code>, которая возвращает год от переданной в нее даты.</p>
<p>Первая версия нашего запроса будет выглядеть так:</p>
 <div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-brown">SELECT</span> 
    <span class="text-green">id</span>,  
    <span class="text-green">employee_id </span>,  
    <span class="text-green">name</span>,  
    <span class="text-red">YEAR</span>(<span class="text-green">deadline</span>) <span class="text-brown">AS</span> <span class="text-viola">year</span>,  
    <span class="text-green">deadline</span>  
<span class="text-brown">FROM</span> <span class="text-yellow">task</span> 
        </code></pre>
</div>
<p>Результат этого запроса будет таким: </p>
<table>
    <tbody>
    <tr>
        <th>id</th>
        <th>employee_id </th>
        <th>name</th>
        <th>year</th>
        <th>deadline</th>
    </tr>
    <tr>
        <td>1</td>
        <td>1</td>
        <td>Исправить багу на фронтенде</td>
        <td>2022</td>
        <td>2022-06-01</td>
    </tr>
    <tr>
        <td>2</td>
        <td>2</td>
        <td>Исправить багу на бэкенде</td>
        <td>2022</td>
        <td>2022-06-15</td>
    </tr>
    <tr>
        <td>3</td>
        <td>5</td>
        <td>Купить кофе</td>
        <td>2022 </td>
        <td>2022-07-01</td>
    </tr>
    <tr>
        <td>4</td>
        <td>5</td>
        <td>Купить кофе</td>
        <td>2022 </td>
        <td>2022-08-01</td>
    </tr>
    <tr>
        <td>5</td>
        <td>5</td>
        <td>Купить кофе</td>
        <td>2022 </td>
        <td>2022-09-01</td>
    </tr>
    <tr>
        <td>6</td>
        <td>(NULL)</td>
        <td>Убрать офис</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
    </tr>
    <tr>
        <td>7</td>
        <td>4</td>
        <td>Наслаждаться жизнью</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
    </tr>
    <tr>
        <td>8</td>
        <td>6</td>
        <td>Наслаждаться жизнью</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
    </tr>
    </tbody>
</table>
<p>Мы видим, что у всех строк один и тот же год, так что давай лучше используем два поля – год и месяц. Вторая версия нашего запроса будет выглядеть так:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code>
<span class="text-brown">SELECT</span> 
    <span class="text-green">id</span>,  
    <span class="text-green">employee_id </span>,  
    <span class="text-green">name</span>,  
    <span class="text-red">YEAR</span>(<span class="text-green">deadline</span>) <span class="text-brown">AS</span> <span class="text-viola">year</span>,
    <span class="text-red">MONTH</span>(<span class="text-green">deadline</span>) <span class="text-brown">AS</span> <span class="text-viola">month</span>,  
    <span class="text-green">deadline</span>  
<span class="text-brown">FROM</span> <span class="text-yellow">task</span> 
        </code></pre>
</div>
<p>Результат этого запроса будет таким: </p>
<table>
    <tbody>
    <tr>
        <th>id</th>
        <th>employee_id </th>
        <th>name</th>
        <th>year</th>
        <th>month </th>
        <th>deadline</th>
    </tr>
    <tr>
        <td>1</td>
        <td>1</td>
        <td>Исправить багу на фронтенде</td>
        <td>2022</td>
        <td>6</td>
        <td>2022-06-01</td>
    </tr>
    <tr>
        <td>2</td>
        <td>2</td>
        <td>Исправить багу на бэкенде</td>
        <td>2022</td>
        <td>6</td>
        <td>2022-06-15</td>
    </tr>
    <tr>
        <td>3</td>
        <td>5</td>
        <td>Купить кофе</td>
        <td>2022 </td>
        <td>7 </td>
        <td>2022-07-01</td>
    </tr>
    <tr>
        <td>4</td>
        <td>5</td>
        <td>Купить кофе</td>
        <td>2022 </td>
        <td>8 </td>
        <td>2022-08-01</td>
    </tr>
    <tr>
        <td>5</td>
        <td>5</td>
        <td>Купить кофе</td>
        <td>2022 </td>
        <td>9 </td>
        <td>2022-09-01</td>
    </tr>
    <tr>
        <td>6</td>
        <td>(NULL)</td>
        <td>Убрать офис</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
    </tr>
    <tr>
        <td>7</td>
        <td>4</td>
        <td>Наслаждаться жизнью</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
    </tr>
    <tr>
        <td>8</td>
        <td>6</td>
        <td>Наслаждаться жизнью</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
        <td>(NULL)</td>
    </tr>
    </tbody>
</table>
<p>Как группировать задачи по году и месяцу я подсказывать не буду – ты это уже изучал: воспользуйся оператором <code>GROUP BY</code>. </p>
