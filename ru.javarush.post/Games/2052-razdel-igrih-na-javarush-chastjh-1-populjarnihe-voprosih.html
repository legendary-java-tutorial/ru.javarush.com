Новый раздел JavaRush — «Игры»
<p>----------------------------------------</p>
Сегодня у вас есть уникальная возможность  — одним из первых протестировать новый раздел «Игры» и почувствовать себя настоящим гейм-разработчиком. Сейчас раздел находится на стадии бета-тестирования, но уже доступен для всех желающих =)
<p>----------------------------------------</p>
У нас отличная новость! 

На JavaRush появился новый раздел — <a href="https://javarush.com/projects/games" target="_blank">«Игры»</a>, который теперь открыт для всех пользователей. Здесь каждый из вас может написать полноценную игру с графикой и почувствовать себя настоящим гейм-разработчиком. На данный момент раздел находится на стадии бета-тестирования, поэтому нам очень важно услышать ваше мнение о том, как сделать его еще круче!

Пробуйте, тестируйте, оставляйте отзывы и предложения под этим постом!

Коротко об основных возможностях раздела "Игры" вы узнаете из нашего видео. Наслаждайтесь! <div id="section-game" class="col">
<div class="embed-responsive embed-responsive-16by9" style="white-space: normal">
<iframe width="560" height="315" src="https://www.youtube.com/embed/6pif6PoX8SY" rel="0&quot;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
</div>
</div>
Теперь предлагаем подробнее ознакомиться с возможностями нового раздела и получить ответы на главные вопросы, которые могут появиться при написании задач-игр.
<h2 id="Как писать игры на JavaRush">1. Как писать игры на JavaRush</h2>Как вы уже поняли, на JavaRush появилась уникальная возможность — <strong>написание игр</strong>. Они существенно больше, чем обычные задачи, и гораздо интереснее. Интересно их не только писать, но и, гм, тестировать. Если вы понимаете, о чем мы ;)

Работа в офисе JavaRush была буквально парализована несколько дней, когда мы начали фазу тестирования задач-игр :)

Каждая задача-игра — это проект: большая задача с двумя десятками подзадач. В процессе написания игры вам нужно будет последовательно выполнить их. Когда последняя подзадача будет сделана, ваша игра готова.

Она будет использовать очень простой <strong>игровой движок JavaRush</strong>. Работать с ним не сложнее, чем с консолью. Описание игрового движка и примеры работы с ним вы найдете <a href="https://javarush.com/groups/posts/2055-razdel-igrih-na-javarush-chastjh-2-opisanie-igrovogo-dvizhka" target="_blank">в этом документе</a>.
<h2 id="Возможности игрового движка">2. Возможности игрового движка</h2>Игровое поле делится игровым движком на клетки. Минимальный размер — 3x3, максимальный — 100x100.

Каждую клетку можно раскрасить в определенный цвет и написать в ней какой-нибудь текст. Также для каждой клетки задаются размер и цвет текста.

Движок позволяет писать методы-обработчики для таких событий как «нажатие кнопок мышки» и «нажатие клавиш на клавиатуре».

Еще из интересного можно отметить возможность работы с таймером. Детальнее об этом вы узнаете из раздела «Работа с таймером».

Такой «очевидный движок» позволяет создавать очень интересные игры, в чем вы убедитесь сами. Хотите проверить? Тогда читайте следующий пункт и приступайте к написанию игр.
<h2 id="Получение доступа к игре">3. Получение доступа к игре</h2>Чтобы получить доступ к написанию игр, вам нужно зайти <a href="https://javarush.com/projects/games" target="_blank">в раздел «Игры»</a> на сайте JavaRush, выбрать понравившуюся и перейти на ее страницу. 
<img data-id="06401fe5-c9ae-441f-84b5-8245b02a9fa9" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 1" src="https://cdn.javarush.com/images/article/06401fe5-c9ae-441f-84b5-8245b02a9fa9/1024.jpeg">Там будет кнопка «<strong>Написать свое решение</strong>» — нажмите ее. 
<img data-id="87fd0b59-9b8a-46d8-9cc7-ebf316bd622b" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 2" src="https://cdn.javarush.com/images/article/87fd0b59-9b8a-46d8-9cc7-ebf316bd622b/1024.jpeg">У вас откроется WebIDE, в которой вы начнете работать над первой подзадачей игры. Также с этого момента подзадачи игры станут доступны вам в Intellij IDEA, через плагин.
<img data-id="67aa9ba7-53df-4c42-8e82-e9d2d1b4aebc" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 3" src="https://cdn.javarush.com/images/article/67aa9ba7-53df-4c42-8e82-e9d2d1b4aebc/1024.jpeg"><strong>Если вы пользуетесь Intellij IDEA</strong>, вам нужно будет обновить плагин. 

Последнюю версию плагина вы можете скачать <a href="https://javarush.com/me/downloads" target="_blank">здесь</a>.

После обновления плагина откройте список задач и выберите «Java Games Quest». 
<img data-id="ee3bf003-5bb3-4681-8d1a-69b4256b9f73" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 4" src="https://cdn.javarush.com/images/article/ee3bf003-5bb3-4681-8d1a-69b4256b9f73/1024.jpeg">Далее кликайте по доступной подзадаче: у вас в проекте должен появиться модуль Java Games, а в нем — библиотека движка и код вашей подзадачи. Дальнейшие действия — такие же, как и при решении других задач.

Игры можно писать хоть в WebIDE, хоть в Intellij IDEA, где вам больше нравится. Но Intellij IDEA все-таки удобнее. И профессиональнее. Выбор за вами.
<h2 id="Публикация игр в каталоге приложений">4. Публикация игр в каталоге приложений</h2>Когда вы закончите писать игру, сможете опубликовать ее в каталоге Игр-и-Приложений на JavaRush. Просто нажмите кнопку «Опубликовать», и спустя полминуты ваша игра добавится в раздел <a href="https://javarush.com/projects/apps" target="_blank">«Опубликованные Игры»</a>.
<img data-id="b6366f01-bda8-4667-90be-6d8d285f7e89" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 5" src="https://cdn.javarush.com/images/article/b6366f01-bda8-4667-90be-6d8d285f7e89/1024.jpeg">Если вы хотите поделиться с друзьями или коллегами вашей реализацией игры, нет ничего проще. Просто вышлите им ссылку на персональную страницу опубликованной игры и пусть играют. Регистрация на JavaRush для этого не требуется. 
<img data-id="b0de6a3a-ab88-4a50-8ef4-4c95bc708adc" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 6" src="https://cdn.javarush.com/images/article/b0de6a3a-ab88-4a50-8ef4-4c95bc708adc/1024.jpeg">Вы же как создатель можете любоваться количеством игровых сеансов. Прямо как количество просмотров на YouTube. Чем больше, тем лучше. 
<h2>5. Кастомизация игр</h2>После того, как вы закончили писать игру, вы можете модифицировать ее. Хотите 2048 на поле 5x5? Пожалуйста. Вы же программист — вам и клавиатуру в руки. Меняйте игру как захотите.

Вы можете добавить вообще что-то новое. Например, в игре Змейка змея может замедляться, если съест яблоко, пока оно еще свежее (в течение первых 5 секунд после его появления). Яблоко при этом может менять цвет с красного на зеленый, или становиться грушей. Или вдруг ваша змея любит кроликов больше, чем яблоки… 

В "Сапере" можно добавить вторую жизнь игроку, или, например, атомную бомбу, которая будет «засвечивать» ячейки в радиусе нескольких клеток. 

Но помните: если вы добавите в игру работу с файлами или с графикой не через игровой движок, она может не опубликоваться в каталоге приложений. Не все можно запустить в браузере, знаете ли.
<h2>6. Полезная документация</h2>Чтобы вы могли познакомиться с работой игрового движка JavaRush (инициализация игры, создание игрового поля и работа с графикой), обработкой событий (работа с мышкой, клавиатурой и таймером), а также освежить или узнать базовую теорию по Java, которая пригодится в написании задач-игр (первый-второй квест JavaRush) мы подготовили несколько подробных документов: 
<ul>
<li><a href="https://javarush.com/groups/posts/2055-razdel-igrih-na-javarush-chastjh-2-opisanie-igrovogo-dvizhka" target="_blank">Раздел "Игры" на JavaRush: Описание игрового движка</a></li>
<li><a href="https://javarush.com/groups/posts/2056-razdel-igrih-na-javarush-chastjh-3-obrabotka-sobihtiy" target="_blank">Раздел "Игры" на JavaRush: Обработка событий</a></li>
<li><a href="https://javarush.com/groups/posts/2057-razdel-igrih-na-javarush-chastjh-4-poleznaja-teorija" target="_blank">Раздел "Игры" на JavaRush: Полезная теория</a></li>
</ul><h2>7. Распространённые проблемы</h2><strong>У меня Linux и я использую OpenJDK. При запуске игры компилятор выдает ошибку:</strong>

<pre class="lang-java"><code>
Error:(6, 8) java: cannot access javafx.application.Application
  class file for javafx.application.Application not found
</code></pre>
<strong>Что делать?</strong>

Наш игровой движок использует JavaFX, а в OpenJDK она не установлена по умолчанию. Это нужно исправить: 
<ol>
<li><p>В командной строке введите команду: <code>sudo apt-get install openjfx</code></p></li>
<li><p>После этого зайдите в настройки проекта (alt+ctrl+shift+s) -&gt; SDK’s -&gt; Classpath и нажать справа на плюс. Выберите файл jfxrt.jar. Он находится в установленой JDK по пути: &lt;JDK_PATH&gt;/jre/lib/ext/jfxrt.jar</p></li>
<li><p>Нажмите ОК.</p></li>
</ol><strong>У меня Java 11. Не могу запустить игру. Что делать? </strong>

В Java 11 нет JavaFX. Поэтому, при запуске игры, компилятор не сможет скомпилировать игру, и будет ошибка. Чтобы устранить проблему, нужно добавить JavaFX к проекту:
<ol>
<li><p>Загрузите JavaFX Windows SDK по ссылке <a href="https://gluonhq.com/products/javafx/" rel="nofollow" target="_blank">https://gluonhq.com/products/javafx/</a>.</p></li>
<li><p>Распакуйте загруженный архив в любую папку (желательно в папку lib проекта Games).</p></li>
<li><p>Откройте IDEA.</p></li>
<li><p>В IDEA зайдите в меню File -&gt; Project Structure (Файл -&gt; Структура проекта).</p></li>
<li><p>Выберите вкладку Libraries (Библиотеки) и нажмите +  -&gt;  Java.</p>
<img data-id="5d1fca89-a3f2-47bb-991e-5d8d2b419e9b" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 7" src="https://cdn.javarush.com/images/article/5d1fca89-a3f2-47bb-991e-5d8d2b419e9b/1024.jpeg"></li>
<li><p>Укажите путь к распакованной папке <strong>javafx-sdk</strong> и выберите папку <strong>lib</strong></p>
<img data-id="df8f0297-1873-4e05-a160-35d7e672fdb5" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 8" src="https://cdn.javarush.com/images/article/df8f0297-1873-4e05-a160-35d7e672fdb5/1024.jpeg"></li>
<li><p>Далее нажмите OK и в новом окне добавьте JavaFX к модулю Games.</p>
<img data-id="b9f75f54-e46f-4a39-a593-12434b2fafb8" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 9" src="https://cdn.javarush.com/images/article/b9f75f54-e46f-4a39-a593-12434b2fafb8/1024.jpeg"></li>
<li><p>Теперь должна появится новая библиотека, жмите Применить -&gt; ОК.</p>
<img data-id="1b2831aa-43de-4bfa-9c6a-7e24ecc7cc44" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 10" src="https://cdn.javarush.com/images/article/1b2831aa-43de-4bfa-9c6a-7e24ecc7cc44/1024.jpeg"></li>
<li><p>Для корректного запуска откройте меню Run-&gt; Edit Configuration и пропишите в поле VM options комманду:</p>
<img width="1024" src="https://cdn.javarush.com/images/article/792b6c0e-0e7b-4c09-98be-5429ac9311d7/1024.jpeg" alt="Новый раздел JavaRush — «Игры» - 11">
<pre class="lang-java"><code>
--module-path ./lib/javafx-sdk-16/lib --add-modules=javafx.controls,javafx.fxml,javafx.base
</code></pre>
<img data-max-width="1024" data-id="4c000454-2835-498f-b035-a1b14a03beab" src="https://cdn.javarush.com/images/article/4c000454-2835-498f-b035-a1b14a03beab/1024.jpeg" alt="Новый раздел JavaRush — «Игры» - 11">
</li>
<li><p>Далее в этой же вкладке нужно добавить Application. Для этого нажмите + -&gt; Application</p>
<img data-id="1df6c088-33a5-4da3-b77f-a9aca6ed9479" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 12" src="https://cdn.javarush.com/images/article/1df6c088-33a5-4da3-b77f-a9aca6ed9479/1024.jpeg"></li>
<li><ol>
<li>Выберите модуль Games</li>
<li>Пропишите путь к главному классу(в данном случае — <code>SnakeGame</code>)</li>
<li>Добавьте поле VM options</li>
<img data-id="7fe61ce9-804c-4542-b601-a5126d73ca17" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 13" src="https://cdn.javarush.com/images/article/7fe61ce9-804c-4542-b601-a5126d73ca17/800.jpeg">
<li>Пропишите VM options так же, как в пункте 9.</li></ol><p>Нажимайте Применить -&gt; ОК</p>
<img data-id="57961503-659e-4d3f-a5b5-3857b395fafe" data-max-width="850" alt="Новый раздел JavaRush — «Игры» - 14" src="https://cdn.javarush.com/images/article/57961503-659e-4d3f-a5b5-3857b395fafe/1024.jpeg"></li>
<li><p>Запускайте игру.</p></li>
</ol>