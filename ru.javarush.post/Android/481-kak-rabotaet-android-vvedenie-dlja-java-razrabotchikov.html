Как работает Android. Введение для Java-разработчиков
<p>----------------------------------------</p>
Среди программистов на Java то и дело слышны разговоры о разработке под Android. Именно Android держит Java на первом плане в последние несколько лет. Насколько же важно понимать или знать Android для разработчиков на Java? Ну, зависит от того, нравится ли вам разработка ...
<p>----------------------------------------</p>
Среди программистов на Java то и дело слышны разговоры о разработке под Android. Именно Android держит Java на первом плане в последние несколько лет. Насколько же важно понимать или знать Android для разработчиков на Java? Ну, зависит от того, нравится ли вам разработка приложений и хотите ли вы, чтобы вашими приложениями пользовалось множество людей. Если да, то Android даст вам эту возможность. Количество телефонов под управлением операционной системы Android исчисляется миллионами и продолжает расти быстрее, чем число iPhone с iOS. Это значит, что для Java-разработчика очень даже имеет смысл научиться программировать под Android, чему эта статья как раз и посвящена. Кроме того, это одна из хороших причин вообще научиться программировать на Java. Из этого обзора вы узнаете основы работы Android, без лишних подробностей, но в достаточном объеме.

<img data-id="d5858986-3018-4530-8e95-4e1008fdbb05" data-max-width="850" alt="Как работает Android. Введение для Java-разработчиков - 1" src="https://cdn.javarush.com/images/article/d5858986-3018-4530-8e95-4e1008fdbb05/1024.jpeg"><em><strong>Одно очевидное преимущество</strong></em> Java-разработчиков над остальными – то, что API Android очень похоже на API языка Java, и Android поддерживает если не все доступные в J2SE SDK классы, то, по крайней мере, наиболее важные. <em><strong>Еще одно преимущество: </strong></em>вы можете использовать для разработки под Android те же инструменты, что и для Java. Например, IDE Eclipse, ведь Google предоставляет для Eclipse плагин для разработки приложений Android. В начале работы с Android, имеет смысл заглянуть в такие руководства, как <a href='http://www.amazon.com/Head-First-Android-Development-Griffiths/dp/1449362184?tag=javamysqlanta-20' target='_blank'>Head First Android Development</a> и <a href='http://www.amazon.com/Android-Action-Frank-Ableson/dp/1617290505/?tag=javamysqlanta-20' target='_blank'>Android in Action</a> (3-е изд.) – две лучшие книги по Android для Java-разработчиков.
<div class='row justify-content-center jr-image-wrap'><div class='col-12 col-sm-10 col-md-8'><img data-id="7df54d00-3ce9-49d0-a1e0-06bbab3651dd" data-max-width="430" alt="Как работает Android. Введение для Java-разработчиков - 2" src="https://cdn.javarush.com/images/article/7df54d00-3ce9-49d0-a1e0-06bbab3651dd/1024.jpeg"></div></div> <div class='row justify-content-center jr-image-wrap'><div class='col-12 col-sm-10 col-md-8'><img data-id="c8024941-42b0-4f73-add3-dfb59c038076" data-max-width="430" alt="Как работает Android. Введение для Java-разработчиков - 3" src="https://cdn.javarush.com/images/article/c8024941-42b0-4f73-add3-dfb59c038076/1024.jpeg"></div></div>Напротив, если вы захотите заняться разработкой под iOS, вас ждёт непростой процесс изучения языка Objective-C и SDK iOS. Мне кажется, переход на Objective-C и iOS имеет больше смысла для C++-разработчика, чем для «джависта». Так что классическая война между Java и C++ продолжается благодаря разработке приложений для смартфонов. В любом случае давайте разберемся в особенностях внутреннего функционирования Android.
<h2>Как работает Android?</h2>Как я уже упоминал, в операционной системе Android для разработки приложений используется Java. Вы можете написать код приложения для Android с помощью предоставляемого <em><strong>Google API Java</strong></em>, который затем будет скомпилирован в файлы классов. На этом схожесть заканчивается. Android не использует виртуальную машину Java (JVM) для выполнения файлов классов, вместо этого, в нём используется виртуальная машина <em><strong>Dalvik</strong></em>, не являющаяся истинной JVM и не работающая с Java-байткодом. Для выполнения на виртуальных машинах Dalvik, файлы классов компилируются в формат DEX (Dalvik EXecutable – исполняемые файлы Dalvik). После преобразования в формат DEX, файлы классов вместе с другими ресурсами объединяются в пакеты Android (APK) для распространения и инсталляции на различных устройствах.

Главное, что следует знать: в основе базовой библиотеки классов виртуальной машины Dalvik лежит подмножество проекта Apache Harmony, вследствие чего она не поддерживает всё API J2SE. Если вы используете для написания кода приложений под Android IDE Eclipse, можете особо не волноваться, поскольку там есть автодополнение кода. Теперь давайте разберемся, как приложения Android выполняются на устройствах.
<h2>Как приложения Android выполняются на устройствах?</h2>Если вам знакома операционная система Linux и понятие процесса, вам будет несложно понять, как выполняются Android-приложения. По умолчанию, операционная система Android присваивает каждому приложению уникальный идентификатор пользователя. После запуска приложений Android, каждое из них выполняется в своём процессе, в своей собственной виртуальной машине.
<div class='row justify-content-center jr-image-wrap'><div class='col-12 col-sm-10 col-md-8'><img data-id="70ce1df9-9d08-47c1-a2b6-458810a23c37" data-max-width="400" alt="Как работает Android. Введение для Java-разработчиков - 4" src="https://cdn.javarush.com/images/article/70ce1df9-9d08-47c1-a2b6-458810a23c37/1024.jpeg"></div></div>По мере необходимости, операционная система Android управляет запуском и остановом процессов приложений. Это значит, что все приложения Android работают изолированно друг от друга, но, разумеется, могут запрашивать доступ к аппаратным и другим системным ресурсам.

Если вы знакомы с разработкой мобильных приложений, допустим, в J2ME, то, наверняка, сталкивались с понятием прав доступа (permissions). При установке или запуске приложения Android, оно запрашивает права, необходимые для доступа к интернету, телефонной книге или другим системным ресурсам. Пользователь явным образом предоставляет эти права, иначе в действии будет отказано.

Все эти права доступа описываются в файле манифеста приложения Android. В отличие от Java, манифест Android представляет собой <a href='http://javarevisited.blogspot.com/2011/12/parse-read-xml-file-java-sax-parser.html' target='_blank'>XML-файл</a>, в котором перечислены все компоненты приложения и настройки для них.

Четыре основных компонента приложения Android: активности, сервисы, поставщики контента и широковещательные приемники (broadcast receivers). Из них чаще всего встречаются активности, соответствующие отдельной экранной форме приложения Android. Например, в игре для операционной системы Android может быть несколько экранов: для входа в систему, рекордов, инструкций и экран самой игры. Каждый из этих элементов соответствует различным активностям в вашем приложении.
<div class='row justify-content-center jr-image-wrap'><div class='col-12 col-sm-10 col-md-8'><img data-id="564da7be-912a-49b1-87e3-275dab24dba9" data-max-width="710" alt="Как работает Android. Введение для Java-разработчиков - 5" src="https://cdn.javarush.com/images/article/564da7be-912a-49b1-87e3-275dab24dba9/1024.jpeg"></div></div>Как и в Java, в ОС Android хорошо то, что она выполняет некоторые задачи вместо разработчика, например, создает объекты активностей. За организацию активностей отвечает класс <code>System</code>. Если нужно запустить активность, достаточно вызвать метод <code>startActivity()</code> с объектом <code>Intent</code> в качестве параметра. В ответ на этот вызов, класс <code>System</code> или создаст новый объект активности или повторно использует старый.

Аналогично сборке мусора в языке Java, отвечающей за чрезвычайно важную задачу повторного использования памяти, Android управляет запуском, остановом, созданием и уничтожением приложений. Может показаться, что он слишком сильно их ограничивает, но это не так. Android предоставляет события жизненного цикла, которые можно переопределять для вмешательства в этот процесс.

Вот и всё о том, <em>как работает Android</em>. Java-разработчику, безусловно, имеет смысл изучить Android, поскольку эта система использует Java, так что вы сможете воспользоваться своими знаниями методик программирования на Java, паттернами проектирования и рекомендуемыми практиками для создания хороших приложений Android. Конечно, вам придется приспособиться к некоторым специфическим для Android вещам, но это придёт само собой со временем. Итак, чего же вы ждёте? Вперёд, изучайте Android и пишите ваше первое Android-приложение HelloWorld! Наконец, можете взглянуть на некоторые хорошие книги, посвященные основам разработки на Android, например, <a href='http://www.amazon.com/Head-First-Android-Development-Griffiths/dp/1449362184?tag=javamysqlanta-20' target='_blank'>Head First Android Development</a> – лучшую из посвященных Android книг.

<em><strong>Источник: </strong><a href='http://javarevisited.blogspot.com/2013/06/introduction-of-how-android-works-Java-programmers.html' target='_blank'>Introduction of How Android Works for Java Programmers</a></em><table>
<tr><th>Что еще почитать?</th>
</tr>
<tr>
<td>
<p><a href='https://javarush.com/groups/posts/312-6-oshibok-kotorihe-pomeshajut-vashemu-mobiljhnomu-prilozheniju-vzletetjh-' target='_blank'>6 ошибок, которые помешают вашему мобильному приложению «взлететь»</a></p>
<p><a href='https://javarush.com/groups/posts/29-skoljhko-vremeni-trebuetsja-chtobih-' target='_blank'>Сколько времени требуется, чтобы разработать приложение для обмена сообщениями под Android?</a></p>
</td>
</tr>
</table>