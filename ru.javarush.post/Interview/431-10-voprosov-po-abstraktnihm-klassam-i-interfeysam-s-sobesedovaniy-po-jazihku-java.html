10 вопросов по абстрактным классам и интерфейсам с собеседований по Java
<p>----------------------------------------</p>
Абстрактные классы и интерфейсы очень популярны во всех объектно-ориентированных языках программирования.  И практически на каждом собеседовании по Java попадается хотя бы один вопрос на эту тему ...
<p>----------------------------------------</p>
Абстрактные классы и интерфейсы очень популярны во всех объектно-ориентированных языках программирования.  И практически на каждом собеседовании по Java попадается хотя бы один вопрос на эту тему. Интерфейсы упоминаются чаще, из-за их популярности среди проектировщиков ПО, но время от времени встречаются и вопросы по абстрактным классам. Последние чаще задают претендентам на должность джуниор-разработчиков, скажем, с не более чем двухлетним опытом разработки на Java, в то время как вопросы по интерфейсам чаще всего встречаются при собеседовании тех, чей опыт уже перевалил за четыре года. В основном, их задают вместе с другими вопросами по паттернам проектирования Java, например, по паттернам Decorator (Декоратор) или Factory (Фабрика).

<img data-id="f6a08c53-3048-455b-acaf-45bbd76b5e16" data-max-width="850" alt="10 вопросов по абстрактным классам и интерфейсам с собеседований по Java - 1" src="https://cdn.javarush.com/images/article/f6a08c53-3048-455b-acaf-45bbd76b5e16/1024.jpeg">В этой статье мы рассмотрим частые вопросы по абстрактным классам и интерфейсам, которые задавались на собеседованиях по Java разного уровня. Большинство из них не должно представлять сложности даже для начинающего Java-программиста. В основном это вопросы на чистое знание, но некоторые из них, например, <strong>о различиях между абстрактными классами и интерфейсами в Java</strong> или о том, <strong>когда лучше предпочесть абстрактный класс интерфейсу</strong>, могут оказаться достаточно непростыми.

Предлагаем вам десяток интересных вопросов по теме.
<table class="table table--striped">
<tbody><tr>
<td>
Если вам когда-либо задавали на собеседовании или приходилось задавать какой-либо стоящий внимания вопрос об абстрактных классах и интерфейсах, но его в данном списке нет, делитесь им в комментариях.
</td>
</tr>
</tbody></table><h2>1. Могут ли в языке Java у абстрактного класса быть конструкторы?</h2>Да, в абстрактном классе в Java можно объявить и определить конструкторы. Поскольку создавать экземпляры абстрактных классов нельзя, вызвать такой конструктор можно только при формировании цепочки конструкторов, то есть при создании экземпляра конкретного класса-реализации.

Но представьте, что интервьюер задаст затем вопрос: а какой смысл в конструкторе, если создать экземпляр абстрактного класса все равно нельзя? Дело в том, что его всё равно можно использовать для задания начальных значений общих переменных, объявленных в абстрактном классе и используемых различными реализациями.

Даже если вы не объявили никакого конструктора, компилятор добавит в абстрактный класс конструктор по умолчанию без аргументов. Без него ваш подкласс не скомпилируется, поскольку первый оператор в любом конструкторе представляет собой неявный вызов <code>super()</code> – конструктора суперкласса по умолчанию в языке Java.
<h2>2. Могут ли абстрактные классы в языке Java реализовывать интерфейсы? Должны ли они реализовывать все методы?</h2>Да, абстрактные классы могут реализовывать интерфейсы с помощью ключевого слова <code>implements</code>. Поскольку они абстрактные, то не обязаны реализовывать все методы. Наличие абстрактного базового класса и интерфейса для объявления типа является рекомендуемой практикой.

Пример — интерфейс <code>java.util.List</code> и соответствующий абстрактный класс <code>java.util.AbstractList</code>. Поскольку <code>AbstractList</code> реализует все общие методы, то конкретные реализации (например, <code>LinkedList</code> и <code>ArrayList</code>) не должны реализовать все методы, как в случае, если бы они реализовали интерфейс <code>List</code> напрямую. 

Это решение сочетает преимущество использования интерфейса для объявления типа и гибкость абстрактного класса для реализации всего общего поведения в одном месте.

В книге Джошуа Блоха <strong>«Java. Эффективное программирование»</strong> есть отличная глава на тему использования интерфейсов и абстрактных классов в Java, для лучшего понимания имеет смысл её изучить.
<h2>3. Может ли абстрактный класс быть final?</h2>Нет, не может. Ключевое слово <code>final</code> означает, что класс на вершине иерархии, и у него не может быть наследников. А абстрактный класс без наследников — это сферический конь в вакууме, так как нельзя создать экземпляр <code>abstract class</code>.

Таким образом, если класс одновременно <code>abstract</code> и <code>final</code>, то у него нет наследников и нельзя создать его экземпляр.

Компилятор Java выдаст ошибку, если сделать класс одновременно <code>abstract</code> и <code>final</code>.
<h2>4. Могут ли у абстрактного класса в языке Java быть статические методы?</h2>Да, абстрактные классы могут объявлять и определять статические методы. Только необходимо следовать общим принципам создания статических методов в Java, поскольку они нежелательны при объектно-ориентированном проектировании, ведь переопределение статических методов в Java невозможно. Статические методы в абстрактном классе – явление очень редкое, но, если на это есть уважительные причины, вам ничего не помешает их использовать.
<h2>5. Можно ли создать экземпляр абстрактного класса?</h2>Нет, этого делать нельзя. Суть абстрактного класса заключается в том, что он не завершён, и его нужно завершить в классах-наследниках. То есть этот класс не готов к использованию. В нём, например, может отсутствовать реализация каких-то методов. Раз класс не готов к использованию, то нельзя создавать его объект. А вот экземпляры наследников абстрактного класса создавать можно.

Компилятор Java выдаст ошибку, если программа попытается создать экземпляр абстрактного класса.
<h2>6. Обязательно ли в абстрактном классе должны быть абстрактные методы?</h2>Нет, в абстрактном классе может не быть ни одного абстрактного метода. Сделать класс абстрактным в языке Java можно просто путем использования ключевого слова <code>abstract</code> при объявлении. Компилятор обеспечит выполнение всех структурных ограничений, например, запрета на создание экземпляров этого класса. Кстати, вопрос о том, должны ли быть абстрактные методы в абстрактном классе или интерфейсе – спорный. Мне представляется, что в абстрактном классе должны быть абстрактные методы, поскольку это первое, о чем думает программист, видя абстрактный класс. Это хорошо согласуется с принципом минимизации неожиданностей.

<div class="email-subscription"><iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no"></iframe></div><h2>7. Каковы различия между абстрактным классом и интерфейсом в Java?</h2>Это важнейший и один из самых классических вопросов на собеседованиях по языку Java. Я не могу сосчитать, сколько раз встречал этот вопрос на собеседованиях по Java для всех уровней. 

Интересным этот вопрос делает, в частности, возможность для соискателя представить пример. Отвечать на вопросы по основам объектно-ориентированного программирования, например, рассказать об абстракции, инкапсуляции, полиморфизме и наследовании, легко, но, когда дело доходит до подобных тонких нюансов, претенденты на должность очень часто теряются и говорят, что первое приходит в голову.

<strong>Ответ на этот вопрос тянет на отдельную статью (особенно после изменений в Java 8), тем не менее, если кратко:</strong>
<ul>
<li>Интерфейс описывает только поведение (методы) объекта, а вот состояний (полей) у него нет (кроме <code>public static final</code>), в то время как у абстрактного класса они могут быть.</li><br>
<li>Абстрактный класс наследуется (extends), а интерфейс — реализуется (implements). Мы можем наследовать только один класс, а реализовать интерфейсов — сколько угодно. Интерфейс может наследовать (extends) другой интерфейс/интерфейсы.</li><br>
<li>Абстрактные классы используются, когда есть отношение "is-a", то есть класс-наследник расширяет базовый абстрактный класс, а интерфейсы могут быть реализованы разными классами, вовсе не связанными друг с другом. </li>
</ul><h2>8. Когда имеет смысл предпочесть абстрактный класс интерфейсу и наоборот?</h2>Это продолжение предыдущих вопросов по абстрактным классам и интерфейсам. Если вы знаете, каковы их синтаксические различия, то ответ на этот вопрос не доставит вам проблем, так как именно они служат определяющим фактором принятия решения. Поскольку в опубликованный интерфейс практически невозможно добавить новый метод, в случае потенциальной необходимости доработки лучше использовать абстрактный класс. Развивать абстрактные классы в Java проще, чем интерфейсы. Аналогично, если в интерфейсе слишком много методов и реализация их всех становится настоящей головной болью, лучше создать абстрактный класс для реализации по умолчанию. Этому паттерну следуют и в пакете коллекций Java, абстрактный класс <code>AbstractList</code> обеспечивает реализацию по умолчанию для интерфейса <code>List</code>.

<strong>Используйте абстрактные классы, если:</strong>
<ul>
<li> Вы хотите поделиться кодом между несколькими тесно связанными классами.</li><br>
<li>Вы ожидаете, что классы, которые расширяют ваш абстрактный класс, имеют много общих методов или полей, или требуют других модификаторов доступа, кроме <code>public</code> (например, <code>protected</code> и <code>private</code>).</li><br>
<li>Вы хотите объявить нестатические или <code>не-final</code> поля. Это позволяет вам определять методы, которые могут получить доступ и изменить состояние объекта, которому они принадлежат.</li>
</ul><strong>Используйте интерфейсы, если:</strong>
<ul>
<li>Вы ожидаете, что несвязанные классы будут реализовывать ваш интерфейс. Например, интерфейсы <code>Comparable</code> и <code>Cloneable</code> реализуются многими несвязанными классами.</li><br>
<li>Вы хотите определить поведение конкретного типа данных, но вам не важно, кто его реализует.</li><br>
<li>Вы хотите использовать множественное наследование типа.</li>
</ul><h2>9. Что такое абстрактный метод в языке Java?</h2><strong>Абстрактный метод</strong> – это метод без тела. Вы просто объявляете метод, не определяя его, с использованием ключевого слова <code>abstract</code> в объявлении метода. Все объявленные внутри интерфейса в языке Java методы – по умолчанию абстрактные. Вот пример абстрактного метода в языке Java:

<pre class="lang-java line-numbers"><code>
public void abstract printVersion();
</code></pre>
Теперь, для реализации этого метода необходимо расширить абстрактный класс и этот метод переопределить.
<h2>10. Может ли абстрактный класс в Java содержать метод <code>main</code>?</h2>Да, абстрактный класс в Java может содержать метод <code>main</code>, ведь это просто еще один статический метод, и абстрактный класс можно выполнять при помощи метода <code>main</code>, если не создавать его экземпляров.

Вот и всё, что я хотел рассказать. И помните: абстрактные классы и интерфейсы – ключевые проектные решения в процессе объектно-ориентированного анализа и проектирования, и применять их следует с должной осмотрительностью, конечно, если вы хотите создать гибкую систему.
<table>
<tbody><tr><th>Что еще почитать?</th>
</tr>
<tr>
<td>
<p><a href="https://javarush.com/groups/posts/1973-abstraktnihe-klassih-v-java-na-konkretnihkh-primerakh" target="_blank">Абстрактные классы в Java на конкретных примерах</a></p>
<p><a href="https://javarush.com/groups/posts/399-skaz-o-dvukh-iteratorakh-strategii-konkurentnoy-modifikacii-v-java-" target="_blank">Сказ о двух итераторах: стратегии конкурентной модификации в Java</a></p>
<p><a href="https://javarush.com/groups/posts/394-mashinnihy-kod-i-bayt-kod-na-kakom-jazihke-govorit-vasha-programma" target="_blank">Машинный код и байт код: на каком языке говорит ваша программа?</a></p>
</td>
</tr>
</tbody></table>