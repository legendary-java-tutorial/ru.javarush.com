Кое-что о массивах в Java
<p>----------------------------------------</p>
Привет! Раньше во время обучения мы работали с единичными объектами (или примитивными типами). Но что если нам нужно работать не с одним объектом, а с целой группой? Например, мы хотим создать список дней рождения всех сотрудников нашей компании ...
<p>----------------------------------------</p>
Привет! Раньше во время обучения мы работали с единичными объектами (или примитивными типами). Но что если нам нужно работать не с одним объектом, а с целой группой?

Например, мы хотим создать список дней рождения всех сотрудников нашей компании. Он должен содержать, скажем, 30 строк в формате: “Андрей Петров, 25 января”. 

Здесь нам поможет специальная структура данных — массив.

Если сравнить массив с предметами из реальной жизни, то его устройство очень похоже на банковское хранилище с ячейками:

<img data-id="0f128598-3735-42e0-9663-10b0757a6e29" data-max-width="850" alt="Кое-что о массивах в Java - 1" src="https://cdn.javarush.com/images/article/0f128598-3735-42e0-9663-10b0757a6e29/1024.jpeg">Массив тоже состоит из ячеек. В каждую ячейку ты можешь что-то положить. При этом для доступа к содержимому тебе нужно знать номер ячейки.

Создается массив вот так:

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {

       String [] birthdays = new String[10]; //массив строк Java
      
   }
}
</code></pre>
Здесь мы создали массив на 10 ячеек.

<span class="text-bold">Ты сразу можешь обратить внимание на некоторые особенности массива:</span>
<ol>
<li>Он хранит данные строго определенного типа. Если мы изначально создали массив строк <code>String</code>, мы не сможем хранить в нем что-то другое. Тип данных указывается при создании массива. В этом его отличие от банковской ячейки, в которой клиент может хранить что захочет.</li>
<li>Массив может хранить в себе данные примитивных типов (например, <code>int</code>), строки (<code>String</code>) или объекты одного класса. Точнее даже не сами объекты, а ссылки на эти объекты.</li>
<li>Размер массива обязательно указывается при создании. Указать его позже или изменить размер после создания не получится.</li>
</ol>На то, что создается именно массив, Java указывает квадратными скобками <code>[]</code> в обеих частях выражения. Их можно указать до названия переменной-ссылки или после — будет работать и так, и так:

<pre class="lang-java line-numbers"><code>
//Java-массивы строк, два варианта синтаксиса
String [] birthdays = new String[10];
String birthdays [] = new String[10];
</code></pre>
Если ты хочешь что-то записать в массив, тебе нужно указать номер ячейки, в которой будет записано значение. Номера ячеек массива начинается с 0.

Начинать отсчет с нуля — распространенная практика в программировании. Чем быстрее ты к этому привыкнешь, тем лучше :)
<img data-id="9566c967-96e2-4715-b78e-1e60f21de4cd" data-max-width="850" alt="Кое-что о массивах в Java - 2" src="https://cdn.javarush.com/images/article/9566c967-96e2-4715-b78e-1e60f21de4cd/1024.jpeg">То есть если ты хочешь положить какое-то значение в первую ячейку <a href="https://javarush.com/groups/posts/1398-java-massivih" target="_blank">массива</a>, это делается так:

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {

       String birthdays [] = new String[10];
       birthdays[0] = "Лена Елисеева, 12 марта";
   }
}
</code></pre>
Теперь в первой ячейке нашего массива, который содержит дни рождения коллег, хранится строка с днем рождения Лены. По аналогии можно добавить и другие значения:

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {

       String birthdays [] = new String[10];
       birthdays[0] = "Лена Елисеева, 12 марта";
       birthdays[1] = "Коля Романов, 18 мая";
       birthdays[7] = "Олеся Остапенко, 3 января";
   }
}
</code></pre>
Обрати внимание: день рождения Олеси мы добавили в восьмую ячейку (не забыл еще, почему ячейка №7 — восьмая?). Хотя все остальные ячейки у нас не заполнены. Не обязательно записывать значения в массив по порядку — такого ограничения нет. С другой стороны, если будешь записывать по порядку, гораздо проще будет следить за числом свободных и занятых ячеек, и в массиве не будет оставаться “дыр”.

Если ты хочешь получить содержимое ячейки массива, как и в случае с банковской, тебе нужно знать ее номер.

Делается это так:

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {

       String birthdays [] = new String[10];
       birthdays[0] = "Лена Елисеева, 12 марта";
       birthdays[1] = "Коля Романов, 18 мая";
       birthdays[7] = "Олеся Остапенко, 3 января";

       String olesyaBirthday = birthdays[7];
       System.out.println(olesyaBirthday);
   }
}
</code></pre>
Вывод в консоль:

<pre><code>
Олеся Остапенко, 3 января
</code></pre>
Мы создали переменную <code>String</code> и сказали компилятору: “Найди ячейку с индексом 7 в массиве <code>birthdays</code> и присвой значение, которое там хранится, в переменную <code>String</code> <code>olesyaBirthday</code>”. Именно это он и сделал.
<h3>Длина массива Java</h3>При работе с массивом ты можешь легко узнать его длину с помощью специального свойства — <code>length</code>.

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {

       String birthdays [] = new String[10];
       birthdays[0] = "Лена Елисеева, 12 марта";
       birthdays[1] = "Коля Романов, 18 мая";
       birthdays[7] = "Олеся Остапенко, 3 января";

       int birthdaysLength = birthdays.length;
       System.out.println(birthdaysLength);
   }
}
</code></pre>
Вывод в консоль:

<pre><code>
10
</code></pre>
<mark>Заметь:</mark> в свойстве <code>length</code> хранится размер массива, а не количество заполненных ячеек. Наш массив хранит только 3 значения, но при создании мы указали для него размер = 10. Именно это значение возвращает поле <code>length</code>.

Зачем это может пригодиться? Ну, например, если ты захочешь вывести в консоль список всех дней рождения (чтобы проверить, что никого не забыли), это можно сделать в одном простом цикле:

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {

       String birthdays [] = new String[10];
       birthdays[0] = "Лена Елисеева, 12 марта";
       birthdays[1] = "Коля Романов, 18 мая";
       birthdays[2] = "Вика Игнатова, 12 июля";
       birthdays[3] = "Денис Козлов, 7 сентября";
       birthdays[4] = "Максим Масленников, 9 ноября";
       birthdays[5] = "Роман Баранов, 14 августа";
       birthdays[6] = "Валерия Пяткина, 1 апреля";
       birthdays[7] = "Олеся Остапенко, 3 января";
       birthdays[8] = "Костя Гурко, 19 октября";
       birthdays[9] = "Сережа Наумов, 3 мая";

       for (int i = 0; i &lt; birthdays.length; i++) {
           System.out.println(birthdays[i]);
       }
   }
}
</code></pre>
В цикле мы создаем переменную <code>i</code>, которая изначально равна нулю. При каждом проходе мы берем ячейку с индексом i из нашего массива и выводим ее значение на консоль. Цикл сделает 10 итераций, и значения i будут увеличиваться от 0 до 9 — как раз по индексам ячеек нашего массива! Таким образом мы выведем в консоль все значения от <code>birthdays[0]</code> до <code>birthdays[9]</code>

На самом деле, есть способы создать массив по-другому. Например, массив чисел <code>int</code> можно создать так:

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {
       int numbers [] = {7, 12, 8, 4, 33, 79, 1, 16, 2};
   }
}
</code></pre>
Этот способ называется “быстрой инициализацией”. Он довольно удобен тем, что мы сразу создаем массив и заполняем его значениями. Не нужно и явно  указывать размер массива — поле <code>length</code> при быстрой инициализации заполнится автоматически.

<pre class="lang-java line-numbers"><code>
public class Main {

   public static void main(String[] args) {
       int numbers [] = {7, 12, 8, 4, 33, 79, 1, 16, 2};
       System.out.println(numbers.length);
   }
}
</code></pre>
Вывод в консоль:

<pre><code>
9
</code></pre><h3>Массив объектов Java</h3>Ты уже слышал, что массивы объектов и массивы примитивов по-разному хранятся в памяти. Возьмём, например, массив из трех объектов <code>Cat</code>:

<pre class="lang-java line-numbers"><code>
public class Cat {

   private String name;

   public Cat(String name) {
       this.name = name;
   }

   public static void main(String[] args) {

       Cat[] cats = new Cat[3];
       cats[0] = new Cat("Томас");
       cats[1] = new Cat("Бегемот");
       cats[2] = new Cat("Филипп Маркович");
   }
}
</code></pre>
Здесь нужно понимать несколько вещей:
<ol>
<li>В случае с примитивами массивы Java хранят множество конкретных  значений (например, чисел <code>int</code>). В случае с объектами массив хранит множество ссылок. Массив <code>cats</code> состоит из трех ячеек, в каждой из которых есть ссылка на объект <code>Cat</code>. Каждая из ссылок указывает на адрес в памяти, где этот объект хранится.</li>
<li>Элементы массива в памяти размещаются в едином блоке. Это сделано для более эффективного и быстрого доступа к ним. Таким образом, ссылка <code>cats</code> указывает на блок в памяти, где хранятся все объекты — элементы массива.  А <code>cats[0]</code> — на конкретный адрес внутри этого блока.</li></ol><img data-id="5c5a2892-8df3-4b01-9d03-101a676bbc7e" data-max-width="850" alt="Кое-что о массивах в Java - 3" src="https://cdn.javarush.com/images/article/5c5a2892-8df3-4b01-9d03-101a676bbc7e/1024.jpeg">Важно понимать, что массив не только может хранить в себе объекты — он и сам является объектом.
<h3>Массив массивов или двумерный массив</h3>Исходя из этого, перед нами встает вопрос — а можем ли мы создать, например, не массив строк или чисел, а массив массивов?

И ответ будет — да, можем! Массив может хранить внутри себя любые объекты, включая другие массивы.

Такой массив будет называться двумерным. Если изобразить его на картинке, он будет очень похож на обычную таблицу.

Например, мы хотим создать массив, который будет хранить 3 массива чисел <code>int</code> по 10 ячеек в каждом. Выглядеть это будет так:
<img data-id="58d73faf-b7a5-453b-b403-1cdb7270f7cb" data-max-width="850" alt="Кое-что о массивах в Java - 4" src="https://cdn.javarush.com/images/article/58d73faf-b7a5-453b-b403-1cdb7270f7cb/1024.jpeg">Каждая строка изображает массив чисел <code>int</code>. Первый массив содержит числа от 1 до 10, второй — от -1 до -10, третий — набор случайных чисел. Каждый из этих массивов хранится в ячейке нашего двумерного массива.

Инициализация двумерного массива в коде выглядит так:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {
   Cat[][] cats = new Cat[3][5];
}
</code></pre>
Наш двумерный массив cats хранит 3 массива по 5 ячеек в каждом. Если мы хотим положить наш объект в третью ячейку второго массива, это делается следующим образом:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {
   Cat[][] cats = new Cat[3][5];
   cats[1][2] = new Cat("Пушок");
}
</code></pre>
<code>[1]</code> указывает на второй массив, а <code>[2]</code> — на третью ячейку этого массива.

Поскольку двумерный массив состоит из нескольких массивов, чтобы его обойти и вывести в консоль все значения (или заполнить все ячейки), нам понадобится уже двойной, вложенный цикл:

<pre class="lang-java line-numbers"><code>
for (int i = 0; i &lt; cats.length; i++) {
   for (int j = 0; j &lt; cats[i].length; j++) {
       System.out.println(cats[i][j]);
   }
}
</code></pre>
Во внешнем цикле (переменная <code>i</code>) мы по очереди обходим все массивы, из которых состоит наш двумерный массив. Во внутреннем цикле (переменная <code>j</code>) мы перебираем все ячейки каждого массива.

В итоге первым будет выведен на консоль объект <code>cats[0][0]</code> (первый массив, первая ячейка), вторым — <code>cats[0][1]</code> (первый массив, вторая ячейка). Когда первый массив будет исчерпан — будут выводиться <code>cats[1][0]</code>, <code>cats[1][1]</code>, <code>cats[1][2]</code> и так далее.

Кстати, для двумерных массивов также доступна быстрая инициализация:

<pre class="lang-java line-numbers"><code>
int[][] numbers = {{1,2,3}, {4,5,6}, {7,8,9}};
</code></pre>
В обычном виде мы бы записали двумерный массив <code>numbers</code> как <code>int[3][3]</code>, а такой способ дает нам возможность сразу указать значения.

Для чего двумерный массив может понадобиться? Ну, например, с его помощью ты легко можешь воссоздать знаменитую игру “Морской бой”:
<img data-id="e9cefb0f-632b-4daf-8414-ffe908ce926e" data-max-width="829" alt="Кое-что о массивах в Java - 5" src="https://cdn.javarush.com/images/article/e9cefb0f-632b-4daf-8414-ffe908ce926e/1024.jpeg">Структура игрового поля в “Морском бое” такова, что ее можно легко описать: двумерный массив из 10 массивов, по 10 ячеек в каждом.

Ты создаешь два таких массива — для себя и своего противника:

<pre class="lang-java line-numbers"><code>
int [][] seaBattle = new int[10][10];
int [][] seaBattle2 = new int[10][10];
</code></pre>
Вы заполняете какими-то значениями (например, цифрами или знаками <code>*</code>) те ячейки, в которых располагаются твои корабли, а потом вы с противником по очереди называете номера ячеек:
<ul>
<li>seaBattle[6][5]!</li>
<li>Мимо! seaBattle2[6][6]!</li>
<li>Ранен!</li>
<li>seaBattle2[6][7]!</li>
<li>Ранен!</li>
<li>seaBattle2[6][8]!,</li>
<li>Убит!</li>
</ul><h2 id="Интересные-материалы-о-массивах">Дополнительные материалы о массивах</h2>Хотите знать больше о массивах? Обратите внимание на статьи ниже. Там много интересного и полезного по этой теме.
<ol>
<li><a href="https://javarush.com/groups/posts/massivy-java" target="_blank">Массивы в Java</a> — подробная статья о массивах, их создании, инициализации и использовании. С примерами.</li>
<li><a href="https://javarush.com/groups/posts/1933-klass-arrays-i-ego-ispoljhzovanie" target="_blank">Класс Arrays и его использование</a>  — в статье описаны некоторые методы класса <code>Array</code></li>
<li><a href="https://javarush.com/quests/lectures/questsyntax.level07.lecture01" target="_blank">Массивы</a> первая лекция JavaRush, посвящённая массивам.</li>
<li><a href="https://javarush.com/groups/posts/mnogomernye-massivy" target="_blank">Многомерные массивы</a> — подробная статья о многомерных массивах с примерами.</li>
<li><a href="https://javarush.com/groups/posts/781-vozvrajshayte-massiv-nulevoy-dlinih-a-ne-null" target="_blank">Возвращайте массив нулевой длины, а не null</a>  — автор “Эффективного программирования” Джошуа Блох рассказывает о том, как лучше возвращать пустые массивы.</li></ol>На этом наше первое знакомство с массивами окончено, но это лишь начало взаимодействия с ними. В следующих лекциях мы увидим интересные способы их применения, а также узнаем какие в Java есть встроенные функции для более удобной работы с этой структурой данных :)