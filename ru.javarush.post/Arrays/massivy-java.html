Массивы в Java
<p>----------------------------------------</p>
Представьте себе ячейки в камере хранения. Каждая из них имеет свой номер, и в каждой из них хранится какой-то объект “Багаж”. Или винная карта, в которой все виды вина пронумерованы и когда вы делаете заказ, вам достаточно назвать номер напитка. Или список студентов группы...
<p>----------------------------------------</p>
Представьте себе ячейки в камере хранения. Каждая имеет свой номер, и в каждой хранится какой-то объект “Багаж”. Или винная карта, в которой все виды вина пронумерованы и когда вы делаете заказ, вам достаточно назвать номер напитка. Или список студентов группы, в котором в первой ячейке будет записан студент “Андреев”, а в последней — “Яковлев”. Или список пассажиров самолёта, за каждым из которых закреплено место с определённым номером. В Java чтобы работать с подобными структурами, то есть множеством однородных данных, часто используют массивы в Java.  
<h2 id="Что-такое-массив">Что такое массив?</h2>Массив — это структура данных, в которой хранятся элементы одного типа. Его можно представить, как набор пронумерованных ячеек, в каждую из которых можно поместить какие-то данные (один элемент данных в одну ячейку). Доступ к конкретной ячейке осуществляется через её номер. Номер элемента в массиве также называют <span class="text-bold">индексом</span>. 

В случае с Java массив однороден, то есть во всех его ячейках будут храниться элементы одного типа. Так, массив целых чисел содержит только целые числа (например, типа <span class="code">int</span>), массив строк — только строки, массив из элементов созданного нами класса <span class="code">Dog</span> будет содержать только объекты <span class="code">Dog</span>. То есть в Java мы не можем поместить в первую ячейку массива целое число, во вторую <span class="code">String</span>, а в третью — “собаку”. 
<img data-max-width="800" data-id="2f2d1596-245b-4d5b-b33c-fba1006ca642" src="https://cdn.javarush.com/images/article/2f2d1596-245b-4d5b-b33c-fba1006ca642/800.jpeg" alt="Массивы в Java"><h2 id="Объявление-массива">Объявление массива</h2><h3>Как объявить массив?</h3>Как и любую переменную, массив в Java нужно объявить. Сделать это можно одним из двух способов. Они равноправны, но первый из них лучше соответствует стилю Java. Второй же — наследие языка Си (многие Си-программисты переходили на Java, и для их удобства был оставлен и альтернативный способ). В таблице приведены оба способа объявления массива в Java:   
<table>
<tbody><tr>
<th>№</th>
<th>Объявление массива, Java-синтаксис</th>
<th>Примеры</th>
<th>Комментарий</th>
</tr>
<tr>
<td>1.</td>
<td><pre class="lang-java"><code>
dataType[] arrayName;
</code></pre></td>
<td><pre class="lang-java"><code>
int[] myArray;

Object[] 
arrayOfObjects;  
</code></pre></td>
<td>Желательно объявлять массив именно таким способом, это Java-стиль</td>
</tr>
<tr>
<td>2.</td>
<td><pre class="lang-java"><code>
dataType arrayName[];
</code></pre></td>
<td>
<pre class="lang-java"><code>
int myArray[];

Object 
arrayOfObjects[];
</code></pre></td>
<td>Унаследованный от С/С++ способ объявления массивов, который работает и в Java</td>
</tr>
</tbody></table>В обоих случаях <span class="text-bold">dataType</span> — тип переменных в массиве. В примерах мы объявили два массива. В одном будут храниться целые числа типа <span class="code">int</span>, в другом — объекты типа <span class="code">Object</span>. Таким образом при объявлении массива у него появляется имя и тип (тип переменных массива). <span class="text-bold">arrayName</span> — это имя массива. 
<h2 id="Создание-массива">Создание массива</h2><h3>Как создать массив?</h3>Как и любой другой объект, создать массив Java, то есть зарезервировать под него место в памяти, можно с помощью оператора <span class="text-bold">new</span>. Делается это так: 

<pre class="lang-java line-numbers"><code>
new typeOfArray [length]; 
</code></pre>
Где <span class="text-bold">typeOfArray</span> — это тип массива, а <span class="text-bold">length</span> — его длина (то есть, количество ячеек), выраженная в целых числах (<span class="code">int</span>). Однако здесь мы только выделили память под массив, но не связали созданный массив ни с какой объявленной ранее переменной. Обычно массив сначала объявляют, а потом создают, например: 

<pre class="lang-java line-numbers"><code>
int[] myArray; // объявление массива
myArray = new int[10]; // создание, то есть, выделение памяти для массива на 10 элементов типа int
</code></pre>
Здесь мы объявили массив целых чисел по имени <span class="code">myArray</span>, а затем сообщили, что он состоит из 10 ячеек (в каждой из которых будет храниться какое-то целое число). Однако гораздо чаще массив создают сразу после объявления с помощью такого сокращённого синтаксиса: 

<pre class="lang-java line-numbers"><code>
int[] myArray = new int[10]; // объявление и выделение памяти “в одном флаконе”
</code></pre>
<mark>Обратите внимание:</mark> После создания массива с помощью <span class="code"><span class="text-bold">new</span></span>, в его ячейках записаны значения по умолчанию. Для численных типов (как в нашем примере) это будет 0, для <span class="code">boolean</span> — <span class="code">false</span>, для ссылочных типов — <span class="code">null</span>.  

Таким образом после операции

<pre class="lang-java line-numbers"><code>
int[] myArray = new int[10];
</code></pre>
мы получаем массив из десяти целых чисел, и, пока это не изменится в ходе программы, в каждой ячейке записан 0.  
<table class="table table--striped">
<tbody><tr>
<td><p>Больше информации о массивах есть в статье “<a href="https://javarush.com/groups/posts/1932-koe-chto-o-massivakh" target="_blank">Кое-что о массивах</a>”</p>
</td>
</tr>
</tbody></table><h2 id="Длина-массива">Длина массива в Java</h2>Как мы уже говорили выше, длина массива — это количество элементов, под которое рассчитан массив. <span class="text-bold">Длину массива нельзя изменить после его создания.</span>

<mark>Обратите внимание:</mark> в Java элементы массива нумеруются с нуля. То есть, если у нас есть массив на 10 элементов, то первый элемент массива будет иметь индекс 0, а последний — 9. 
<img data-max-width="800" data-id="acba6bd7-9fa3-49d8-8376-29eee1cf837b" src="/images/article/acba6bd7-9fa3-49d8-8376-29eee1cf837b/800.jpeg" class="img-fluid" alt="Массивы в Java - 3">Получить доступ к длине массива можно с помощью переменной <span class="code"><span class="text-bold">length</span></span>. Пример: 

<pre class="lang-java line-numbers"><code>
int[] myArray = new int[10]; // создали массив целых чисел на 10 элементов и присвоили ему имя myArray
System.out.println(myArray.length); // вывели в консоль длину массива, то есть количество элементов, которые мы можем поместить в массив
</code></pre>    
Вывод программы: 

<div class="terminal">10
</div><h2 id="Инициализация">Инициализация массива и доступ к его элементам</h2>Как создать массив в Java уже понятно. После этой процедуры мы получаем не пустой массив, а массив, заполненный значениями по умолчанию. Например, в случае <span class="code">int</span> это будут 0, а если у нас массив с данными ссылочного типа, то по умолчанию в каждой ячейке записаны <span class="code">null</span>. 

Получаем доступ к элементу массива (то есть записываем в него значение или выводим его на экран или проделываем с ним какую-либо операцию) мы по его индексу. 

Инициализация массива — это заполнение его конкретными данными (не по умолчанию).
 
<span class="text-bold">Пример:</span> давайте создадим массив из 4 сезонов и заполним его строковыми значениями — названиями этих сезонов.  

<pre class="lang-java line-numbers"><code>
String[] seasons  = new String[4]; /* объявили и создали массив. Java выделила память под массив из 4 строк, и сейчас в каждой ячейке записано значение null (поскольку строка — ссылочный тип)*/ 

seasons[0] = "Winter"; /* в первую ячейку, то есть, в ячейку с нулевым номером мы записали строку Winter. Тут мы получаем доступ к нулевому элементу массива и записываем туда конкретное значение  */ 
seasons[1] = "Spring"; // проделываем ту же процедуру с ячейкой номер 1 (второй)
seasons[2] = "Summer"; // ...номер 2
seasons[3] = "Autumn"; // и с последней, номер 3
</code></pre>
Теперь во всех четырёх ячейках нашего массива записаны названия сезонов. Инициализацию также можно провести по-другому, совместив с инициализацией и объявлением: 

<pre class="lang-java line-numbers"><code>
String[] seasons  = new String[] {"Winter", "Spring", "Summer", "Autumn"};
</code></pre> 
Более того, оператор <span class="code">new</span> можно опустить: 

<pre class="lang-java line-numbers"><code>
String[] seasons  = {"Winter", "Spring", "Summer", "Autumn"};
</code></pre>
<div class="email-subscription"><iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no"></iframe></div><h2 id="Как-вывести-массив-в-Java-на-экран">Как вывести массив в Java на экран?</h2>Вывести элементы массива на экран (то есть, в консоль) можно, например, с помощью цикла <span class="code">for</span>. Ещё один, более короткий способ вывода массива на экран будет рассмотрен в пункте “Полезные методы для работы с массивами", ниже. А пока рассмотрим пример с циклическим выводом массива: 

<pre class="lang-java line-numbers"><code>
String[] seasons  = new String[] {"Winter", "Spring", "Summer", "Autumn"}; 
for (int i = 0; i &lt; 4; i++) {
System.out.println(seasons[i]); 
}
</code></pre>
В результате программа выведет следующий результат: 

<div class="terminal">Winter
Spring
Summer
Autumn
</div><h2 id="Многомерные-массивы">Одномерные и многомерные Java массивы</h2>А что, если мы захотим создать не массив чисел, массив строк или массив каких-то объектов, а массив массивов? Java позволяет это сделать. 

Уже привычный нам массив <span class="text-bold">int[] myArray = new int[8]</span> — так называемый одномерный массив. А массив массивов называется двумерным. Он похож на таблицу, у которой есть номер строки и номер столбца. Или, если вы учили начала линейной алгебры, — на матрицу.   
<img data-max-width="250" alt="Массивы в Java - 4" src="https://cdn.javarush.com/images/article/dce1862e-f429-4f0a-b18a-3d2a1e16e3ec/original.jpeg">Для чего нужны такие массивы? В частности, для программирования тех же матриц и таблиц, а также объектов, напоминающих их по структуре. Например, игровое поле для шахмат можно задать массивом 8х8. 

Многомерный массив объявляется и создается следующим образом: 

<pre class="lang-java line-numbers"><code>
int[][] myTwoDimentionalArray = new int [8][8];
</code></pre> 
В этом массиве ровно 64 элемента: <code>myTwoDimentionalArray[0][0]</code>, <code>myTwoDimentionalArray[0][1]</code>, <code>myTwoDimentionalArray[1][0]</code>, <code>myTwoDimentionalArray[1][1]</code> и так далее вплоть до <code>myTwoDimentionalArray[7][7]</code>.  

Так что если мы с его помощью представим шахматную доску, то клетку А1 будет представлять <code>myTwoDimentionalArray[0][0]</code>, а E2 — <code>myTwoDimentionalArray[4][1]</code>.

Где два, там и три. В Java можно задать массив массивов… массив массивов массивов и так далее. Правда, трёхмерные и более массивы используются очень редко. Тем не менее, с помощью трёхмерного массива можно запрограммировать, например, кубик Рубика. 
<table>
<tbody><tr>
<th><p>Что еще почитать</p></th>
</tr>
<tr>
<td><p><a href="https://javarush.com/groups/posts/mnogomernye-massivy" target="_blank">Многомерные массивы</a></p></td>
</tr>
</tbody></table><h2 id="Полезные-методы-для-работы-с-массивами">Полезные методы для работы с массивами</h2>Для работы с массивами в Java есть класс <span class="code"><span class="text-bold">java.util.Arrays</span></span> (arrays на английском и означает “массивы”). В целом с массивами чаще всего проделывают следующие операции: заполнение элементами (инициализация), извлечение элемента (по номеру), сортировка и поиск. Поиск и сортировка массивов — тема отдельная. С одной стороны очень полезно потренироваться и написать несколько алгоритмов поиска и сортировки самостоятельно. С другой стороны, все лучшие способы уже написаны и включены в библиотеки Java, и ими можно законно пользоваться. 
<table class="table table--striped">
<tbody><tr>
<td><p><span class="text-bold">Статьи на поиск и сортировку:</span></p>
<p><a href="https://javarush.com/groups/posts/1997-algoritmih-sortirovki-v-teorii-i-na-praktike" target="_blank">Алгоритмы сортировки в теории и на практике</a></p>
<p><a href="https://javarush.com/groups/posts/634-realizacija-puzihrjhkovoy-sortirovki-na-java" target="_blank">Реализация пузырьковой сортировки на Java</a></p><p>
</p><p><span class="text-bold">Сортировка и поиск в курсе CS50:</span></p>
<p><a href="https://javarush.com/quests/lectures/questharvardcs50.level03.lecture01" target="_blank">Видеолекция 7 (Week 3)</a></p>
<p><a href="https://javarush.com/quests/lectures/questharvardcs50.level03.lecture09" target="_blank">Алгоритмы сортировки. Пузырьковая сортировка</a></p>
<p><a href="https://javarush.com/quests/lectures/questharvardcs50.level03.lecture10" target="_blank">Алгоритмы сортировки. Сортировка вставками</a></p>
<p><a href="https://javarush.com/quests/lectures/questharvardcs50.level03.lecture11" target="_blank">Алгоритмы сортировки. Сортировка слиянием</a></p>
</td></tr>

</tbody></table>Вот три полезных метода этого класса
<h3>Сортировка массива</h3>Метод <code>void sort(int[] myArray, int fromIndex, int toIndex)</code> сортирует массив целых чисел или его подмассив по возрастанию.
<h3>Поиск в массиве нужного элемента</h3><code>int binarySearch(int[] myArray, int fromIndex, int toIndex, int key)</code>. Этот метод ищет элемент <span class="code">key</span> в <span class="text-bold">уже отсортированном массиве</span> <span class="code">myArray</span> или подмассиве, начиная с <span class="code">fromIndex</span> и до <span class="code">toIndex</span>. Если элемент найден, метод возвращает его индекс, если нет - <code>(-fromIndex)-1</code>.
<h3>Преобразование массива к строке</h3>Метод <code>String toString(int[] myArray)</code> преобразовывает массив к строке. Дело в том, что в Java массивы не переопределяют <span class="code">toString()</span>. Это значит, что если вы попытаетесь вывести целый массив (а не по элементам, как в пункте “<a href="#Как-вывести-массив-в-Java-на-экран">Вывод массива на экран</a>”) на экран непосредственно (<code>System.out.println(myArray)</code>), вы получите имя класса и шестнадцатеричный хэш-код массива (это определено <span class="code">Object.toString()</span>).

Если вы — новичок, вам, возможно, непонятно пояснение к методу <code>toString</code>. На первом этапе это и не нужно, зато с помощью этого метода упрощается вывод массива. Java позволяет легко выводить массив на экран без использования цикла. Об этом — в примере ниже. 
<h3>Пример на sort, binarySearch и toString</h3>Давайте создадим массив целых чисел, выведем его на экран с помощью <span class="code">toString</span>, отсортируем с помощью метода <span class="code">sort</span> и найдём в нём какое-то число. 

<pre class="lang-java line-numbers"><code>
class Main {
    public static void main(String[] args) {
        int[] array = {1, 5, 4, 3, 7}; //объявляем и инициализируем массив
        System.out.println(array);//пытаемся вывести наш массив на экран без метода toString - получаем 16-ричное число
        System.out.println(Arrays.toString(array));//печатаем массив "правильно" 
        Arrays.sort(array, 0, 4); //сортируем весь массив от нулевого до четвёртого члена
        System.out.println(Arrays.toString(array));//выводим отсортированный массив на экран
        int key = Arrays.binarySearch(array, 5); // ищем key - число 5 в отсортированном массиве. 
        //метод binarySearch выдаст индекс элемента остортированного массива, в котором "спрятано" искомое число
        System.out.println(key);//распечатываем индекс искомого числа 
System.out.println(Arrays.binarySearch(array, 0));//а теперь попробуем найти число, которого в массиве нет, 
        // и сразу же выведем результат на экран

    }
}
</code></pre>
Вывод программы: 

<div class="terminal">[I@1540e19d
[1, 5, 4, 3, 7]
[1, 3, 4, 5, 7]
3
-1
</div>
В первой строке — попытка вывода на экран массива без <span class="code">toString</span>, во второй — вывод массива посредством <span class="code">toString</span>, в третьей выведен отсортированный массив, в четвёртой — индекс искомого числа 5 в отсортированном массиве (помните, что считаем с нуля, поэтому четвёртый элемент массива имеет индекс 3). В пятой строке видим значение <span class="text-bold">-1</span>. Такого индекса у массива не бывает. Вывод сигнализирует о том, что искомого элемента (в данном случае, 0) в массиве нет. 
<table class="table table--striped">
<tbody><tr>
<td><p><span class="text-bold">Больше о методах класса Array</span></p>
<p><a href="https://javarush.com/groups/posts/1933-klass-arrays-i-ego-ispoljhzovanie" target="_blank">Класс Arrays и его использование</a>  — в статье описаны некоторые методы класса Array</p>
</td>
</tr>
</tbody></table><h2 id="Коротко-о-главном">Главное о массивах</h2><ul>
<li><p>Главные характеристики массива: тип помещённых в него данных, имя и длина.<br>
Последнее решается при инициализации (выделении памяти под массив), первые два параметра определяются при объявлении массива.</p></li>
<li><p>Размер массива (количество ячеек) нужно определять в <span class="code">int</span></p></li>
<li><p>Изменить длину массива после его создания нельзя.</p></li>
<li><p>Доступ к элементу массива можно получить по его индексу.</p></li>
<li><p>В массивах, как и везде в Java, элементы нумеруются с нуля.</p></li>
<li><p>После процедуры создания массива он наполнен значениями по умолчанию.</p></li>
<li><p>Массивы в языке Java устроены не так, как в C++. Они почти совпадают с указателями на динамические массивы.</p></li>
</ul><h2 id="Интересные-материалы-о-массивах">Полезные материалы о массивах</h2>Хотите знать больше о массивах? Обратите внимание на статьи ниже. Там много интересного и полезного по этой теме.
<ol>
<li><p><a href="https://javarush.com/groups/posts/1932-koe-chto-o-massivakh" target="_blank">Кое-что</a> о массивах — хорошая подробная статья о массивах </p></li>
<li><p><a href="https://javarush.com/groups/posts/1933-klass-arrays-i-ego-ispoljhzovanie" target="_blank">Класс Arrays и его использование</a>  — в статье описаны некоторые методы класса <span class="code">Array</span></p></li>
<li><p><a href="https://javarush.com/groups/posts/mnogomernye-massivy" target="_blank">Многомерные массивы</a> — подробная статья о многомерных массивах с примерами.</p></li>
<li><p><a href="https://javarush.com/groups/posts/781-vozvrajshayte-massiv-nulevoy-dlinih-a-ne-null" target="_blank">Возвращайте массив нулевой длины, а не null</a>  — автор “Эффекктивного программирования” Джошуа Блох рассказывает о том, как лучше возвращать пустые массивы</p></li></ol>