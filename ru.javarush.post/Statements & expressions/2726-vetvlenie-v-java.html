Ветвление в Java
<p>----------------------------------------</p>
В данной статье мы рассмотрим такое понятие как ветвление в компьютерных программах в общем и написанных на ЯП Java. Поговорим о таких управляющих конструкциях, как: if-then (или же if), if-then-else (или же if-else), switch-case...
<p>----------------------------------------</p>
В данной статье мы рассмотрим такое понятие как ветвление в компьютерных программах в общем и написанных на ЯП Java. Поговорим о таких управляющих конструкциях, как:

<ul>
<li><code>if-then</code> (или же <code>if</code>)</li>
<li><code>if-then-else</code> (или же <code>if-else</code>)</li>
<li><code>switch-case</code></li>
</ul><img data-max-width="800" data-id="8da13586-1c7f-40ad-9c6c-92338832fff9" src="/images/article/8da13586-1c7f-40ad-9c6c-92338832fff9/800.jpeg" class="img-fluid" alt="Ветвление в Java - 1"><h2>Ветвление</h2>Начнем с базовых понятий. Любая программа представляет собой набор команд, выполняемых компьютером. Чаще всего команды выполняются последовательно, друг за другом. Чуть реже (но все еще довольно часто) возникают ситуации, когда нужно изменить последовательный ход выполнения команд программы. 

Иногда, в зависимости от некоторых условий, бывает необходимо исполнять один блок команд вместо другого. А когда эти условия меняются, поступать наоборот. 

К примеру, есть ряд сайтов, посещение которых запрещено лицам, не достигшим возраста 18 лет. Обычно, при первом посещении подобного ресурса пользователя встречает некоторая форма, в которой пользователя предупреждают о возрастном ограничении и просят ввести дату его рождения. Тогда, в зависимости от данных, которые ввел пользователь, ему либо позволят войти на ресурс, либо нет. 

Такой функционал обеспечивается тем, что принято называть ветвлением. 

Приведем еще одну аналогию. Представим себя на  перекрестке семи дорог. Перед нами стоит выбор: свернуть налево или направо, либо же пойти прямо. Наш выбор опирается на некоторые условия. Также у нас нет возможности идти несколькими дорогами одновременно. Т.е. в зависимости от некоторых условий, нам придется выбрать одну дорогу. 

Такой же принцип и с ветвлением. 

Теперь попробуем привести определение ветвлению. 

Ветвление — это алгоритмическая конструкция, в которой в зависимости от истинности некоторого условия, выполняется одна из нескольких последовательностей действий.

Ветвление реализовано (скорее всего) абсолютно во всех языках программирования. 

В языке программирования Java есть несколько так называемых управляющих конструкций, благодаря которым можно реализовать ветвление в своей программе. 

Таких конструкций в языке программирования 3: 
<ul>
<li>Оператор <code>if-then</code></li>
<li>Оператор <code>if-then-else</code></li>
<li>Тернарный оператор <code>? :</code></li>
</ul>В данной статье мы рассмотрим операторы <code>if-else</code> и <code>switch-case</code>. 
<h3>if-then</h3>Оператор <code>if-then</code>, или же просто <code>if</code> пожалуй самый распространенный оператор. Выражение “да там 1 if написать” уже стало крылатым.

Оператор <code>if</code> имеет следующую конструкцию: 

<pre class="lang-java line-numbers"><code>
if (bool_condition) {
	statement
} 
</code></pre>
В данной конструкции:
<ul>
<li><code>bool_condition</code> — boolean выражение, результатом которого является true или false. Данное выражение называют условием.</li>
<li><code>statement</code> — команда (может быть не одна), которую необходимо исполнить, в случае, если условие истинно (<code>bool_statement==true</code>)</li>
</ul>Данную конструкцию можно прочитать так: 

<pre><code>
Если (bool_condition), то {statement}
</code></pre>
Приведем примеры: 

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.print("Сколько процентов заряда батареи осталось на вашем смартфоне?");
        int a = scanner.nextInt();

        if (a &lt; 10) {
            System.out.println("Осталось менее 10 процентов, подключите ваш смартфон к зарядному устройству");
        }
    }
</code></pre>
В данной программе пользователю предлагается ввести количество процентов заряда батареи на его смартфоне. В случае, если осталось менее 10 процентов заряда, программа предупредит пользователя о необходимости зарядить смартфон. 

Это пример простейшей конструкции <code>if</code>. Стоит заметить, что если переменная `а` будет больше либо равна 10, то ничего не произойдет. Программа продолжит выполнять код, который следует за конструкцией <code>if</code>. 

Также заметим, что в данном случае, у конструкции <code>if</code> есть только одна последовательность действий для исполнения: напечатать текст, либо не делать ничего. Эта вариация ветвления с одной “ветвью”. 

Такое порой бывает необходимо. Например когда мы хотим обезопасить себя от неправильных значений. К примеру, мы не можем узнать количество букв в строке, если строка равна <code>null</code>. 

Примеры ниже:
 
<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        String x = null;
        printStringSize(x);
        printStringSize("Не представляю своей жизни без ветвлений...");
        printStringSize(null);
        printStringSize("Ифы это так захватывающе!");
    }

    static void printStringSize(String string) {
        if (string != null) {
            System.out.println("Кол-во символов в строке `" + string + "`=" + string.length());
        }
    }
</code></pre>
В результате выполнения метода main в консоль будет выведено: 

<pre><code>
Количество символов в строке `Не представляю своей жизни без ветвлений...`=43
Количество символов в строке `Ифы это так захватывающе!`=25
</code></pre>
Благодаря проверке на то, что <code>string != null</code>, нам удалось избежать ошибок в программе. И не делать ничего в тех случаях, когда переменная <code>string</code> была равна <code>null</code>.
<h3>if-then-else</h3>Если при обычном <code>if</code> у программы есть выбор: “сделать что-то, либо не делать ничего”, то при <code>if-else</code> выбор программы сводится тому, чтобы “сделать либо одно, либо другое”. Вариант “не делать ничего” отпадает. 

Вариантов исполнения (или количество ветвей) при таком виде ветвления бывает от двух и более. 

Рассмотрим случай, когда варианта два. Тогда управляющая конструкция имеет следующий вид: 

<pre class="lang-java line-numbers"><code>
if (bool_condition) {
	statement1
} else {
	statement2
}
</code></pre>
Здесь:
<ul>
<li><code>bool_statement</code> — boolean выражение, результатом которого является true или false. Данное выражение называют условием.</li>
<li><code>statement1</code> — команда (может быть не одна), которую необходимо выполнить, если условие истинно (<code>bool_statement==true</code>)</li>
<li><code>statement2</code> — команда (может быть не одна), которую необходимо выполнить, если условие ложно (<code>bool_statement==false</code>)</li>
</ul>Данную конструкцию можно прочитать так: 

<pre><code>
Если (bool_condition), то {statement1}
Иначе {statement2}
</code></pre>
Приведем пример: 

<pre class="lang-java line-numbers"><code>
     public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.print("Сколько процентов заряда батареи осталось на вашем смартфоне?");
        int a = scanner.nextInt();

        if (a &lt; 10) {
            System.out.println("Осталось менее 10 процентов, подключите ваш смартфон к зарядному устройству");
        } else {
            System.out.println("Заряда вашей батареи достаточно для того, чтобы прочитать статью на Javarush");
        }
    }
</code></pre>
Тот же пример об уровне заряда батареи на смартфоне. Только если в прошлый раз программа только лишь предупреждала о необходимости зарядить смартфон, то в этот раз у нас появляется дополнительное уведомление. 

Разберем этот <code>if</code>: 

<pre class="lang-java line-numbers"><code>
        if (a &lt; 10) {
            System.out.println("Осталось менее 10 процентов, подключите ваш смартфон к зарядному устройству");
        } else {
            System.out.println("Заряда вашей батареи достаточно для того, чтобы прочитать статью на Javarush");
        }
</code></pre>
Если <code>a &lt; 10</code> истинно (уровень заряда батареи меньше 10), программа выведет на печать один текст. Иначе, если условие <code>a &lt; 10</code> не выполняется, то программа выведет уже совсем другой текст. 

Доработаем также и второй наш пример, в котором мы выводили на экран количество букв в строке. В прошлый раз программа не выводила ничего, если переданная строка была равна <code>null</code>. Исправим этом, превратив обычный <code>if</code> в <code>if-else</code>: 

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        String x = null;
        printStringSize(x);
        printStringSize("Не представляю своей жизни без ветвлений...");
        printStringSize(null);
        printStringSize("Ифы это так захватывающе!");
    }

    static void printStringSize(String string) {
        if (string != null) {
            System.out.println("Кол-во символов в строке `" + string + "`=" + string.length());
        } else {
            System.out.println("Ошибка! Переданная строка равна null!");
        }
    }
</code></pre>
В методе <code>printStringSize</code> в конструкцию <code>if</code> мы добавили блок <code>else</code>. Теперь, если мы запустим программу, она выведет в консоль уже не 2 строки, а 4, хотя вводные (метод <code>main</code>) остались такими же, как и в прошлый раз. 

Текст, который выведет программа:

<pre><code>
Ошибка! Переданная строка равна null!
Кол-во символов в строке `Не представляю своей жизни без ветвлений...`=43
Ошибка! Переданная строка равна null!
Кол-во символов в строке `Ифы это так захватывающе!`=25
</code></pre>
Допустимы ситуации, когда после <code>else</code> следуют не команды на исполнение, а еще один <code>if</code>. Тогда конструкция принимает следующий вид: 

<pre class="lang-java line-numbers"><code>
If (bool_condition1) {
	statement1
} else if (bool_condition2) {
	statement2
} else if (bool_conditionN) {
	statementN
} else {
	statementN+1
}
</code></pre>
В данной конструкции есть несколько условий: 
<ul>
<li>bool_condition1</li>
<li>bool_condition2</li>
<li>bool_conditionN</li>
</ul>Количество таких условий не ограничено. К каждому условию “привязаны” свои команды:
<ul>
<li>statement1</li>
<li>statement2</li>
<li>statementN</li>
</ul>Каждый такой <code>statement</code> может содержать в себе 1 или более строк кода. 

Условия проверяются одно за другим. Как только определится первое истинное условие, будет выполнен ряд команд, “привязанных” к истинному условию. После выполнения этих команд программа выйдет из блока <code>if</code>, даже если впереди были еще проверки. 

Выражение “statementN+1” будет выполнено в случае, если ни одно из определенных выше условий не окажется истинным. 

Данную конструкцию можно прочитать так: 

<pre><code>
Если (bool_condition1) то {statement1}
Иначе если (bool_condition2) то {statement2}
Иначе если (bool_conditionN) то {statementN}
Иначе {statementN+1}
</code></pre>
Последняя строка в данном случае опциональна. Можно обойтись и без последнего одинокого <code>else</code>. И тогда конструкция примет следующий вид:

<pre class="lang-java line-numbers"><code>
If (bool_condition1) {
	statement1
} else if (bool_condition2) {
	statement2
} else if (bool_conditionN) {
	statementN
}
</code></pre>
И читаться будет так: 

<pre><code>
Если (bool_condition1) то {statement1}
Иначе если (bool_condition2) то {statement2}
Иначе если (bool_conditionN) то {statementN}
</code></pre>
Соответственно, в случае, если ни одно из условий не окажется истинным, то ни одна команда не будет исполнена. 

Перейдем к примерам.

Вернемся к ситуации с уровнем заряда на смартфоне. Напишем программу, которая будет более детально информировать владельца об уровне заряда его девайса: 

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        String alert5 = "Я скоро отключусь, но помни меня бодрым";
        String alert10 = "Я так скучаю по напряжению в моих жилах";
        String alert20 = "Пора вспоминать, где лежит зарядка";
        String alert30 = "Псс, пришло время экономить";
        String alert50 = "Хм, больше половины израсходовали";
        String alert75 = "Всё в порядке, заряда больше половины";
        String alert100 = "Я готов к приключениям, если что..";
        String illegalValue = "Такс, кто-то ввел некорректное значение";

        Scanner scanner = new Scanner(System.in);
        System.out.print("Сколько процентов заряда батареи осталось на вашем смартфоне?");
        int a = scanner.nextInt();

        if (a &lt;= 0 || a &gt; 100) {
            System.out.println(illegalValue);
        } else if (a &lt; 5) {
            System.out.println(alert5);
        } else if (a &lt; 10) {
            System.out.println(alert10);
        } else if (a &lt; 20) {
            System.out.println(alert20);
        } else if (a &lt; 30) {
            System.out.println(alert30);
        } else if (a &lt; 50) {
            System.out.println(alert50);
        } else if (a &lt; 75) {
            System.out.println(alert75);
        } else if (a &lt;= 100) {
            System.out.println(alert100);
        }
    }
</code></pre>
К примеру в данном случае, если пользователь введет 15, то программа выведет на экран: “Пора вспоминать, где лежит зарядка”. Несмотря на то, что 15 меньше и 30 и 50 и 75 и 100, вывод на экран будет только 1. 

Напишем еще одно приложение, которое будет печатать в консоль, какой сегодня день недели: 

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        // Определим текущий день недели
        DayOfWeek dayOfWeek = LocalDate.now().getDayOfWeek();

        if (dayOfWeek == DayOfWeek.SUNDAY) {      
            System.out.println("Сегодня воскресенье");
        } else if (dayOfWeek == DayOfWeek.MONDAY) {
            System.out.println("Сегодня понедельник");
        } else if (dayOfWeek == DayOfWeek.TUESDAY) {
            System.out.println("Сегодня вторник");
        } else if (dayOfWeek == DayOfWeek.WEDNESDAY) {
            System.out.println("Сегодня среда");
        } else if (dayOfWeek == DayOfWeek.THURSDAY) {
            System.out.println("Сегодня четверг");
        } else if (dayOfWeek == DayOfWeek.FRIDAY) {
            System.out.println("Сегодня пятница");
        } else if (dayOfWeek == DayOfWeek.SATURDAY) {
            System.out.println("Сегодня суббота");
        }
    }
</code></pre>
Удобно конечно, но в глазах немного рябит от обилия однообразного текста. В ситуациях, когда у нас имеются большое количество вариантов лучше использовать оператор, речь о котором пойдет ниже. 
<h3>switch-case</h3>Альтернативой жирным <code>if</code> с большим количеством ветвей служит оператор <code>switch-case</code>. 

Данный оператор как бы говорит “Так, у нас есть вот такая вот переменная. Смотрите, в случае, если её значение равно `x`, то делаем то-то и то-то, если ее значение равно `y`, то делаем по-другому, а если ничему не равно из вышеперечисленного, просто делаем вот так… ”

Данный оператор обладает следующей структурой. 

<pre class="lang-java line-numbers"><code>
switch (argument) {
	case value1:
		statement1;
		break;
	case value2:
		statement2;
		break;
	case valueN:
		statementN;
		break;
	default:
		default_statement;
		break;
}
</code></pre>
Рассмотрим данную структуру более подробно. 

<code>argument</code>  —это некоторая переменная, значение которой мы будем сравнивать с гипотетическими различными вариантами. Переменная должна быть <code>final</code>. Также стоит сказать, что оператор <code>switch</code> поддерживает в качестве аргумента далеко не любой тип данных. Допустимые типы перечислены ниже: 
<ul>
<li>byte and Byte</li>
<li>short and Short</li>
<li>int and Integer</li>
<li>char and Character</li>
<li>enum</li>
<li>String</li>
</ul><code>case value1 (value2, valueN)</code> — это значения, конкретные константы, с которыми мы сравниваем значение переменной <code>argument</code>. Также, каждый кейс определяет под собой набор команд, которые нужно исполнить. 

<code>statement1</code>, <code>statement2</code>, <code>statementN</code> —это команды, которые необходимо будет исполнить, если <code>argument</code> окажется равен одному из <code>value</code>. К примеру, если <code>argument</code> будет равен <code>value2</code>, то программа выполнит <code>statement2</code>. 

<code>default</code> и <code>default_statement</code> — это “значения по умолчанию”. Если <code>argument</code> не будет равен ни одному из представленных <code>value</code>, то сработает ветка <code>default</code> и выполнится команда <code>default_statement</code>. 

<code>default</code> и <code>default_statement</code> являются опциональными атрибутами оператора <code>switch-case</code>.

<code>break</code> — можно заметить, что в конце каждого case блока следует оператор <code>break</code>. 

Данный оператор также является опциональным и служит для того, чтобы разграничивать код различных кейсов. Порой бывает необходимо выполнять одинаковые действия в разных кейсах: тогда данные кейсы можно объединить. В таком случае ключевое слово <code>break</code> — опускают, и структура оператора <code>switch-case</code> будет выглядеть следующим образом:

<pre class="lang-java line-numbers"><code>
switch (argument) {
	case value1:
		statement1;
		break;
	case valueX:
	case valueY:
		statementXY;
		break;
}
</code></pre>
Стоит обратить внимание: между `case valueX:` и `case valueY:` нет оператора <code>break</code>.

Здесь, если <code>argument</code> будет равен <code>value1</code>, выполнится <code>statement1</code>. А если argument будет равен <code>valueX</code> либо <code>valueY</code>, выполнится <code>statementXY</code>. 

Разбавим тяжелую для восприятия теорию на легкую для восприятия практику. Перепишем пример с днями недели с использованием оператора <code>switch-case</code>.

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        // Определим текущий день недели
        DayOfWeek dayOfWeek = LocalDate.now().getDayOfWeek();

        switch (dayOfWeek) {
            case SUNDAY:
                System.out.println("Сегодня воскресенье");
                break;
            case MONDAY:
                System.out.println("Сегодня понедельник");
                break;
            case TUESDAY:
                System.out.println("Сегодня вторник");
                break;
            case WEDNESDAY:
                System.out.println("Сегодня среда");
                break;
            case THURSDAY:
                System.out.println("Сегодня четверг");
                break;
            case FRIDAY:
                System.out.println("Сегодня пятница");
                break;
            case SATURDAY:
                System.out.println("Сегодня суббота");
                break;
        }
    }
</code></pre>
Теперь напишем программу, которая выводит информацию о том, является ли сегодняшний день будним днем или выходным, используя оператор <code>switch-case</code>. 

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        // Определим текущий день недели
        DayOfWeek dayOfWeek = LocalDate.now().getDayOfWeek();

        switch (dayOfWeek) {
            case SUNDAY:
            case SATURDAY:
                System.out.println("Сегодня выходной");
                break;
            case FRIDAY:
                System.out.println("Завтра выходной");
                break;
            default:
                System.out.println("Сегодня рабочий день");
                break;

        }
    }
</code></pre>
Немного поясним.

В данной программе мы получаем <code>enum DayOfWeek</code>, который обозначает текущий день недели.

Далее мы смотрим, равняется ли значение нашей переменной <code>dayOfWeek</code> значениям <code>SUNDAY</code> либо <code>SATURDAY</code>. В случае, если это так, программа выводит “Сегодня выходной”. 

Если же нет, то мы проверяем,  равняется ли значение переменной <code>dayOfWeek</code> значению <code>FRIDAY</code>. В случае, если это так, программа выводит “Завтра выходной”. 

Если же и в этом случае нет, то вариантов у нас немного, любой оставшийся день является будним днем, поэтому по умолчанию, если сегодня НЕ пятница, НЕ суббота и НЕ воскресение программа выведет “Сегодня рабочий день”.
<h2>Заключение</h2>Итак, в данной статье мы разобрали что такое ветвление в компьютерной программе. А также разобрались, с помощью каких управляющих конструкций реализуется ветвление в ЯП Java. 

Обсудили такие конструкции, как:
<ul>
<li><code>if-then</code></li>
<li><code>if-then-else</code></li>
<li><code>switch-case</code></li>
</ul>