Тернарный оператор в Java
<p>----------------------------------------</p>
Привет! Сегодняшняя лекция будет не очень большой, но совершенно точно полезной :) Мы поговорим о так называемом тернарном операторе. “Тернарный” в переводе означает “тройной”. Это альтернатива условному оператору if-else, с которым ты уже знаком ...
<p>----------------------------------------</p>
Привет! Сегодняшняя лекция будет не очень большой, но совершенно точно полезной :) Мы поговорим о так называемом <span class="text-bold">тернарном операторе</span>.
<img data-max-width="850" alt="Тернарный оператор  - 1" src="https://cdn.javarush.com/images/article/8236d11f-d86c-48f9-b72d-1ffc6ae68b4c/original.jpeg">“Тернарный” в переводе означает “тройной”. Это альтернатива условному оператору <span class="text-bold"><code>if-else</code></span>, который тебе уже знаком.

Приведем пример. Допустим, какой-то человек решил пойти в кино на фильм с рейтингом 18+. Охранник проверяет его возраст на входе: если он проходит по возрасту — позволяет пройти в зал, если нет — отправляет домой.

Создадим класс <code>Man</code> и проверим это с помощью <code>if-else</code>:

<pre class="lang-java line-numbers"><code>
public class Man {

   private int age;

   public Man(int age) {
       this.age = age;
   }

   public int getAge() {
       return age;
   }

   public void setAge(int age) {
       this.age = age;
   }

   public static void main(String[] args) {

       Man man = new Man(22);

       String securityAnswer;

       if (man.getAge() &gt;= 18) {
           securityAnswer = "Все в порядке, проходите!";
       } else {
           securityAnswer = "Этот фильм не подходит для вашего возраста!";
       }

       System.out.println(securityAnswer);

   }
}
</code></pre>
Вывод в консоль:

<pre><code>
"Все в порядке, проходите!"
</code></pre>
Если убрать вывод в консоль, наша проверка выглядит следующим образом:

<pre class="lang-java line-numbers"><code>
if (man.getAge() &gt;= 18) {
           securityAnswer = "Все в порядке, проходите!";
       } else {
           securityAnswer = "Этот фильм не подходит для вашего возраста!";
       }
</code></pre>
Здесь, по сути, работает простая логика: проверяется одно условие (возраст &gt;= 18). В зависимости от этого в переменную <code>securityAnswer</code> присваивается одна из двух строк с ответом охранника.

Такие ситуации, “одно условие — два возможных результата”, встречаются в программировании очень часто. Поэтому для них создали тот самый тернарный оператор.

С его помощью мы можем упростить нашу проверку до одной строки кода:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {

   Man man = new Man(22);

   String securityAnswer = (man.getAge() &gt;= 18) ? "Все в порядке, проходите!" : "Этот фильм не подходит для вашего возраста!";

   System.out.println(securityAnswer);

}
</code></pre>
Так и выглядит работа этого оператора. Тернарным (тройным) его называют потому, что в его работе принимают участие 3 компонента:
<ul>
<li>Одно условие (<code>man.getAge() &gt;= 18</code>)</li>
<li>Два возможных результата (<em><span class="text-green">"Все в порядке, проходите!"</span></em> и <em><span class="text-green">"Этот фильм не подходит для вашего возраста!"</span></em>)</li>
</ul>Вначале в коде записывается условие, после которого ставится вопросительный знак.
 
<pre class="lang-java line-numbers"><code>
man.getAge() &gt;= 18 ?
</code></pre>
<em>“Возраст человека больше или равно 18?”</em>

Далее следует первый результат. Он срабатывает в случае, если условие возвращает <code>true</code>, то есть является истинным:

<pre class="lang-java line-numbers"><code>
String securityAnswer = man.getAge() &gt;= 18 ? "Все в порядке, проходите!"
</code></pre>
<em>Возраст человека больше или равно 18? Если да — присвоить переменной</em> <code>securityAnswer</code> <em>значение <span class="text-green">"Все в порядке, проходите!"</span>.</em>

Далее следует оператор “<code>:</code>” , после которого записывается второй результат. Он срабатывает в случае, если условие возвращает <code>false</code>, то есть является ложным:

<pre class="lang-java line-numbers"><code>
String securityAnswer = man.getAge() &gt;= 18 ? "Все в порядке, проходите!" : "Этот фильм не подходит для вашего возраста!";
</code></pre>

<em>Возраст человека больше или равно 18? Если да — присвоить переменной</em> <code>securityAnswer</code> <em>значение <span class="text-green">"Все в порядке, проходите!"</span>. Если нет — присвоить переменной</em> <code>securityAnswer</code> <em>значение <span class="text-gren">"Этот фильм не подходит для вашего возраста!"</span></em>

Вот так и выглядит общая логика тернарного оператора.

условие ? результат 1 : результат 2
<img data-max-width="850" alt="Тернарный оператор  - 2" src="https://cdn.javarush.com/images/article/18c73c7b-9e4a-46d4-9c96-c7a5d812c3ec/original.jpeg">Кстати, скобки вокруг условия ставить не обязательно: мы сделали это для большей читаемости. Сработает и без них:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {

   Man man = new Man(22);

   String securityAnswer = man.getAge() &gt;= 18 ? "Все в порядке, проходите!" : "Этот фильм не подходит для вашего возраста!";

   System.out.println(securityAnswer);

}
</code></pre>
Что же все-таки использовать: <code>if-else</code>, или тернарный оператор?

С точки зрения производительности особой разницы нет. Точнее, может она и есть, но незначительная.

Здесь вопрос относится скорее к читаемости твоего кода. 

Он крайне важен в программировании: код, который ты пишешь, должен не только корректно работать, но и легко читаться. Ведь он может перейти “по наследству” к другим программистам, твоим коллегам! И если он будет тяжелым для понимания, это усложнит и их работу, и твою — именно к тебе они будут бегать за объяснениями каждые 5 минут.

Общая рекомендация может звучать так: если условие простое и легко проверяется, можно без ущерба использовать тернарный оператор. Таким образом ты сократишь объем кода и количество проверок <code>if-else</code>, которых там и без того может быть немало.

А вот если условие является сложным и многоступенчатым — лучше использовать <code>if-else</code>.

Например, в этом случае использовать тернарный оператор будет плохой идеей:

<pre class="lang-java line-numbers"><code>
String securityAnswer = (man.getAge() &gt;= 18 &amp;&amp; (man.hasTicket() || man.hasCoupon()) &amp;&amp; !man.hasChild())  ? "Проходите!" : "Вы не можете пройти!";
</code></pre>
Так сходу и не поймешь, что тут происходит! Код стал очень сложным для чтения.

А все из-за сложного условия:
<ul>
<li>Если человеку больше или равно 18 лет + у него есть билет (или у него есть купон на бесплатное посещение) + с ним нет маленьких детей - тогда он может пройти.</li>
<li>Если хотя бы одна из частей условия возвращает false — тогда не может.</li>
</ul>Вот здесь явно лучше бы подошло использование <code>if-else</code>. Да, наш код стал бы побольше в размерах, но он был бы в разы более читаемым. И никто из коллег не схватится за голову, если такой код достанется ему в наследство :)
Напоследок могу порекомендовать тебе книгу. Мы затронули в лекции тему читаемости кода. Ей посвящена ставшая классикой книга “Чистый код” Роберта Мартина.
<img data-max-width="500" alt="Тернарный оператор  - 3" src="https://cdn.javarush.com/images/article/692797f4-403f-4a20-a0ca-852a9bd4dd3f/original.jpeg">В ней собраны лучшие практики и рекомендации для программистов, которые позволят тебе писать не только работающий, но и легко читаемый код.

<a href="https://javarush.com/groups/posts/526-chistihy-kod-robert-martin-obzor-knigi-dlja-" target="_blank">Обзор этой книги</a> есть на JavaRush.