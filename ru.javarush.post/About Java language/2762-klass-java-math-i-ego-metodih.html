Java Math класс и его методы
<p>----------------------------------------</p>
В данной статье мы проведем краткий обзор класса Math. Поговорим о методах данного класса и о том, как их использовать. Класс Math располагается в пакете java.lang и предоставляет набор статических методов для осуществления ряда различных математических вычислений...
<p>----------------------------------------</p>
В данной статье мы проведем краткий обзор класса Math в Java. Поговорим о методах данного класса и о том, как их использовать.

Класс Math располагается в пакете java.lang и предоставляет набор статических методов для осуществления ряда различных математических вычислений.

Ниже приведены примеры вычислений, для которых класс Math может оказаться полезным:
<ul>
	<li>Вычисление абсолютных значений (значений по модулю)</li>
	<li>Вычисление значений тригонометрических функций (синусов, косинусов и т.д.)</li>
	<li>Возведение в различные степени</li>
	<li>Извлечение корней различных степеней</li>
	<li>Генерация случайных чисел</li>
	<li>Округления</li>
	<li>И пр.</li>
</ul>Ниже мы попробуем рассмотреть как класс Java Math помогает решать задачи, перечисленные выше.<img data-max-width="800" data-id="df221229-1dc5-4bff-bac8-05fcf3b220fc" src="/images/article/df221229-1dc5-4bff-bac8-05fcf3b220fc/800.jpeg" class="img-fluid" alt="Класс Java Math и его методы - 1">Начнем разбор класса с методов, которые позволяют вычислить значение по модулю. За это отвечает метод abs. Данный метод перегружен и в классе Math имеются следующие его различия:
<ul>
<li>static double abs(double a)</li>
<li>static float abs(float a)</li>
<li>static int abs(int a)</li>
<li>static long abs(long a)</li>
</ul>Пример использования:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {
        System.out.println(Math.abs(-1));      // 1
        System.out.println(Math.abs(-21.8d));  // 21.8
        System.out.println(Math.abs(4532L));   // 4532
        System.out.println(Math.abs(5.341f));  // 5.341
    }
</code></pre>
<h2>Вычисление значений тригонометрических функций</h2>Класс Math позволяет вычислять различные тригонометрические функции - синусы, косинусы, тангенсы и пр. С полным перечнем методов можно познакомиться <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" rel="nofollow" target="_blank">на сайте официальной документации</a>.

Ниже приведен некоторый перечень данных методов:
<ul>
<li>static double sin(double a)</li>
<li>static double cos(double a)</li>
<li>static double tan(double a)</li>
<li>static double asin(double a)</li>
<li>static double acos(double a)</li>
<li>static double atan(double a)</li>
</ul>Методы вычисляют: синус, косинус, тангенс, арксинус, арккосинус, арктангенс. Каждый метод вычисляет значение для угла `a`. Этот параметр передается в каждый метод и в каждом случае измеряется в радианах (а не в градусах, как мы привыкли).

Тут есть две новости, хорошая и плохая. Начнем с хорошей. В классе Math есть методы для перевода радианов в градусы и градусов в радианы: 
<ul>
<li>static double toDegrees(double angrad)</li>
<li>static double toRadians(double angdeg)</li>
</ul>Здесь метод toDegrees переведет угол angrad, измеряемый в радианах в градусы.

А метод toRadians, наоборот, переводит угол angdeg, измеряемый в градусах - в радианы.

А плохая новость в том, что происходит это с некоторой погрешностью. Приведем пример вычисления синусов и косинусов:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {
        System.out.println(Math.sin(Math.toRadians(0)));   
        System.out.println(Math.sin(Math.toRadians(30)));  
        System.out.println(Math.sin(Math.toRadians(90)));  

        System.out.println(Math.cos(Math.toRadians(0)));   
        System.out.println(Math.cos(Math.toRadians(30)));  
        System.out.println(Math.cos(Math.toRadians(90)));  
    }
</code></pre>
Программа выведет:

<pre><code>
0.0
0.49999999999999994
1.0

1.0
0.8660254037844387
6.123233995736766E-17
</code></pre>
Что не совсем соответствует таблицам синусов и косинусов, отчасти благодаря погрешностям при переводе из градусов в радианы.
<h2>Возведение в степень</h2>Для возведения числа в степень класс Math предоставляет метод pow, который имеет следующую сигнатуру:

<pre class="lang-java line-numbers"><code>
static double pow(double a, double b)
</code></pre>
Данный метод возводит параметр `a` в степень `b`. Примеры:

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {
        System.out.println(Math.pow(1,2)); // 1.0
        System.out.println(Math.pow(2,2)); // 4.0
        System.out.println(Math.pow(3,2)); // 9.0
        System.out.println(Math.pow(4,2)); // 16.0
        System.out.println(Math.pow(5,2)); // 25.0

        System.out.println(Math.pow(1,3)); // 1.0
        System.out.println(Math.pow(2,3)); // 8.0
        System.out.println(Math.pow(3,3)); // 27.0
        System.out.println(Math.pow(4,3)); // 64.0
        System.out.println(Math.pow(5,3)); // 125.0
    }
</code></pre><h2>Извлечение корней</h2>Класс Math предоставляет методы для извлечения корней: квадратного и кубического. За данную процедуру отвечают следующие методы:
<ul>
<li>static double sqrt(double a)</li>
<li>static double cbrt(double a)</li>
</ul>Метод sqrt - извлекает квадратный корень (square root), а метод cbrt - кубический (cube root).

Примеры: 

<pre class="lang-java line-numbers"><code>
public static void main(String[] args) {
        System.out.println(Math.sqrt(4));   // 2.0
        System.out.println(Math.sqrt(9));   // 3.0
        System.out.println(Math.sqrt(16));  // 4.0

        System.out.println(Math.cbrt(8));   // 2.0
        System.out.println(Math.cbrt(27));  // 3.0
        System.out.println(Math.cbrt(125)); // 5.0
    }
</code></pre><h2>Генерация случайных чисел</h2>Для генерации случайных чисел класс Math предоставляет метод random. Данный метод генерирует случайное позитивное вещественное (double) число в промежутке от 0.0 до 1.0. 

Сигнатура метода имеет следующий вид:

<pre class="lang-java line-numbers"><code>
public static double random()
</code></pre>
Взглянем на примеры:

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        for (int i = 0; i &lt; 5; i++) {
            System.out.println(Math.random());
        }
    }
</code></pre>
После выполнения метода мейн на консоль вывелось:

<pre><code>
0.37057465028778513
0.2516253742011597
0.9315649439611121
0.6346725713527239
0.7442959932755443
</code></pre>
С помощью небольших манипуляций, можно использовать метод random класса Math для получения целочисленных случайных чисел лежащих в определенном диапазоне.

Приведем пример функции которая принимает два аргумента min и max и возвращает случайное целое число, которое лежит в промежутке от min (включительно) до max (включительно):

<pre class="lang-java line-numbers"><code>
    static int randomInARange(int min, int max) {
        return  (int) (Math.random() * ((max - min) + 1)) + min;
    }
</code></pre>
Напишем метод Main, в котором протестируем метод randomInARange:

<pre class="lang-java line-numbers"><code>
public class MathExample {


    public static void main(String[] args) {
        // Карта, в которой мы будем хранить количество выпадений какого-то числа
        Map&lt;Integer, Integer&gt; map = new TreeMap&lt;&gt;();

        // За 10000 операций
        for (int i = 0; i &lt; 10000; i++) {

            // Сгенерируем рандомное число от -10 включительно до 10 включительно
            final Integer randomNumber = randomInARange(-10, 10);


            if (!map.containsKey(randomNumber)) {
                // Если карта еще не содержит "выпавшего случайного числа"
                // Положим его в карту с кол-вом выпадений = 1
                map.put(randomNumber, 1);
            } else {
                // Иначе, увеличим количество выпадений данного числа на 1
                map.put(randomNumber, map.get(randomNumber) + 1);
            }
        }

        // Выведем на экран содержимое карты в формате ключ=[значение]
        for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()){
            System.out.println(String.format("%d=[%d]", entry.getKey(), entry.getValue()));
        }
    }

    static int randomInARange(int min, int max) {
        return  (int) (Math.random() * ((max - min) + 1)) + min;
    }
}
</code></pre>
После запуска метода main вывод может быть таким: 

<pre><code>
-10=[482]
-9=[495]
-8=[472]
-7=[514]
-6=[457]
-5=[465]
-4=[486]
-3=[500]
-2=[490]
-1=[466]
0=[458]
1=[488]
2=[461]
3=[470]
4=[464]
5=[463]
6=[484]
7=[479]
8=[459]
9=[503]
10=[444]

Process finished with exit code 0
</code></pre>
<h2>Округление</h2>Для округления чисел в Java одним из инструментов являются методы класса Math. А точнее методы round, ceil и floor:
<ul>
<li>static long round(double a)</li>
<li>static int round(float a)</li>
<li>static double floor(double a)</li>
<li>static double ceil(double a)</li>
</ul>Метод round - округляет так, как привычно обывателю. Если дробная часть числа больше либо равна 0.5, то число будет округлено в большую сторону, иначе в меньшую.

Метод floor всегда, независимо от значений дробной части, округляет число в меньшую сторону (в сторону отрицательной бесконечности).  

Метод ceil, напротив, вне зависимости от значений дробной части, округляет числа в большую сторону (в сторону положительной бесконечности). 

Взглянем на примеры:

<pre class="lang-java line-numbers"><code>
    public static void main(String[] args) {
        System.out.println(Math.round(1.3)); // 1      
        System.out.println(Math.round(1.4)); // 1      
        System.out.println(Math.round(1.5)); // 2      
        System.out.println(Math.round(1.6)); // 2      

        System.out.println(Math.floor(1.3)); // 1.0      
        System.out.println(Math.floor(1.4)); // 1.0      
        System.out.println(Math.floor(1.5)); // 1.0      
        System.out.println(Math.floor(1.6)); // 1.0      

        System.out.println(Math.ceil(1.3)); // 2.0   
        System.out.println(Math.ceil(1.4)); // 2.0   
        System.out.println(Math.ceil(1.5)); // 2.0   
        System.out.println(Math.ceil(1.6)); // 2.0   
    }
</code></pre><h2>Заключение</h2>В данной статье мы поверхностно познакомились с классом Math. Рассмотрели, как помощью данного класса можно:
<ul>
<li>Вычислять значения по модулю;</li>
<li>Вычислять значения тригонометрических функций;</li>
<li>Возводить числа в степень;</li>
<li>Извлекать квадратный и кубический корни;</li>
<li>Генерировать случайные числа;</li>
<li>Округлять числа.</li>
</ul>В данном классе есть еще уйма других интересных методов. С которыми можно ознакомиться на <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#random--" rel="nofollow" target="_blank">сайте официально документации</a>. Ну а для первого знакомства, методов перечисленных выше вполне достаточно.