Методы в Java
<p>----------------------------------------</p>
Возвращаемый-тип определяет тип данных, которые возвращает метод при вызове (возвращаемый ответ на сообщение). Если метод не возвращает никакого значения, то возвращаемый-тип имеет значение void. Идентификатор-метода определяет имя метода, а параметры ...
<p>----------------------------------------</p>

<img data-max-width="800" data-id="8d61ebaa-9ebd-4f0e-8f7a-cc1e39195bca" src="/images/article/8d61ebaa-9ebd-4f0e-8f7a-cc1e39195bca/800.jpeg" class="img-fluid" alt="Методы в Java - 1">В Java приложение состоит из классов. Классы, в свою очередь, состоят из переменных. Они отвечают за хранение данных и методов, которые отвечают за поведение класса: иначе говоря, логику, которую он может предоставлять (например, обработку некоторых данных, вызов других методов, и т. д.).

Говорить о таких составляющих как переменные можно долго, но мы сегодня не для этого собрались. Давайте лучше поговорим о такой составляющей класса как метод.

<img data-max-width="512" data-id="9166e675-4b94-41d5-89e4-e84b5c2ffef1" src="/images/article/9166e675-4b94-41d5-89e4-e84b5c2ffef1/512.jpeg" class="img-fluid" alt="Методы в Java - 2"><span class="text-bold">Метод</span> — это именованный блок кода, объявляемый внутри класса. Он содержит некоторую законченную последовательность действий (инструкций), направленных на решение отдельной задачи, который можно многократно использовать.

Иными словами, метод — это некоторая функция: что-то, что умеет делать ваш класс. В других языках тоже присутствуют функции. Только в Java они являются членами классов и, согласно терминологии ООП, называются методами.

Но прежде чем продолжить, давайте рассмотрим небольшой пример:

<pre class="lang-java line-numbers"><code>
public String constructHelloSentence(String name) {
  String resultSentence = "Hello world! My name is " + name;
  System.out.println(resultSentence);
  return resultSentence;
}
</code></pre>
Тут ничего сложного: метод Java, задача которого сформировать строку приветствия, с именем, которое мы ему передаем. Как например — <code>Hello world! My name is Bobby</code>

Давайте как следует разберемся с построением метода, рассмотрев каждое ключевое слово в объявлении метода (слева направо).

Наше первое ключевое слово — <code>public</code>, и оно обозначает модификатор доступа:
<h2>Модификаторы доступа</h2>Указывают допустимую область видимости для членов класса, то есть ограничение мест, в которых разрешается использовать какую-то переменную или метод.
<img data-max-width="512" data-id="46fa511c-e579-41d7-83fe-14cbccec4303" src="/images/article/46fa511c-e579-41d7-83fe-14cbccec4303/512.jpeg" class="img-fluid" alt="Методы в Java - 3">В языке Java применяют такие модификаторы доступа:
<ul>
<li><p><span class="text-bold">public</span>: публичный. Методы или поля с этим модификатором общедоступны, видимы другим классам (а точнее, их методам и полям) из текущего пакета и из внешних пакетов. Это самый широкий уровень доступа из известных;</p></li>
<li><p><span class="text-bold">protected</span>: к методам или переменным с этим модификатором есть доступ из любого места в текущем классе или пакете, или в классах, наследующих данный, а заодно — и методы или поля, даже если они находятся в других пакетах</p>
<pre class="lang-java line-numbers"><code>
protected String constructHelloSentence(String name) {...}
</code></pre></li>
<li><p><strong>Модификатор по умолчанию.</strong> Если у поля или метода класса нет модификатора, применяется модификатор по умолчанию. В таком случае поля или методы видны всем классам в текущем пакете (как <span class="text-bold">protected</span>, только с отсутствием видимости при наследовании).</p>
<pre class="lang-java line-numbers"><code>
String constructHelloSentence(String name) {...}
</code></pre></li>
<li><p><span class="text-bold">private</span>: антипод модификатора <span class="text-bold">public</span>. Метод или переменная с таким модификатором доступны исключительно в классе, в котором они объявлены. </p>
<pre class="lang-java line-numbers"><code>
private String constructHelloSentence(String name) {...}
</code></pre></li></ul>Далее мы имеем <code>String</code> в сигнатуре метода (первая строка метода, описывающая его свойства). 
<h2>Возвращаемое значение</h2>Возвращаемое значение — это данные (некий результат выполнения метода), которые приходят на его место после вызова. 

Каждый метод имеет возвращаемое значение. Или нет? 
<h3>Методы с возвращаемым значением</h3>Это значение может быть данными любого вида: как переменной простого типа, так и ссылочного.

В рассматриваемом примере мы указываем, что метод должен вернуть объект типа <code>String</code>, что как мы помним, является классом, описывающим строку.

Второй момент здесь — слово <code>return</code>. Оно имеет прямое отношение к возвращаемому значению: значение, стоящее после него, будет отправлено назад, на место вызова метода, а сам же метод после <code>return</code> закроется. Это слово обычно идёт в последней строке метода (кроме методов с различными ветвлениями типа <code>if, else..</code>.). 

Если написать код в следующей строке после <code>return</code>:

<pre class="lang-java line-numbers"><code>
private String constructHelloSentence(String name) {
  String resultSentence = "Hello world! My name is " + name;
  return resultSentence;
  System.out.println(resultSentence);
}
</code></pre>
то мы получим ругательства компилятора, что не очень хорошо (компилятор ерунду не посоветует).

Также нужно помнить, что тип данных после <code>с</code> должен совпадать с объявленным в сигнатуре метода.

Подробнее о <code>return</code> читайте <a href="https://javarush.com/groups/posts/618-operator-return-v-java" target="_blank">здесь</a>.
<h3>void</h3>Для каких служит <code>void</code> в Java? Не у всех методов есть возвращаемое значение. Некоторым или нечего, или не нужно ничего возвращать. Что же тогда делать? Тогда в сигнатуре метода на место возвращаемого значения мы пишем <code>void</code>.

Как бы выглядел наш метод без возвращаемого значения?

<pre class="lang-java line-numbers"><code>
protected void constructHelloSentence(String name) {
  String resultSentence = "Hello world! My name is " + name;
  System.out.println(resultSentence);
}
</code></pre>
Вы наверняка заметили, что вместе с возвращаемым значением у нас исчезло слово <code>return</code> Так и есть, ведь наш метод и не должен ничего возвращать. Тем не менее, его можно тут поставить, но без какого-то значения, просто <code>return</code>; в последней строке. Это в целом бесполезно, поэтому в методах с <code>void</code> он необязателен. Тем не менее, его можно применять с пользой в <code>void</code> методах, например, при ветвлениях или циклах, когда нужно немедленно выйти из метода.

Далее в объявлении метода у нас шло <code>constructHelloSentence</code>.
<h2>Названия методов</h2><code>constructHelloSentence</code>  — название метода, отличительная особенность, по которой мы сможем отличать тот или иной метод. И, соответственно, вызывать тот или иной метод.
<img data-max-width="512" data-id="4a227037-b95f-438a-ae97-c24f62b7087c" src="/images/article/4a227037-b95f-438a-ae97-c24f62b7087c/512.jpeg" class="img-fluid" alt="Методы в Java - 4">Названия методов должны начинаться с маленькой буквы, но и использовать верблюжий стиль (CamelCase, верблюжий регистр): т.е. каждое следующее слово в названии стоит впритык к предыдущему и пишется с большой буквы. 

Наименования методов должны описывать метод (лучший комментарий — правильное именование). Для этого используйте глаголы или сочетания с глаголами: <code>getCat</code>, <code>delete</code>, <code>createCar</code>, и так далее. 

В пределах одного класса имена методов должны быть уникальными (не считая перегрузки методов, о чем поговорим немного ниже).

Смотрим дальше разбираемый нами метод и видим (<code>String name</code>) 
<h2>Параметры метода</h2>Методы могут иметь (или не иметь) определенные данные, которые будут поступать снаружи, а именно — с места, где и был вызван метод.

В нашем случае мы видим, что приходит объект типа <code>String</code> с именем <code>name</code> и в дальнейшем мы используем эту переменную  в нашем методе.

В методе можно использовать неограниченное количество параметров, но больше 7 — не рекомендуется.

Когда мы не знаем точное количество элементов, но все эти элементы нужны для одной цели и будут одного типа (например, <code>String</code>), используется многоточие:

<pre class="lang-java line-numbers"><code>
public void constructHelloSentence(String...name) {
 ...
}
</code></pre>
Обращение к каждому элементу будет такого вида: <code>name[0]</code>

Ничего не напоминает? Верно, массив! Ничего не изменится, если мы напишем:

<pre class="lang-java line-numbers"><code>
protected void constructHelloSentence(String[] name) {
 ...
}
</code></pre>
Обращение к элементам также будет вида: <code>name[1]</code>

И ещё кое что. Аргументы метода могут быть <a href="https://javarush.com/groups/posts/1946-neizmennoe-v-java-final-konstantih-i-immutable" target="_blank">final</a>:

<pre class="lang-java line-numbers"><code>
public String constructHelloSentence(final String name) {
  ...
}
</code></pre>
Это значит, что ссылка name привязана к конкретному объекту <code>String</code>, и переопределить её нельзя.

Про работу с ссылочными переменными и их взаимодействие с зарезервированным словом <code>final</code> можно прочитать в материале “<a href="https://javarush.com/groups/posts/2642-ssihlochnihe-tipih-dannihkh-v-java" target="_blank">Ссылочные типы данных в Java</a>”.
<h2>Вызов методов</h2>Итак, с созданием методов разобрались, теперь давайте поговорим об их использовании. Как вызвать метод в Java?
<img data-max-width="512" data-id="00ef2ad6-9db6-41bf-87f1-b06e9ab24012" src="/images/article/00ef2ad6-9db6-41bf-87f1-b06e9ab24012/512.jpeg" class="img-fluid" alt="Методы в Java - 5">Каждый метод в Java находится в классе. Чтобы разобраться, как устроен вызов методов в Java, возьмем класс:

<pre class="lang-java line-numbers"><code>
public class StringConstructor {
  public String constructHelloSentence(String name) {
     String resultSentence = "Hello world! My name is " + name;
     System.out.println(resultSentence);
     return resultSentence;
  }
}
</code></pre>
Так как у нас метод не является статическим (это отдельная тема для разговора, выходящая за рамки сегодняшней статьи), для его вызова нужно сперва создать объект, и уже у него вызвать метод:

<pre class="lang-java line-numbers"><code>
class Application{
  public static void main(String[] args) {
     StringConstructor stringConstructor = new StringConstructor();
     stringConstructor.constructHelloSentence("Den");
  }
}
</code></pre>
В аргументы нашего метода мы передали строку (имя), которую хотим видеть в результирующей строке, выведенной на экран:

<pre><code>
Hello world! My name is Den
</code></pre>
Также стоит напомнить, что методы можно переиспользовать то количество раз, сколько нам потребуется — ограничений нет.
<h2>this</h2>Часто в коде можно увидеть ключевое слово <code>this</code>, как например в сеттерах:

<pre class="lang-java line-numbers"><code>
public void setValue(Long value) {
   this.value = value;
}
</code></pre>
И что же оно значит? 

<code>this</code> в Java — это ссылка на текущий объект данного класса. Например, если мы создали объект:

<pre class="lang-java line-numbers"><code>
StringConstructor stringConstructor = new StringConstructor();
</code></pre>
то <code>this</code> внутри объекта <code>stringConstructor</code> будет ссылкой на этот же объект.

<code>this</code> используется как для ссылки на переменную объекта (как в сеттере выше), так и для вызова некоторого метода.

Мы можем немного переписать наш класс:

<pre class="lang-java line-numbers"><code>
public class StringConstructor {
 
  public String constructHelloSentence(String name) {
     String resultSentence = this.getSentence()  + name;
     System.out.println(resultSentence);
     return resultSentence;
  }
 
  private String getSentence() {
     return "Hello world! My name is ";
  }
}
</code></pre>
Через <code>this</code> мы вызываем метод данного объекта, для взятия необходимой строки.

Но всё же как правило для методов this почти не используется, так как и без него идёт ссылка на метод данного объекта, в основном он используется для на переменную объекта.
<h2>Перегрузка методов</h2>Предположим нам понадобился метод, выполняющий по сути ту же самую логику, но в предложении <code>Hello world</code>! вместо <code>world</code> мы хотим вставить своё слово (строку). Но ведь у нас уже есть метод <code>constructHelloSentence</code>. Значит, нам нужно придумать новое название для метода, который выполняет по сути тот же функционал? Как бы не так: в этот момент на помощь нам приходит перегрузка методов.
<img data-max-width="512" data-id="ea01b50d-293a-49db-9a4e-148d2beeee30" src="/images/article/ea01b50d-293a-49db-9a4e-148d2beeee30/512.jpeg" class="img-fluid" alt="Методы в Java - 7">Перегрузка методов — это использование одного и того же имени метода несколько раз при его объявлении в классе. С точки зрения синтаксиса языка, не может быть двух одинаковых имен в некотором локальном пространстве. Но при этом допускается объявление методов с одинаковыми именами но отличающимися аргументами. Иными словами, класс содержит в себе перегруженные, когда есть два и более методов с одинаковыми названиями, но различными входными данными:

<pre class="lang-java line-numbers"><code>
public class Constructor {
 
  public String constructHelloSentence(String name) {
     String resultSentence = "Hello world! My name is " + name;
     System.out.println(resultSentence);
     return resultSentence;
  }
 
  protected String constructHelloSentence(String firstName, String secondName) {
     String resultSentence = "Hello " + firstName + "! My name is " + secondName;
     System.out.println(resultSentence);
     return resultSentence;
  }
}
</code></pre>
Здесь мы видим, что методы не обязаны содержать одинаковый модификатор доступа (как и возвращаемый тип).

Если вызывается перегруженный метод, то из нескольких объявленных методов компилятор автоматически определяет нужный по параметрам, которые указываются при вызове.