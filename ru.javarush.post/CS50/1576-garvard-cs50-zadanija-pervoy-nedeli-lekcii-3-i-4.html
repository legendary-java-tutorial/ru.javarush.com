Гарвард CS50: задания первой недели (лекции 3 и 4)
<p>----------------------------------------</p>
Друзья, основные теоретические сведения вы можете почерпнуть из конспекта семинаров. Там, помимо основ С рассказано, как подключиться к специальной облачной IDE CS50 (это нужно сделать для выполнения и проверки заданий), описаны основные нужные команды Linux ...
<p>----------------------------------------</p>

<img data-id="c350cf39-991b-448f-a737-43d4ff4fce95" data-max-width="850" alt="Гарвард CS50: задания первой недели (лекции 3 и 4) - 1" src="https://cdn.javarush.com/images/article/c350cf39-991b-448f-a737-43d4ff4fce95/1024.jpeg">Друзья, основные теоретические сведения вы можете почерпнуть из <a href='https://javarush.com/quests/lectures?quest=QUEST_HARVARD_CS50&level=1' target='_blank'>конспекта семинаров</a>. Там, помимо основ С рассказано, как подключиться к специальной облачной IDE CS50 (это нужно сделать для выполнения и проверки заданий), описаны основные нужные команды Linux и структуры языка. Если вам будет недостаточно материала о C, изложенного в лекции и конспекте, обратитесь к другим источникам. Например, к тем, что указаны в конце данной статьи.   

В топике "<a href='https://javarush.com/groups/posts/1575-dopolniteljhnihe-materialih-k-lekcijam-cs50-week-1-lekcii-3-i-4' target='_blank'>Дополнительные материалы</a>"
<ul>
<li>Цели первой недели</li>
<li>IDE CS50</li>
    <li>Командная строка и обновление рабочей среды</li>
    <li>Работа в IDE</li>
    <li>Hello, C!</li>
    <li>Баги?</li>
    <li>Проверка на правильность: тест check50</li>
    <li>Основы С: сравнение со Scratch</li>
    <li>Основные типы данных в C</li>
    <li>Библиотеки С</li>
    <li>И снова Hello C: разбор синтаксиса простейших программ</li>
    <li>Еще немного о вводе/выводе в C</li>
     </ul><strong>Материалы в этом топике:</strong>
<ul>   
    <li>Ввод данных с проверкой: специальные функции библиотеки cs50.h</li>
    <li>Задание 1. Умный подсчет расхода воды</li>
    <li>Задание 2. С нами Марио!</li>
    <li>Задание 3. Время получать сдачу</li>
    <li>Как подтвердить правильность кода и получить оценки</li>
    <li>Ресурс кода</li>
    <li>Дополнительная литература</li>
</ul><h2>Ввод данных с проверкой: специальные функции библиотеки cs50.h</h2>Для более удобного прохождения этого курса, мы разработали специальную библиотеку CS50, в которой, в частности, есть очень полезные функции обработки введенных пользователем данных. 
<ul>
<li><p><strong><code>GetString()</code></strong> считывает введенную пользователем строку;</p></li>
<li><p><strong><code>GetInt()</code></strong> считывает введенную пользователем строку и проверяет, не записано ли в ней целое число;</p></li>
<li><p><strong><code>GetFloat()</code></strong>считывает введенную пользователем строку и проверяет, не записано ли в ней число с плавающей точкой;</p></li>
<li><p><strong><code>GetLongLong()</code></strong> считывает введенную пользователем строку и проверяет, не записано ли в ней длинное вещественное число.</p></li>
</ul><h2>Задание 1. Умный подсчет расхода воды</h2><img data-id="857f80ea-75bb-4a20-b637-3c705c27a449" data-max-width="710" alt="Гарвард CS50: задания первой недели (лекции 3 и 4) - 2" src="https://cdn.javarush.com/images/article/857f80ea-75bb-4a20-b637-3c705c27a449/1024.jpeg">Логично: чем дольше вы принимаете душ, тем больше воды уходит на этот процесс. Давайте прикинем, сколько? Даже если ваш душ едва открыт, в минуту из него вытекает примерно 6 литров воды. А это 12 бутылочек воды, которые вы носите с собой для питья. Обычно человек принимает душ минут 10. Итого, чтобы помыться, нужно 120 полулитровых бутылок. Немало! 

Создайте файл <code>water.c</code> в вашей директории <code>~/workspace/pset1</code>. Программа должна подсчитывать сколько бутылочек воды уходит на душ зависимости от времени. То есть: 
<ol>
    <li>Программа запрашивает у пользователя количество минут, проведенных в душе</li>
    <li>Пользователь вводит положительное целое число</li> 
    <li>Программа выводит на экран количество бутылочек, израсходованных пользователем.</li> 
</ol> <pre class='lang-java line-numbers'><code>
username:~/workspace/pset1 $ ./water
minutes: 10
bottles: 120
</code></pre>
Для простоты в этот раз мы будем считать, что пользователь всегда вводит число минут верно, то есть, мы не проверяем, было ли введено положительное и целое число. Позднее мы научимся писать проверки, но пока достаточно и этого. 

Чтобы проверить правильность выполнения программы с помощью <code>check50,</code> нужно ввести следующую строку в терминале:

<pre class='lang-java line-numbers'><code>
check50 2015.fall.pset1.water water.c
</code></pre>
А если вы хотите посмотреть, как работает программа <code>water</code>, написанная сотрудниками курса выполните следующую команду: 

<pre class='lang-java line-numbers'><code>
~cs50/pset1/water
</code></pre>
<h2>Задание 2. С нами Марио!</h2><img data-id="0b5febbe-fd2a-4d14-be85-24b63f4320cf" data-max-width="307" alt="Гарвард CS50: задания первой недели (лекции 3 и 4) - 3" src="https://cdn.javarush.com/images/article/0b5febbe-fd2a-4d14-be85-24b63f4320cf/1024.jpeg">Знаете ли вы самого знаменитого водопроводчика в мире? С легкой руки компании Nintendo вымышленный усатый и немного полноватый дядечка в красной кепке стал героем для нескольких поколений геймеров. Если вы не знаете, о ком речь, вот вам <a href='http://www.gametores.com/oyun.php?id=155' rel='nofollow' target='_blank'>ссылка на классическую игру 1985 года</a>: поверьте, она всё ещё хороша и заслуживает внимания!  Также можно найти вариант классического Super Mario для смартфонов или оффлайновых эмуляторов.  Всё это нам нужно для общего развития, это еще, к сожалению, не задание;). А задание состоит вот в чем. В конце первого уровня Mario каждый игрок видел вот такую полупирамидку: 

Создайте файл <code>mario.c</code> в вашей директории <code>~/workspace/pset1</code>. Наша рограммка будет рисовать полупирамиду, подобную той, что вы видите, но прямо в консоли, без графики: каждый из блоков будет состоять из значка хэша (#). Даже если вы еще не сообразили, как это сделать, поверьте: это просто. Чтобы сделать задачу более интересной, добавим в неё возможность задавать высоту полупирамидки с помощью неотрицательного целого числа от 0 до 23. Высота пирамидки на картинке считается в самом высоком месте, то есть равна 8. Если пользователь неправильно вводит число, нужно попросить его сделать это ещё раз. Затем сгенерировать (с помощью printf пирамидку). 

Озаботьтесь тем, чтобы выровнять нижний левый угол вашей полупирамиды по левому краю окна терминала, как в примере ниже. Подчеркнутый текст — это то, что пользователь вводит самостоятельно. 

<pre class='lang-java line-numbers'><code>
username:~/workspace/pset1 $ ./mario

height: 8
       ##
      ###
     ####
    #####
   ######
  #######
 ########
#########
</code></pre>
Обратите внимание, что два крайних правых столбца имеют одинаковую высоту. Генерировать трубы, облака и самого Марио пока не стоит=). По крайней мере для этого задания. 

Если пользователь ввел неправильные данные (ввел не число, или число, которое меньше единицы или больше, чем 23), программа должна снова попросить его ввести данные, как в примере внизу, где подчеркнутый текст — то, что вводил пользователь с клавиатуры.  

Для считывания введенной строки используйте <code>GetInt</code>. Она может помочь проверить неправильный ввод, но не для всех случаев. 

<pre class='lang-java line-numbers'><code>
username:~/workspace/pset1 $ ./mario
Height: -2
Height: -1
Height: foo
Retry: bar
Retry: 1
##
</code></pre>
Чтобы скомпилировать программу, введите строку в терминале: 

<pre class='lang-java line-numbers'><code>
make mario
</code></pre>
или более прозрачный, но длинный вариант: 

<pre class='lang-java line-numbers'><code>
clang -o mario mario.c -lcs50
</code></pre>
после этого запустите программу на исполнение: 

<pre class='lang-java line-numbers'><code>
./mario
</code></pre>
Если вы хотите проверить правильность выполнения программы, запускайте <code>check50</code>:

<pre class='lang-java line-numbers'><code>
check50 2015.fall.pset1.mario mario.c
</code></pre>
А если вы хотите поиграться с версией mario, созданной ассистентами курса, mario набирайте следующую строку: 

<pre class='lang-java line-numbers'><code>
~cs50/pset1/mario
</code></pre>
<h2>Задание 3. Время получать сдачу</h2><img data-id="6ae937a7-c4f1-4f12-8f03-d7621650993c" data-max-width="710" alt="Гарвард CS50: задания первой недели (лекции 3 и 4) - 4" src="https://cdn.javarush.com/images/article/6ae937a7-c4f1-4f12-8f03-d7621650993c/1024.jpeg">В наших широтах мы такого не встречали, а в США, похоже, есть такая вот игрушка, изображенная на фото: цилиндры предназначены для монет разного диаметра (и номиналов), выдает их пружинный механизм, а сам агрегат можно закрепить на поясе ребенка-кассира. 

Однако что будет, если кто-то рассчитается с кассиром крупной купюрой? Представьте, сколько мороки будет с тем, чтобы посчитать монетки на сдачу. Для минимизации количества выдаваемых монет можно использовать так называемые «жадные» алгоритмы. Они, согласно определению Национального Института Стандартов и Технологии (NIST) всегда находят оптимальное решение на каждом шаге решения задачи, допуская, что конечное решение (полученное из совокупности таких шагов) также будет оптимальным. 

Что это значит? Представим, что кассир должен покупателю сдачу в 41 цент, а у него на поясе есть цилиндры с монетками для сдачи номиналом в 25, 10, 5 и 1 цент. Руководствующийся «жадным» алгоритмом кассир сразу же захочет выдать максимум, на первом же шаге. На этом шаге оптимальным или наилучшим решением будет выдать 25 пенсов. 41-25 = 16. Осталось выдать 16 пенсов. Очевидно, 25 пенсов слишком много, значит, остается 10. 16-10 = 6. Теперь выдаем по тому же принципу 5 пенсов, и затем — 1. Таким образом, покупатель получит всего четыре монеты номиналом 25, 10, 5 и 1 пенс. 

Оказывается, «жадная» пошаговая инструкция выдачи денег оптимальна не только для этого случая, но также для номиналов валюты США (и Евросоюза тоже). То есть, если у кассира достаточно монет любого номинала, алгоритм будет работать лучшим образом, то есть, выдаст минимальное количество монет из всех возможных случаев.

Итак, какое минимальное количество монеток нам нужно, чтобы дать сдачу? Это и есть наша третья задачка.

Создайте файл <code>greedy.c</code> в своей директории <code>~/workspace/pset1</code>.  

<strong>Дано: монетки номиналом 25, 10, 5, 1 цент</strong> 

<strong>Программа должна:</strong>
<ol>
<li>Спросить пользователя, сколько сдачи нужно выдать</li>
<li>Посчитать минимальное количество монет, с помощью которых можно это сделать</li> 
</ol><mark>Примечание:</mark> для ввода будем пользоваться функцией <code>GetFloat</code> из библиотеки CS50 и <code>printf</code> из стандартной библиотеки ввода/вывода для вывода. Кроме того, программа должна проверять корректность ввода. 

Мы попросили вас использовать <code>GetFloat</code>, чтобы пользователь мог вводить значение в долларах и центах через точку. Например, если мы должны $9.75, пользователь должен ввести 9.75, но не $9.75 или 975. 

Вы должны проследить, чтобы пользователь ввел число, которое имеет смысл. Скажем, неотрицательное, в этом функция <code>GetFloat</code> сама по себе не поможет. Если пользователь сделал неправильный ввод, нужно просить его повторить его и выполнять программу только с корректными данными. 

Остерегайтесь неточностей, свойственных числам с плавающей точкой. Например, 0.01 не может быть представлено непосредственно как <code>float</code>. Попробуйте использовать форматированный вывод, например, с 50 знаками после запятой, используя указанный ниже код: 

<pre class='lang-java line-numbers'><code>
float f = 0.01;
printf("%.50f\n", f);
</code></pre>
Кстати, перед тем, как что-либо считать, будет логично перевести всю сумму в центы, (и заодно преобразовать её из <code>float</code> в <code>int</code>), что поможет избежать массы ошибок и сложностей. 

Чтобы наш автоматический анализатор кода мог правильно проверить вашу задачу, убедитесь, что последняя строка вывода вашей программы не содержит никакой другой информации, кроме минимального количества монеток: целое число с символом \n после него (те, кто учится на JavaRush, прекрасно знают, о чём мы здесь говорим =)). 

Ниже — пример, как должен выглядеть результат работы вашей программы. 

<pre class='lang-java line-numbers'><code>
username:~/workspace/pset1 $ ./greedy
O hai! How much change is owed?
0.41
4
</code></pre>
Учитывая особенность чисел с плавающей точкой, можно игнорировать нуль и вводить такое число в форме .41. Конечно, пользователи, которые захотят проверить программу на возможность ввода некорректных данных по полной, должны увидеть что-то вроде:

<pre class='lang-java line-numbers'><code>
username:~/workspace/pset1 $ ./greedy
O hai! How much change is owed?
-0.41
How much change is owed?
-0.41
How much change is owed?
foo
Retry: 0.41
4
</code></pre>
Исходя из этих требований и примера, который вы увидели выше, ваш код, скорее всего, должен содержать какой-то цикл. 

Если во время тестирования приложения вы поймете, что цикл не останавливается, вы можете прервать выполнение программы комбинацией ctrl-c (иногда — многократной).

Как компилировать и выполнять программу вы уже знаете. Если вы хотите проверить правильность работы вашей программы, с помощью утилиты <code>check50</code>, в терминале введите следующую строку:

<pre class='lang-java line-numbers'><code>
check50 2015.fall.pset1.greedy greedy.c
</code></pre>
А если вам захочется поиграть с этой программой, выполненной ассистентами курса, пропишите следующую команду: 

<pre class='lang-java line-numbers'><code>
~cs50/pset1/greedy
</code></pre><h2>Как подтвердить правильность кода и получить оценки</h2><ol>
<li><p><strong>Вариант 1</strong></p>
<p>Если вам важно проверить именно правильность кода, а не получить итоговую оценку, вы можете его проверять и исправлять с помощью команды. </p>
<pre class='lang-java line-numbers'><code>
check50 2015.fall.pset1.name name.c
</code></pre>
<p>введенной в терминальной строке CS50 IDE? где <code>name</code> — название файла вашей задачи.</p></li>
<li><p><strong>Вариант 2</strong></p>
<p>Если же вы хотите получить оценки (по сути, тот же запуск check50, но с запоминанием результата и заполнением некоторых форм на английском, тогда проделайте следующие шаги:<ul>
<li><p>Шаг 1 из 2</p>
<ol>
<li>Когда приложения готовы, залогиньтесь в CS50 IDE.</li>
<li>В левом верхнем углу CS50 IDE в пределах его файлового браузера, а не терминального окна, кликните левой клавишей мыши с удержанием ctrl или правой клавишей мыши по вашему файлу hello.c  (тому, который лежит в директории pset1 ) и нажмите Download. Вы должны обнаружить, что браузер загрузил hello.c.</li>
<li>Повторите для water.c.</li>
<li>Повторите для mario.c.</li>
<li>Повторите для greedy.c.</li>
<li>В отдельной вкладке или окне залогиньтесь в <a href='http://apps.cs50.edx.org/cs50x/2016/@/portal' rel='nofollow' target='_blank'>CS50 Submit</a>.</li>
<li>Нажмите Submit в левом нижнем углу окна.</li>
<li>Под  Problem Set 1 на появившемся окне нажмите на Upload New Submission.</li>
<li>На появившемся окне жмите Add files…. Должно появиться окно с именем Open Files.</li>
<li>Пройдите путь к месту, куда загружен hello.c. Обычно он находится в папке Downloads или в той папке, которая назначена у вас по умолчанию для загрузки. Найдя hello.c, нажмите на него один раз чтобы отметить, затем нажмите Open.</li>
<li>Кликните Add files… снова, и окно Open Files снова появится.</li>
<li>Теперь найдите таким же образом файл water.c. Кликните по нему, затем кликните Open (или «Открыть»).</li>
<li>Теперь находите mario.c. И тоже кликайте и открывайте таким же образом.</li> 
<li>Все то же самое с файлом greedy.c.</li> 
<li>Нажмите Start upload чтобы начать загрузку ваших файлов на серверы CS50.</li>
<li>На появившемся экране вы увидите окно с надписью No File Selected. Если вы переместите курсор мыши в левую часть окра, вы увидите список файлов, которые вы загрузили. Нажмите на каждый, чтобы подтвердить содержание каждого из них. (Нет необходимости нажимать на другие кнопки или иконки). Если уверены, что готовы отослать файл на проверку, считайте, вы все сделали! Если хотите проверить свой код самостоятельно ещё раз или исправить что-либо, возвращайтесь в CS50 Submit и повторите эти шаги. Вы можете повторно отправить столько раз, сколько вы хотите; оцениваться будет только самое последнее представление.</li> 
</ol></ul></li>
<li><p>Шаг 2 из 2 (он не обязателен для оценки, если что=))</p>
<p>Теперь перейдите по ссылке <a href='https://www.edx.org/course/cs50s-introduction-computer-science-harvardx-cs50x' rel='nofollow' target='_blank'>https://www.edx.org/course/cs50s-introduction-computer-science-harvardx-cs50x</a> где вы обнаружите специальные формы. В них нужно ответить на несколько теоретических вопросов, и затем нажать Submit под ними. </p></li></ol>Вопросы со звездочками — обязательны: 
<ul>
<li>Alright, should've seen this one coming! In just a few sentences, what's a library? * (Кратко опишите, что такое библиотека)</li>
<li>In just a few sentences, what role does <code>#include &lt;cs50.h&gt;</code>
 play when you write it atop some program? *(какова роль строки #include &lt;cs50.h&gt;, которая фигурирует в верхней части кода некоторых программ?)</li>     
<li>About how many hours would you say you spent on Problem Set 0: Scratch?(сколько времени у вас заняли задачки нулевой недели (Scratch)</li>
<li>About how many hours would you say you spent on Problem Set 1: C?(как долго вы решали задачки первой недели по C?)</li> 
<li>What's your opinion of CS50x thus far? *(Ваше мнение о CS50 в настоящий момент, выбрать вариант нравится-не нравится)</li> 
<li>Have you asked for help from classmates or staff via CS50s Facebook Group at http://www.facebook.com/groups/cs50? *(обращались ли вы за помощью к другим студентам или ассистентам в группе facebook)</li> 
<li>Have you asked for help from classmates or staff via CS50s Subreddit at http://www.reddit.com/r/cs50 *(обращались ли вы за помощью к другим студентам или ассистентам через Subreddit)</li> 
<li>Have you asked for help from classmates or staff via Twitter using @cs50 or #cs50? *(просили ли вы помощи у других студентов или ассистентов в Twitter используя @cs50 или #cs50).</li>
</ul>  
Друзья, если возникают какие-то вопросы, пишите их в комментариях под этим руководством. Если вы не достигли пятого уровня JavaRush, чтобы получить приглашение на info, рекомендуем это сделать. Это бесплатно, интересно и не очень сложно.   
<h2>Ресурс кода:</h2><ol>
<li><p>Лекция три</p>
<p><a href='http://cdn.cs50.net/2015/fall/lectures/1/w/src1w.zip' rel='nofollow' target='_blank'>http://cdn.cs50.net/2015/fall/lectures/1/w/src1w.zip</a></p></li>
<li><p>Лекция четыре</p>
<p><a href='http://cdn.cs50.net/2015/fall/lectures/1/f/src1f.zip' rel='nofollow' target='_blank'>http://cdn.cs50.net/2015/fall/lectures/1/f/src1f.zip</a></p>
<p><a href='http://cdn.cs50.net/2015/fall/lectures/1/f/src1f/' rel='nofollow' target='_blank'>http://cdn.cs50.net/2015/fall/lectures/1/f/src1f/</a></p></li></ol><h2>Дополнительная литература</h2><a href='http://cpp.com.ru/kr_cbook/' rel='nofollow' target='_blank'>http://cpp.com.ru/kr_cbook</a> — русская версия классической книги по C от авторов языка — Брайана Кернигана и Дэнниса Ритчи. Широко известна в узких кругах как K&R. Перевод, правда, не самого нового издания. 

Почитайте первые три главы. Там будет несколько больше материала, чем вам нужно, но достаточно для решения задач.

<a href='https://computer.howstuffworks.com/c.htm' rel='nofollow' target='_blank'>https://computer.howstuffworks.com/c.htm</a> — ресурс, рекомендуемый авторами CS50. На английском языке. Стр. 1-7, 9 и 10.