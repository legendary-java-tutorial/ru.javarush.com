Генерация случайного числа в заданном диапазоне
<p>----------------------------------------</p>
Любой из нас рано или поздно встречается с необходимостью генерировать случайное число в заданном нами диапазоне будь то вещественное или целое число. Для чего? На самом деле это не важно, это может быть функция для расчета шанса для запуска какого нибудь события ...
<p>----------------------------------------</p>
Привет по ту сторону экрана.

Любой из нас рано или поздно встречается с необходимостью генерировать случайное число в заданном нами диапазоне будь то вещественное или целое число.

<img data-id="6630fc85-5aba-4ec1-96ff-4f03ef6028d9" data-max-width="850" alt="Генерация случайного числа в заданном диапазоне - 1" src="https://cdn.javarush.com/images/article/6630fc85-5aba-4ec1-96ff-4f03ef6028d9/1024.jpeg">Для чего? На самом деле это не важно, это может быть функция для расчета шанса для запуска какого нибудь события, получение случайного множителя или любого другая.

Итак, для чего это нужно разобрались, а именно для чего угодно :)

На самом деле методов получения псевдослучайного числа очень много, я же приведу пример с классом <code>Math</code>, а именно с методом <code>random()</code>;

Что же мы имеем?

Вызов метода <code>Math.random()</code> возвращает псевдослучайное вещественное число (<code>double</code>) из диапазона <code>[0;1)</code>, то есть, от 0 до 1 исключая 1, а значит максимальное число в диапазоне это 0.99999999999...

Хорошо, мы получили псевдослучайное число, но если нам нужен свой диапазон? К примеру, нам нужно псевдослучайное число из диапазона [0;100)?

<strong>Пишем код:</strong>

<pre class='lang-java line-numbers'><code>

	public static void main(String... args)
	{
		final double max = 100.; // Максимальное число для диапазона от 0 до max
		final double rnd = rnd(max);

		System.out.println("Псевдослучайное вещественное число: " + rnd);
	}

	/**
	 * Метод получения псевдослучайного вещественного числа от 0 до max (исключая max);
	 */
	public static double rnd(final double max)
	{
		return Math.random() * max;
	}
</code></pre>
Получилось не плохо, но <code>max</code> (в нашем случае) мы все равно не получим.

Для того чтобы получить случайное число в диапазоне [0;100] нам необходимо прибавить к нашему <code>max</code> 1, а затем преобразовать в целое число типа <code>int</code> или <code>long</code> (зависит от диапазонов которые Вы будете использовать).

<strong>Пишем код:</strong>

<pre class='lang-java line-numbers'><code>
	public static void main(String... args)
	{
		final int max = 100; // Максимальное число для диапазона от 0 до max
		final int rnd = rnd(max);

		System.out.println("Псевдослучайное целое число: " + rnd);
	}

	/**
	 * Метод получения псевдослучайного целого числа от 0 до max (включая max);
	 */
	public static int rnd(int max)
	{
		return (int) (Math.random() * ++max);
	}
</code></pre>
<strong>Примечание:</strong> Как видите переменная max была инкрементирована префиксной формой. (Если Вы не знаете что это советую почитать <a href="http://info.javarush.ru/L2CCCP/2015/05/30/%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%B8%D0%BD%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%B4%D0%B5%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.html">мою статью</a>)

Отлично, мы получили то что хотели, но если нам нужен диапазон не от 0, а к примеру [10;75]

<strong>Пишем код:</strong>

<pre class='lang-java line-numbers'><code>
	public static void main(String... args)
	{
		final int min = 10; // Минимальное число для диапазона
		final int max = 75; // Максимальное число для диапазона
		final int rnd = rnd(min, max);

		System.out.println("Псевдослучайное целое число: " + rnd);
	}

	/**
	 * Метод получения псевдослучайного целого числа от min до max (включая max);
	 */
	public static int rnd(int min, int max)
	{
		max -= min;
		return (int) (Math.random() * ++max) + min;
	}
</code></pre>
<strong>Разбор кода из метода <code>rnd</code>:</strong>

<pre><code>
Минимальное число диапазона = 10;
Максимальное число диапазона = 75;
max -= min; // Отнимаем от максимального значения минимальное для получения множителя псевдослучайного вещественного числа.
</code></pre>
Максимальное число после расчета равно <strong>65</strong>

Псевдослучайное вещественное число (к примеру) равно 0.18283417347179454 (Был получен при вызове <code>Math.random()</code>). Максимальное число перед умножением было инкрементировано префиксной формой. Максимальное число теперь 66

Умножаем 0.18283417347179454 на 66. Результат умножения равен 12.06705544913844. Преобразовываем результат умножения максимального числа на псевдослучайное вещественное число к типу целого числа <code>int</code>. Прибавляем минимальное число к преобразованному результату который равен 12. Возвращаем результат: 22

Как видно из разбора, даже если псевдослучайное вещественное число будет равно нулю, то мы вернем наш минимум в результате сложения нашего минимального числа с результатом умножения.

Надеюсь для Вас это было полезно и познавательно.

Успехов в освоении Java ;)

<strong>Еще пару моих статей:</strong>
<a target="_blank" href="http://info.javarush.ru/L2CCCP/2015/05/30/%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%B8%D0%BD%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%B4%D0%B5%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.html">Что такое инкрементирование и декрементирование</a>
<a target="_blank" href="http://info.javarush.ru/L2CCCP/2013/08/25/%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80-%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E.html">Оператор деления по модулю</a>