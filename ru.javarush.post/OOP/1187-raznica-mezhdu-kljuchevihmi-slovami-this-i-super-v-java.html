Разница между ключевыми словами this и super в Java
<p>----------------------------------------</p>
this и super - это два специальных ключевых слова в Java, которые представляют соответственно текущий экземпляр класса и его суперкласса. Java-программисты часто путают эти слова и обнаруживают слабую осведомленность об их специальных свойствах, о которых нередко ...
<p>----------------------------------------</p>
<code><strong>this</strong></code> и <code><strong>super</strong></code> - это два специальных ключевых слова в Java, которые представляют соответственно текущий экземпляр класса и его суперкласса. Java-программисты часто путают эти слова и обнаруживают слабую осведомленность об их специальных свойствах, о которых нередко спрашивают на интервью по Java Сore. Вот, например, пара вопросов, из того, что сразу приходит на ум, о <code><strong>this</strong></code> и <code><strong>super</strong></code>, Можно ли присвоить другое значение ключевому слову <code><strong>this</strong></code> в Java? и какая разница между ключевыми словами <code><strong>this</strong></code> и <code><strong>super</strong></code> в Java. Не знаете? Ну что ж, здесь я ответа не даю — его можно найти в конце статьи. 
<img data-id="11c5c495-3332-4dcd-accb-010df5c71293" data-max-width="850" alt="Разница между ключевыми словами this и super в Java - 1" src="https://cdn.javarush.com/images/article/11c5c495-3332-4dcd-accb-010df5c71293/1024.jpeg">Так вот, как я уже сказал в начале, главное отличие между <code><strong>this</strong></code> и <code><strong>super</strong></code> в Java в том, что <code><strong>this</strong></code> представляет текущий экземпляр класса, в то время как <code><strong>super</strong></code> - текущий экземпляр родительского класса. Вот один из примеров использования переменных <code><strong>this</strong></code> и <code><strong>super</strong></code> — вы наверняка уже видели примеры вызовов конструкторов одного из другого, т.н. вызовы конструкторов по цепочке, это возможно благодаря использованию ключевых слов <code><strong>this</strong></code> и <code><strong>super</strong></code>. Внутри класса для вызова своего конструктора без аргументов используется <code><strong>this()</strong></code>, тогда как <code><strong>super()</strong></code>используется для вызова конструктора без аргументов, или как его ещё называют, конструктора по умолчанию родительского класса. Между прочим, таким способом вызывать можно не только конструктор без аргументов, а и вообще любой другой конструктор, передав ему соответствующие параметры. Скоро мы увидим пример такого использования <code><strong>this</strong></code> и <code><strong>super</strong></code>. 

Ещё <code><strong>this</strong></code> и <code><strong>super</strong></code> в Java используются для обращения к переменным экземпляра класса и его родителя. Вообще-то, к ним можно обращаться и без префиксов <code><strong>super</strong></code> и <code><strong>this</strong></code>, но только если в текущем блоке такие переменные не перекрываются другими переменными, т.е. если в нем нет локальных переменных с такими же именами, в противном же случае использовать имена с префиксами придется обязательно, но это не беда, т.к. в таком виде они даже более читабельны. Классическим примером такого подхода является использование <code><strong>this</strong></code> внутри конструктора, который принимает параметр с таким же именем, как и у переменной экземпляра. Дальше в статье мы узнаем, какие ещё есть отличия между <code><strong>super</strong></code> и <code><strong>this</strong></code>, и рассмотрим некоторые примеры их использования.
<h2>Чем this и super похожи</h2>Прежде чем рассматривать отличия ключевых слов <code>this</code> и <code>super</code>, давайте посмотрим на некоторые их сходства:
<ol>
<li>И <code>this</code>, и <code>super</code> — это нестатические переменные, соответственно их нельзя использовать в статическом контексте, а это означает, что их нельзя использовать в методе main. Это приведет к ошибке во время компиляции "на нестатическую переменную <code>this</code> нельзя ссылаться из статического контекста". То же самое произойдет, если в методе main воспользоваться ключевым словом <code>super</code>.</li><br />
<li>И <code>this</code>, и <code>super</code> могут использоваться внутри конструкторов для вызова других конструкторов по цепочке, нпр., <code>this</code>() и <code>super</code>() вызывают конструктор без аргументов наследующего и родительского классов соответственно.</li></ol>В примере ниже мы сначала передаем вызов из конструктора без аргументов класса B в конструктор этого же класса B, принимающий один параметр типа <code>String</code>, из которого, в свою очередь, с помощью <code>super("")</code> вызывается конструктор с одним аргументом из суперкласса.

<pre class='lang-java line-numbers'><code>
class A{
   
    A(){
        System.out.println("Конструктор без аргументов класса A");
    }
   
    A(String args){
        System.out.println("Конструктор с одним аргументом класса A");
    }
}
 
class B extends A{
   
   B(){
        this(""); // вызов конструктора с одним аргументом класса B
        System.out.println("Конструктор без аргументов класса B");
    }
  
   B(String args){
        super(""); // вызов конструктора с одним аргументом класса A
        System.out.println("Конструктор с одним аргументом класса B");
    }
}
 
// Тест-класс и вывод 
public class Test {
   
    public static void main(String args[]) {      
       B b = new B();             
    }
 
}
</code></pre>
<strong>Вывод:

<em>Конструктор с одним аргументом класса A
Конструктор с одним аргументом класса B
Конструктор без аргументов класса B</em></strong>
<ol><li value="3">Внутри конструктора <code>this</code> и <code>super</code> должны стоять выше всех других выражений, в самом начале, иначе компилятор выдаст сообщение об ошибке. Из чего следует, что в одном конструкторе не может быть одновременно и <code>this()</code>, и <code>super()</code>.</li></ol><h2>Различия в super и this</h2>Теперь мы знаем как использовать ключевые слова <code>super</code> и <code>this</code> и понимаем для чего они нужны. Но есть ещё один вариант использования этих ключевых слов, о котором я не сказал - во Внутренних классах, где с их помощью очень удобно ссылаться на внешний класс, используя форму записи Outer.<code>this</code> для его текущего экземпляра и Outer.<code>super</code> — для его родителя. Не забудьте вместо Outer подставить имя внешнего класса. А теперь давайте кратко перечислим главные отличия между ключевыми словами <code>this</code> и <code>super</code>
<ol>
<li>переменная <code>this</code> ссылается на текущий экземпляр класса, в котором она используется, тогда как <code>super</code> — на текущий экземпляр родительского класса.</li><br />
<li>Каждый конструктор при отсутствии явных вызовов других конструкторов неявно вызывает с помощью <code>super()</code> конструктор без аргументов родительского класса, при этом у вас всегда остается возможность явно вызвать любой другой конструктор с помощью либо <code>this()</code>, либо <code>super()</code>.</li></ol>Пожалуй, это все, что можно сказать о различиях между ключевыми словами <code>this</code> и <code>super</code> в Java и о том, как они используются в программах. Как мы увидели, основное их назначение - вызывать один конструктор из другого и ссылаться на переменные экземпляра, объявленные в текущем классе и его родительском классе. Не забывайте, что это не совсем обычные переменные, а сейчас - ответ на мой вопрос, который я задавал в первом параграфе. Нет, переменной <code>this</code> нельзя присвоить новое значение, потому что она объявлена как final. Можете попробовать сделать это в IDE - получите ошибку компиляции "нельзя присвоить новое значение переменной <code>this</code> — она объявлена как final".

<em>Оригинал статьи <a href='http://www.java67.com/2013/06/difference-between-this-and-super-keyword-java.html' rel='nofollow' target='_blank'>здесь</a>.</em>