6 Java исключений, которые преследуют новичков
<p>----------------------------------------</p>
Время от времени я сталкиваюсь с разработчиками-новичками, которые застряли на понимании следующих простых исключений и мне приходиться все заново объяснять им. Скорей всего в подобной ситуации оказываются многие опытные Java разработчики, которые помогают ...
<p>----------------------------------------</p>
Время от времени я сталкиваюсь с разработчиками-новичками, которые застряли на понимании следующих простых исключений и мне приходиться все заново объяснять им. Скорей всего в подобной ситуации оказываются многие опытные Java разработчики, которые помогают новичкам справиться со следующими исключениями. Поэтому я решил написать эту статью и в будущем ссылаться на нее. Комментарии и добавления в список исключений приветствуются.

<img data-id="9ba8df8d-e8ae-4708-a824-618233ab8ee8" data-max-width="850" alt="6 Java исключений, которые преследуют новичков - 1" src="https://cdn.javarush.com/images/article/9ba8df8d-e8ae-4708-a824-618233ab8ee8/1024.jpeg"><ol>
<li><p><code><strong>NoClassDefFoundError</strong></code>: Это одно из тех исключений, которое сообщением <code>Exception in thread “main“ NoClassDefFoundError</code> часто приветствует новых разработчиков в мире Java программирования. Они пишут helloworld-программу, идут в командную строку и пишут “<em>java</em>“ — команду для выполнения и «БАМ»:-) Немного времени спустя новички поймут как исправить это исключение и увидят как выводиться их hello world.</p>
<p><code><strong>NoClassDefFoundError</strong></code> случается тогда, когда виртуальная машина Java (JVM) пытается получить доступ к классу во время исполнения и этот класс не находится, хотя тот же класс находился во время компиляции. Чаще всего это исключение случается при запуске Java программы через команду “java“ с неверным значением параметра <code>classpath</code>. [<code>Classpath</code> – это параметр, который задается через командную строку или через переменную окружения, указывающий виртуальной Java машине или Java компилятору где искать классы или пакеты объявленные пользователем – прим. переводчика] Возможные причины исключения:</p>
<ul><li>Класс недоступен в <code>Classpath</code>.</li>
<li>Часто скрипт, который исполняется при запуске операционной системы, изменяет значение переменной окружению <code>classpath</code>. Это можно проверить выполнив команду “<code>set</code>” в командной строке в Windows и посмотрев включено ли определение класса в значение <code>classpath</code>. При желании дальнейшее изучение этого исключения можно продолжить в блоге <a href="https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html)" rel="nofollow" target="_blank">Javarevisited</a>.</li></ul></li>
<li><p><code><strong>ClassNotFoundException</strong></code>: Исключение <code>ClassNotFoundException</code> это еще одно исключение, из-за которого новичкам, только начинающим программировать на Java, снятся кошмары. Интересно что для среднего разработчика нужно некоторое время чтобы перестать путать <code>ClassNotFoundException</code> и <code>NoClassDefFoundError</code> между собой. И поэтому вопрос о разнице этих двух исключений остается одним из часто задаваемых на собеседовании на позицию junior Java разработчика.<br>
<code>ClassNotFoundException</code> случается когда JVM пытается загрузить определенный класс и не обнаруживает такого же в <code>classpath</code>. Обычно новички сталкиваются с этим в коде, который подключается к базе данных используя JDBC библиотеку. Пытаясь загрузить драйвер с помощью следующего кода <code>Class.forName( “JDBCdriver”)</code>. Хороший материал по <code>ClassNotFoundException</code> можно найти <a href="http://javarevisited.blogspot.in/2011/08/classnotfoundexception-in-java-example.html" rel="nofollow" target="_blank">здесь</a>. Так же рекомендуется ознакомиться и понять концепцию загрузчиков классов в Java чтобы эффективно справляться с этим исключением. Вы возможно захотите посмотреть <a href="http://javarevisited.blogspot.in/2011/01/how-classpath-work-in-java.html" rel="nofollow" target="_blank">следующую страницу о том как настроить classpath в окружениях Win/Unix</a>. А так, как следует из документации Java, это исключение случается в следующих случаях:</p><ol>
        <li>Когда пытаются загрузить класс используя метод <code>Class.forName</code> и файл <code>.class</code> не существует в <code>classpath</code>. Это самый частый случай из всех трех.</li>
        <li>Когда загрузчик класса пытается загрузить класс используя метод <code>loadClass</code>.</li>
        <li>Когда загрузчик класса пытается загрузить класс используя <code>findSystemClass</code>.</li></ol></li>
<li><p><code><strong>NullPointerException</strong></code>: исключение <code>NullPointerException</code>понять легче и новички с ним справляются быстрее нежели с двумя предыдущими. В тоже время причину исключения очень легко найти так как приводится номер строки где оно случилось. В первую очередь исключение случается когда JVM пытается обратиться к null в том месте где должен был быть объект. Чаще всего это случается когда JVM пытается вызвать метод используя объект и оказывается что объект равен <code>null</code>. Другие случаи, как упоминается в документации Java, могут быть следующими:</p>
<ol>
<li>Получая доступ к или изменяя метод объекта, который равен <code>null</code>.</li>
<li>Получая длину массива когда он равен <code>null</code>.</li>
<li>Получая доступ к или меняя объекты, которые являются заключенными в массив, который равен <code>null</code>.</li>
</ol>Самый простой способ избежать этого исключения это добавить проверку на неравенство <code>null</code> (далее – проверка на null – прим. переводчика). Поэтому рано или поздно разработчик начинает это использовать и тогда проверки на null появляются везде. Интересно что использовать везде проверку на <code>null</code> не считается примером хорошего программирования. Основная причина почему проверка на <code>null</code> используется разработчиками это передавать объект <code>null</code> в случаи ошибки. В место этого пример хорошего программирования, который должен пропагандироваться программистами, это передавать пустой объект когда условие для главной/рабочей ветви программы не удовлетворяется. Это в свою очередь уменьшило бы количество проверок на <code>null</code>. Все-таки легче говорить нежели применять это на практике.:)<p></p></li>
<li><code><strong>ClassCastException</strong></code>: это еще одно из исключений, с которым знакомятся новички когда пытаются привести объект к классу, экземпляром которого он не является. Опять же его довольно легко понять, найти причину и исправить. Один из способов избежать этого исключения, когда во время исполнения тип объекта не известен, это использовать проверку является ли объект экземпляром определенного класса: “<code>instanceof</code>”.<p></p></li>
<li><code><strong>ArrayIndexOutOfBoundsException</strong></code>: название этого исключения говорит само за себя. Оно случается когда JVM пытается получить доступ к элементу массива используя неверный индекс, на пример, отрицательный (-1) или больший или равный размеру массива. Его легко понять, найти причину и исправить. Следующий пример кода поможет избежать этого исключения: <code>for( index = 0; index &lt; array.length; index++ )</code><br>
Обратите внимание что индекс начинается с 0 и возрастает до величины на 1 меньше размера массива.<p></p></li>
<li><p><code><strong>IllegalArgumentException</strong></code>: Это исключение самое простое, его легко понять, найти его причину и исправить. Оно случается когда JVM пытается передать методу неподходящий аргумент или аргумент неправильного типа.</p></li>
</ol>