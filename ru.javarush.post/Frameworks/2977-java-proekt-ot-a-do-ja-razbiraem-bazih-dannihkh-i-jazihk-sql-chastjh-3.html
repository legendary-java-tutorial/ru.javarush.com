Разбираем базы данных и язык SQL. (Часть 3) - "Java-проект от А до Я"
<p>----------------------------------------</p>
Здравия желаю, дамы и господа, продолжаем говорить о БД, SQL и прочем. В сегодняшнем материале будет часть теории и часть практики. Напомню, что в прошлый раз мы поговорили о том...
<p>----------------------------------------</p>
<em>Статья из серии о создании Java-проекта (ссылки на другие материалы — в конце). Ее цель — разбор ключевых технологий, итог — написание телеграм-бота.</em><ul>
	<li><a href="#topic1">Проверка домашнего задания</a><ul>
	<li><a href="#topic2">Добавляем первичный ключ</a>
	</li><li><a href="#topic3">Добавляем Молдову</a></li>
	<li><a href="#topic4">Создаем таблицу cities</a></li>
	<li><a href="#topic5">Добавляем внешний ключ в cities</a></li>
	<li><a href="#topic6">Бонусная часть. Тестирование</a></li></ul></li>
	<li><a href="#topic7">Оператор SELECT</a><ul>
	<li><a href="#topic8">Параметр WHERE</a></li>
	<li><a href="#topic9">Параметр ORDER BY</a></li>
	<li><a href="#topic10">Параметр GROUP BY</a></li></ul></li>
	<li><a href="#topic11">Домашнее задание</a></li>
	<li><a href="#topic12">Вывод</a></li>
</ul><img data-max-width="800" data-id="1007352f-f38d-4a91-9299-5b13a161c005" src="/images/article/1007352f-f38d-4a91-9299-5b13a161c005/800.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 1">Здравия желаю, дамы и господа, продолжаем говорить о БД, SQL и прочем.

В сегодняшнем материале будет часть теории и часть практики. Напомню, что <a href="https://javarush.com/groups/posts/2957-java-proekt-ot-a-do-ja-razbiraem-bazih-dannihkh-i-jazihk-sql-chastjh-2" target="_blank">в прошлый раз</a> мы поговорили о том, как все настроить, как создать БД, таблицу и получить из нее данные.

Пришло время посмотреть, получилось ли что с ДЗ. По моим ощущениям, половину можно было сделать только основываясь на прошлой статье.

Оказалось, чтобы нормально собрать приложение и сделать все более-менее красиво, нужно рассказать о базах данных, а чтобы о них рассказать, нужно потратить много времени.<h2 id="topic1">Проверка домашнего задания</h2><img data-max-width="512" data-id="4b1f58fd-8edf-41ad-a214-93552d63d6f9" src="/images/article/4b1f58fd-8edf-41ad-a214-93552d63d6f9/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 2">Всем, кто успешно сделал задачи — огромный респект. Это значит, вы понимаете, что это нужно только вам и помогает это только вам. 

Тем, кто пренебрег моей задачей, напомню условие:<em><ol>
<li>Нужно добавить в схему таблицы country первичный ключ (PRIMARY KEY) из поля ID.</li>
<li>Добавить в таблицу country еще одну страну — Молдову.</li>
<li>По схеме предыдущей статьи создать таблицу city, в которой будут все поля, что описаны. Имена полей будут следующие: id, name, country_id, population.</li>
<li>Добавить первичный ключ в таблице city.</li>
<li>Добавить внешний ключ в таблице city.</li></ol></em>Чтобы начать, воспользуемся первой частью прошлой статьи и зайдем в терминал базы данных.<h3 id="topic2">Добавляем первичный ключ</h3>Добавить первичный ключ (PRIMARY KEY) можно двумя способами: сразу же при создании таблицы, а также после создания, используя ALTER TABLE.<h4>Первичный ключ во время создания таблицы</h4>Так как у нас уже создана таблица, и без ее удаления мы не сможем показать данный подход в рамках этой базы данных, просто создадим временную базу данных test, в которой все сделаем. Введем следующие команды:<ul>

<li><p>создаем новую базу данных:</p>

<p><span class="text-bold">$ CREATE DATABASE test;</span></p></li>

<li><p>создаем таблицу с добавлением первичного ключа:</p>

<p><span class="text-bold">$ CREATE TABLE country(id INT, name VARCHAR(30), PRIMARY KEY (id));</span></p></li></ul>В общем, ничего сложного. После объявления переменных добавляется следующая часть <span class="text-bold">PRIMARY KEY (id)</span>, где в скобках передается имя поля, которое будет первичным ключом.

И смотрим, как изменилась схема таблицы:

<span class="text-bold">$ DESC country;</span><img data-max-width="512" data-id="90ed247f-fc84-42c0-b431-abd87f61aaa0" src="/images/article/90ed247f-fc84-42c0-b431-abd87f61aaa0/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 3">Как видим, в поле <span class="text-bold">Key</span> для записи id появилось значение <span class="text-bold">PRI</span>.<h4>Первичный ключ после создания таблицы</h4>Как я уже говорил ранее, первый ключ после создания таблицы можно присвоить при помощи <span class="text-bold">ALTER TABLE</span>. Этот пример мы и выполним в нашей базе данных <span class="text-bold">cities</span>:<ul>

<li><p>перейдем в нашу БД из тестовой:</p>

<p><span class="text-bold">$ USE cities;</span></p></li>

<li><p>проверим, что мы точно в нашей БД (там должно быть еще одно поле — population). Для этого напишем:</p>

<p><span class="text-bold">$ DESC population;</span></p></li>

<l><p>все правильно, таблица наша. Напишем следующее:</p>

<p><span class="text-bold">$ ALTER TABLE country ADD PRIMARY KEY (id);</span></p>

<li><p>и проверим сразу же командой:</p>

<span class="text-bold">$ DESC country;</span><p></p></li></l></ul><img data-max-width="512" data-id="bf26701f-eb02-42c9-9c7d-208ce7645566" src="/images/article/bf26701f-eb02-42c9-9c7d-208ce7645566/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 4">Как видно из картинки, все правильно, значение <span class="text-bold">PRI</span> находится именно там, где и должно быть.

Кстати, ведь мы позанимались с тестовой БД. Теперь же ее нужно удалить: зачем нам захламлять сервер, верно?

Для этого используем уже довольно-таки известную команду:

<span class="text-bold">$ DROP DATABASE test;</span><img data-max-width="512" data-id="8be43b5e-e9c5-458f-b55e-209aa7deac09" src="/images/article/8be43b5e-e9c5-458f-b55e-209aa7deac09/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 5"><h3 id="topic3">Добавляем Молдову</h3>Для начала нужно определиться, что мы будем записывать. Следующий ID у нас будет 4. Имя будет Moldova, а ее население составляет 3550900. Поэтому выполняем уже известную нам команду INSERT INTO:

<span class="text-bold">$ INSERT INTO country VALUES (4, ‘Moldova’, 3550900);</span>

И проверяем, точно ли это значение есть в БД:

<span class="text-bold">$ SELECT * FROM country WHERE id = 4;</span><img data-max-width="512" data-id="b5be7736-2721-4846-8436-fa183b0ee8bd" src="/images/article/b5be7736-2721-4846-8436-fa183b0ee8bd/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 6">В запросе на получение данных я сразу определил, по какому полю будет выполняться поиск, поэтому мы получили только одну запись, которая нам и была нужна.<h3 id="topic4">Создаем таблицу cities</h3>По схеме из <a href="https://javarush.com/groups/posts/2946-java-proekt-ot-a-do-ja-razbiraem-bazih-dannihkh-i-jazihk-sql" target="_blank">первой статьи</a> о БД, получим нужную информацию о таблице. В ней будут следующие поля:<ul>
<li>id — уникальный идентификатор;</li>
<li>name — имя города;</li>
<li>country_id — внешний ключ страны;</li>
<li>population — население города.</li></ul>Каждый раз писать уникальный ID как-то напряжно, вы не находите? Хочется отдать это на откуп <s>властям</s> MySQL. И такой способ есть — <span class="text-bold">AUTO INCREMENT</span>. Нужно это добавить в цифровое поле, и если мы не будем передавать явно значения, MySQL сам увеличит ID на единицу по сравнению с предыдущим.

Поэтому создание таблицы будет выглядеть так:

<span class="text-bold">$ CREATE TABLE city (
   id INT AUTO_INCREMENT,
   name VARCHAR(30),
   country_id INT,
   population INT,
   PRIMARY KEY (id));</span>

Посмотрим на схему таблицы, все ли правильно сделали:

<span class="text-bold">$ DESC city;</span><img data-max-width="512" data-id="a25cb30d-463e-4791-b883-2c2e684ecee9" src="/images/article/a25cb30d-463e-4791-b883-2c2e684ecee9/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 7">Как видно из схемы таблицы, у нас появилось новое описание для поля id — auto_increment. Значит, мы все правильно сделали. 

Проверим данные уже на полностью настроенной таблице. Для этого сделаем последнюю часть задания — внешний ключ.<h3 id="topic5">Добавляем внешний ключ в cities</h3>Для внешнего ключа будет вот такая команда:

<span class="text-bold">$ ALTER TABLE city ADD FOREIGN KEY (country_id) REFERENCES country(id);</span>

И сразу же проверим, что там со схемой таблицы: не изменилась ли она часом?

<span class="text-bold">$ DESC city;</span>
<img data-max-width="512" data-id="849aadf4-9186-4943-90c1-644a35298fcb" src="/images/article/849aadf4-9186-4943-90c1-644a35298fcb/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 8"><h3 id="topic6">Бонусная часть. Тестирование</h3>Забыл я добавить в задание — заполнить данными, которые были в скрине первой части. Забыл, значит сейчас сам сделаю. А тем, кому интересно, можете сами проделать это без меня и потом сверим ;)

Там были Харьков, Киев, Минск, Одесса, Воронеж, и еще добавим Кишинев. 

Но этот раз ID-шники не будем передавать, пропустим их:

<span class="text-bold">$ INSERT INTO city (name, country_id, population) VALUES 
   (‘Kharkov’, 1, 1443000),
   (‘Kyiv’, 1, 3703100),
   (‘Minsk’, 3, 2545500),
   (‘Odessa’, 1, 1017699),
   (‘Voronezh’, 2, 1058261),
   (‘Kishinev’, 4, 695400);</span>

Как видно, можно через одну команду INSERT INTO делать несколько записей одновременно. Удобная вещь, запоминайте)

И сразу же посмотрим, что там в таблице:

<span class="text-bold">$ SELECT * FROM city;</span><img data-max-width="512" data-id="175eb32e-68d8-4c74-afd1-1a6bb49b0985" src="/images/article/175eb32e-68d8-4c74-afd1-1a6bb49b0985/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 9"><span class="text-bold">AUTO_INCREMENT</span> — сработал именно так, как мы хотели. ID-шники все заполнены, хоть мы их и не передавали.

Внешний ключ — штука зависимая. Чтобы проверить, правильно ли она работает, можно постараться записать внешний ключ, которого во внешней таблице нет. 

Допустим, мы решили, что id = 5 — это Казахстан. Но реально его в таблице стран нет. И чтобы проверить, что БД будет ругаться, добавим город — Астана:

<span class="text-bold">$ INSERT INTO city (name, country_id, population) VALUES (‘Astana’, 5, 1136156);</span>

И мы закономерно получаем ошибку:<img data-max-width="512" data-id="997a7f4d-3d9d-4c35-a9f4-9354802cbc8d" src="/images/article/997a7f4d-3d9d-4c35-a9f4-9354802cbc8d/1024.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 10">Вот теперь внешний ключ следит за тем, чтобы мы не попытались присвоить городу страну, которой нет в нашей БД.

На этом часть по домашнему заданию можно считать завершенной — вперед к новому :)

<div class="email-subscription"><iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no"></iframe></div><h2 id="topic7">Оператор SELECT</h2>Ну что, все уже не кажется таким страшным, да? Хочу еще раз отметить, что для Java-разработчиков знание БД — это must have. Без БД никуда. Да, уже хочется начать писать приложение, согласен. Но это нужно. Поэтому так и будем продолжать.

При помощи оператора SELECT мы получаем данные из БД. То есть это типичная DML операция (забыли уже, что это?...))) Перечитайте статьи ДО).

Чем хороши реляционные базы данных? У них огромная функциональность по агрегации и получению данных. Для этого дела и используется оператор SELECT. 

Казалось бы, да что там может быть сложного, да? А вот оказывается, что разбираться еще прилично) Нам важно понять основы, от которых уже можно будет отталкиваться.

Самый простейший запрос с оператором SELECT — выбрать все данные из одной таблицы.

Мне очень понравилось описание из вики о том, в каком именно порядке должны идти операторы в SELECT запросе, поэтому нагло скопирую его сюда:

<pre class="lang-java line-numbers"><code>
SELECT
  [DISTINCT | DISTINCTROW | ALL]
  select_expression,...
FROM table_references
[WHERE where_definition]
[GROUP BY {unsigned_integer | col_name | formula}]
[HAVING where_definition]
[ORDER BY {unsigned_integer | col_name | formula} [ASC | DESC], ...]
</code></pre>
Здесь видно, что нельзя поставить вначале оператор GROUP BY, а потом уже WHERE. Это нужно запомнить, чтобы потом не было обиды за ошибки, которые непонятно откуда берутся.

<span class="text-bold">$ SELECT * FROM city;</span><img data-max-width="512" data-id="69a252d6-a115-40d3-a3b4-e8c6ef85a133" src="/images/article/69a252d6-a115-40d3-a3b4-e8c6ef85a133/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 11">Но выгрести все данные для нас явно не прикольно. Это точно также, если бы мы хотели гвозди забивать микроскопом <a href="https://lurkmore.to/%D0%97%D0%B0%D0%B1%D0%B8%D0%B2%D0%B0%D1%82%D1%8C_%D0%B3%D0%B2%D0%BE%D0%B7%D0%B4%D0%B8_%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%BA%D0%BE%D0%BF%D0%BE%D0%BC" rel="nofollow" target="_blank">[1]</a>, <a href="https://lurkmore.to/%D0%A4%D0%B0%D0%B9%D0%BB:Ballistic-banya.jpg" rel="nofollow" target="_blank">[2]</a>.

Так как БД делает намного быстрее операции фильтрации, сортировки и агрегации, чем Java-код, то лучше это дело и оставить БД на откуп. 

Поэтому путем усложнения задач будем открывать новый функционал.<h3 id="topic8">Параметр WHERE</h3>Чтобы отфильтровать выборку, используется слово <span class="text-bold">WHERE</span>. Толковать это нужно следующим образом: SELECT * FROM tablename (выбрать все поля из таблицы tablename) WHERE talbe_row = 1 (где в записях поле table_row равно 1).

Важно отметить, что порядок ключевых слов в запросе важен.

Нельзя написать WHERE a =1 FROM table_name SELECT *. Для русского языка это ок, и некоторым может показаться не таким уж зашкваром, но для SQL это недопустимо. 

Пишем следующий запрос:

<span class="text-bold">$ SELECT * FROM city WHERE country_id = 1;</span><img data-max-width="512" data-id="64c1c2a4-f353-443c-bdf2-7807cedc8691" src="/images/article/64c1c2a4-f353-443c-bdf2-7807cedc8691/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 12">И мы выбрали украинские города. Неплохо, да?

А если мы хотим не только украинские, но и белорусские?

Для этого дела мы можем перечислить коллекцию значений, которые может принимать поле:

<span class="text-bold">$ SELECT * FROM city WHERE country_id IN (1, 3);</span><img data-max-width="512" data-id="eb93ad61-df6d-41fc-875f-bd02adc38a20" src="/images/article/eb93ad61-df6d-41fc-875f-bd02adc38a20/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 13">И уже в ответе у нас города из двух стран.

А что, если есть несколько условий для фильтрации? Допустим, мы хотим города с населением более двух миллионов? Для этого используют слова <span class="text-bold">OR</span> и <span class="text-bold">AND</span>:

<span class="text-bold">$ SELECT * FROM city WHERE country_id IN (1, 3) AND population &gt; 2000000;</span><img data-max-width="512" data-id="d16bf286-1f19-4282-9a9e-90169ba76d6b" src="/images/article/d16bf286-1f19-4282-9a9e-90169ba76d6b/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 14">Отлично, а что если нам нужно добавить еще одно условие — по поиску имен через регулярное выражение (описывать регулярки здесь я не буду: вот человек <a href="https://javarush.com/groups/posts/2679-regex-20-korotkikh-shagov-dlja-osvoenija-reguljarnihkh-vihrazheniy-chastjh-1" target="_blank">“коротко” в 4 частях</a> сделал это)? Например, мы помним, как пишется город, но не полностью…

Для этого в выражении фильтрации можно добавить ключевое слово <span class="text-bold">LIKE</span>:

<span class="text-bold">$ SELECT * FROM city WHERE country_id IN (1, 3) AND population &gt; 2000000 OR name LIKE “%hark%”;</span><img data-max-width="512" data-id="dbd76a6d-8391-4f48-b7cb-012b1c8ba4cb" src="/images/article/dbd76a6d-8391-4f48-b7cb-012b1c8ba4cb/1024.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 15">И таким способом мы получили еще и Харьков. 

По итогу можем сказать, что у нас очень даже неплохой поиск получился.

Но вот хотелось бы отсортировать не по ID-шнику, а по населению, но как? Да очень просто…<h3 id="topic9">Параметр ORDER BY</h3>При помощи ORDER BY мы можем отсортировать записи, которые получили по определенному полю. Сортирует он как числа, так и строки. 

Расширим предыдущий запрос, отсортируем по населению, добавив ORDER BY population:

<span class="text-bold">$ SELECT * FROM city WHERE country_id IN (1, 3) AND population &gt; 2000000 OR name LIKE “%hark%” ORDER BY population;</span><img data-max-width="512" data-id="d56b1e63-707f-44a0-bf5b-d6d17d413fe9" src="/images/article/d56b1e63-707f-44a0-bf5b-d6d17d413fe9/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 16">Как мы видим, сортировка произошла в натуральном порядке, то есть по возрастанию. 

А если мы хотим наоборот? Для этого нужно добавить слово DESC:

<span class="text-bold">$ SELECT * FROM city WHERE country_id IN (1, 3) AND population &gt; 2000000 OR name LIKE “%hark%” ORDER BY population DESC;</span><img data-max-width="512" data-id="ab95b26c-0911-4da1-b13a-b05e3a50f0a3" src="/images/article/ab95b26c-0911-4da1-b13a-b05e3a50f0a3/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 17">Теперь сортировка идет по уменьшению населения. И делает это БД очень быстро: никакие там <span class="text-bold">Collections.sort</span> не идут в сравнение. 

Теперь отсортируем по строкам, по имени в обратном порядке:

<span class="text-bold">$ SELECT * FROM city WHERE country_id IN (1, 3) AND population &gt; 2000000 OR name LIKE “%hark%” ORDER BY name DESC;</span><img data-max-width="512" data-id="7a699b20-7880-436e-8617-9e44791c063e" src="/images/article/7a699b20-7880-436e-8617-9e44791c063e/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 18"><h3 id="topic10">Параметр GROUP BY</h3>Используется для группировки записей по определенным полям. Обычно это нужно, чтобы применять агрегатные функции… А что такое агрегатные функции?))

Есть смысл группировать по каким-то полям, если они одинаковые для разных записей. Разберем, что имеется в виду, на нашем примере. Скажем, в городах есть внешние ключи — ID-шники стран. Так вот, ID одинаков для городов из одной страны. Поэтому можно взять и сгруппировать записи по ним:

<span class="text-bold">$ SELECT country_id, COUNT(*) FROM city GROUP BY country_id;</span><img data-max-width="512" data-id="37498854-5efc-4e52-a390-8dc20d931618" src="/images/article/37498854-5efc-4e52-a390-8dc20d931618/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 19">Но без агрегирующих функций это выглядит как-то блекло, согласитесь. 

Поэтому рассмотрим несколько самых распространенных функций:<ul>
<li>COUNT — количество записей, можно без группировки, используют как <span class="text-bold">COUNT(*)</span>. В случае же группировки по какому-то полю — COUNT(groupped_field);</li>
<li>MAX — находит максимальное значение по определенному полю;</li>
<li>MIN — находит минимальное значение по определенному полю;</li>
<li>SUM — находит сумму по определенному полю;</li>
<li>AVG — находит среднее значение.</li></ul>Вообще эти функции можно использовать и без группировки, только тогда будет выведено только одно поле. 

Попробуем их для нашего населения городов:

<span class="text-bold">$ SELECT COUNT(*) FROM city;</span><img data-max-width="512" data-id="5511ea55-b948-41cc-8810-c745a7d2935a" src="/images/article/5511ea55-b948-41cc-8810-c745a7d2935a/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 20">Что попросили, то и получили. Просто количество записей. Иногда это бывает полезно. Например, если нам нужно узнать количество статей какого-то автора. Не нужно выгребать их из БД и уже считать. Можно просто использовать COUNT().

<span class="text-bold">$ SELECT AVG(population) FROM city;</span><img data-max-width="512" data-id="bc0faf7b-6c64-49e2-817e-4f43997aa5ad" src="/images/article/bc0faf7b-6c64-49e2-817e-4f43997aa5ad/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 21"><span class="text-bold">$ SELECT MIN(population) FROM city;</span>

И здесь уже вступает в силу группировка. Например, стоит задача получить самый малочисленный город в стране. Уже знаете, как это сделать? Попробуйте сами, потом смотрите:

<span class="text-bold">$ SELECT country_id as Страна, MIN(population) FROM city WHERE  GROUP BY country_id;</span><img data-max-width="512" data-id="00a33cc6-110a-4b09-83b4-b776efae46da" src="/images/article/00a33cc6-110a-4b09-83b4-b776efae46da/512.jpeg" alt="&quot;Java-проект от А до Я&quot;: разбираем базы данных и язык SQL. Часть 3 - 22">Пока что мы видим только ID-шник страны, но это не беда — в следующий раз все сделаем. А так уже есть результат, и мы получили, что хотели — самый малочисленный город страны с ID = 1.

С остальными функциями будет то же самое. Важно отметить, что выгребать все поля через * при использовании группировки и агрегации не получится! Подумайте над этим ;)<h2 id="topic11">Домашнее задание</h2>По итогу предыдущих статей видно, что домашнее задание заходит, поэтому продолжим))

Да, все кто сделает ДЗ — продолжаем ставить “+” в комментариях. Это важно для меня, что тема домашнего задания интересна вам, чтобы я продолжал ее делать и далее.

Да, я читаю вашу комментарии регулярно. Отвечаю, конечно, реже. 

Я видел, что просили давать сложнее задачи по SQL. Пока мы не выучим джоины, интересных задач не будет, поэтому будут те, которые нужны мне для дальнейшего материала.<h3>Задачи:</h3><ol>Разобраться с оператором <span class="text-bold">HAVING</span> и написать пример запроса для таблиц из нашего примера. Если нужно добавить какие-то поля или ещё значений, чтобы было нагляднее — добавляйте. Кто хочет — пишите в комментариях свой пример решения: так я его еще и проверить смогу, если успею.
<li>Установить MySQL Workbench для работы с БД через UI. Я думаю, мы уже достаточно практиковались с работой из консоли. Подключиться к БД. Если используете что-то другое для работы с БД, смело скипайте это задание. Здесь и дальше я буду использовать только MySQL Workbench.</li>
<li>Написать запросы на получение по нашим данным:<ol tab="a">
<li>самой мало- / многочисленной страны;</li>
<li>среднее количество жителей в стране;</li>
<li>среднее количество жителей в странах, чьи имена заканчиваются на “a”;</li>
<li>количество стран, у которых население больше четырех миллионов;</li>
<li>отсортировать страны по уменьшению количества жителей;</li>
<li>отсортировать страны по имени в натуральном порядке.</li></ol></li></ol><h2 id="topic12">Вывод</h2>Сегодня мы подробно разобрали домашнее задание из прошлого урока. Причем я считаю это важным и для тех, кто не сделал его, и для тех, кто сделал. Для первых это возможность узнать ответ, а для вторых — сверить со своим результатом.

<span class="text-bold">Подписывайтесь на <a href="https://github.com/romankh3" rel="nofollow" target="_blank">мой гитхаб аккаунт</a>, чтобы быть в курсе изменений по проекту. Я буду там вести всю кодовую базу. Все будет проходить в этой <a href="https://github.com/JavaRushCommunity" rel="nofollow" target="_blank">организации</a>.</span>

Далее мы обсудили оператор SELECT. Он самый важный для нас. Именно по нему будут проходить все запросы на получение данных, и мы должны его понимать. 

Самое главное — помнить порядок добавления параметров (WHERE, ORDER BY, GROUP BY и так далее).

Да, я не рассказал всего что можно, но я и цели такой не ставил перед собой. 

Да, я знаю что вы уже жаждете писать приложение. Наберитесь терпения, все это нужно. И для проекта, и для вашего профессионального роста.

Пока ждете, убедитесь, что Гит уже знаком для вас. Я его буду использовать уже по умолчанию, как известный инструмент. 

Спасибо всем за прочтение. В следующей статье поговорим о связях в БД и джоинах. Вот там-то и будут крутые задачи))

<h4><a href="https://javarush.com/groups/posts/2935-java-proekt-ot-a-do-ja-pishem-realjhnihy-proekt-dlja-portfolio#articles" target="_blank">Список всех материалов серии в начале этой статьи.</a></h4>